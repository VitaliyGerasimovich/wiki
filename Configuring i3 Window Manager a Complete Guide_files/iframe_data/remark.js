!function(e){function t(t){for(var n,o,i=t[0],a=t[1],u=0,c=[];u<i.length;u++)o=i[u],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&c.push(r[o][0]),r[o]=0;for(n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n]);for(s&&s(t);c.length;)c.shift()()}var n={},r={8:0};function o(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.e=function(e){var t=[],n=r[e];if(0!==n)if(n)t.push(n[2]);else{var i=new Promise((function(t,o){n=r[e]=[t,o]}));t.push(n[2]=i);var a,u=document.createElement("script");u.charset="utf-8",u.timeout=120,o.nc&&u.setAttribute("nonce",o.nc),u.src=function(e){return o.p+""+({1:"de",4:"es",5:"fi",6:"intersection-observer",9:"ru",10:"vendors~core-js",11:"vendors~node-emoji",12:"whatwg-fetch",13:"zh"}[e]||e)+".js"}(e);var s=new Error;a=function(t){u.onerror=u.onload=null,clearTimeout(c);var n=r[e];if(0!==n){if(n){var o=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src;s.message="Loading chunk "+e+" failed.\n("+o+": "+i+")",s.name="ChunkLoadError",s.type=o,s.request=i,n[1](s)}r[e]=void 0}};var c=setTimeout((function(){a({type:"timeout",target:u})}),12e4);u.onerror=u.onload=a,document.head.appendChild(u)}return Promise.all(t)},o.m=e,o.c=n,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o.oe=function(e){throw console.error(e),e};var i=window.webpackJsonp=window.webpackJsonp||[],a=i.push.bind(i);i.push=t,i=i.slice();for(var u=0;u<i.length;u++)t(i[u]);var s=a;o(o.s=129)}([function(e,t,n){"use strict";n.d(t,"j",(function(){return L})),n.d(t,"h",(function(){return R})),n.d(t,"f",(function(){return h})),n.d(t,"b",(function(){return y})),n.d(t,"g",(function(){return b})),n.d(t,"a",(function(){return g})),n.d(t,"d",(function(){return I})),n.d(t,"e",(function(){return U})),n.d(t,"k",(function(){return S})),n.d(t,"c",(function(){return P})),n.d(t,"i",(function(){return r}));var r,o,i,a,u,s,c,l={},f=[],d=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord/i;function p(e,t){for(var n in t)e[n]=t[n];return e}function m(e){var t=e.parentNode;t&&t.removeChild(e)}function h(e,t,n){var r,o=arguments,i={};for(r in t)"key"!==r&&"ref"!==r&&(i[r]=t[r]);if(arguments.length>3)for(n=[n],r=3;r<arguments.length;r++)n.push(o[r]);if(null!=n&&(i.children=n),"function"==typeof e&&null!=e.defaultProps)for(r in e.defaultProps)void 0===i[r]&&(i[r]=e.defaultProps[r]);return v(e,i,t&&t.key,t&&t.ref,null)}function v(e,t,n,o,i){var a={type:e,props:t,key:n,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:i};return null==i&&(a.__v=a),r.vnode&&r.vnode(a),a}function b(){return{}}function y(e){return e.children}function g(e,t){this.props=e,this.context=t}function _(e,t){if(null==t)return e.__?_(e.__,e.__.__k.indexOf(e)+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?_(e):null}function w(e){var t,n;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e){e.__e=e.__c.base=n.__e;break}return w(e)}}function O(e){(!e.__d&&(e.__d=!0)&&o.push(e)&&!i++||u!==r.debounceRendering)&&((u=r.debounceRendering)||a)(j)}function j(){for(var e;i=o.length;)e=o.sort((function(e,t){return e.__v.__b-t.__v.__b})),o=[],e.some((function(e){var t,n,r,o,i,a,u;e.__d&&(a=(i=(t=e).__v).__e,(u=t.__P)&&(n=[],(r=p({},i)).__v=r,o=M(u,i,r,t.__n,void 0!==u.ownerSVGElement,null,n,null==a?_(i):a),T(n,i),o!=a&&w(i)))}))}function E(e,t,n,r,o,i,a,u,s){var c,d,p,h,v,b,y,g=n&&n.__k||f,w=g.length;if(u==l&&(u=null!=i?i[0]:w?_(n,0):null),c=0,t.__k=S(t.__k,(function(n){if(null!=n){if(n.__=t,n.__b=t.__b+1,null===(p=g[c])||p&&n.key==p.key&&n.type===p.type)g[c]=void 0;else for(d=0;d<w;d++){if((p=g[d])&&n.key==p.key&&n.type===p.type){g[d]=void 0;break}p=null}if(h=M(e,n,p=p||l,r,o,i,a,u,s),(d=n.ref)&&p.ref!=d&&(y||(y=[]),p.ref&&y.push(p.ref,null,n),y.push(d,n.__c||h,n)),null!=h){var f;if(null==b&&(b=h),void 0!==n.__d)f=n.__d,n.__d=void 0;else if(i==p||h!=u||null==h.parentNode){e:if(null==u||u.parentNode!==e)e.appendChild(h),f=null;else{for(v=u,d=0;(v=v.nextSibling)&&d<w;d+=2)if(v==h)break e;e.insertBefore(h,u),f=u}"option"==t.type&&(e.value="")}u=void 0!==f?f:h.nextSibling,"function"==typeof t.type&&(t.__d=u)}else u&&p.__e==u&&u.parentNode!=e&&(u=_(p))}return c++,n})),t.__e=b,null!=i&&"function"!=typeof t.type)for(c=i.length;c--;)null!=i[c]&&m(i[c]);for(c=w;c--;)null!=g[c]&&P(g[c],g[c]);if(y)for(c=0;c<y.length;c++)A(y[c],y[++c],y[++c])}function S(e,t,n){if(null==n&&(n=[]),null==e||"boolean"==typeof e)t&&n.push(t(null));else if(Array.isArray(e))for(var r=0;r<e.length;r++)S(e[r],t,n);else n.push(t?t("string"==typeof e||"number"==typeof e?v(null,e,null,null,e):null!=e.__e||null!=e.__c?v(e.type,e.props,e.key,null,e.__v):e):e);return n}function k(e,t,n){"-"===t[0]?e.setProperty(t,n):e[t]="number"==typeof n&&!1===d.test(t)?n+"px":null==n?"":n}function x(e,t,n,r,o){var i,a,u,s,c;if(o?"className"===t&&(t="class"):"class"===t&&(t="className"),"style"===t)if(i=e.style,"string"==typeof n)i.cssText=n;else{if("string"==typeof r&&(i.cssText="",r=null),r)for(s in r)n&&s in n||k(i,s,"");if(n)for(c in n)r&&n[c]===r[c]||k(i,c,n[c])}else"o"===t[0]&&"n"===t[1]?(a=t!==(t=t.replace(/Capture$/,"")),u=t.toLowerCase(),t=(u in e?u:t).slice(2),n?(r||e.addEventListener(t,C,a),(e.l||(e.l={}))[t]=n):e.removeEventListener(t,C,a)):"list"!==t&&"tagName"!==t&&"form"!==t&&"type"!==t&&"size"!==t&&!o&&t in e?e[t]=null==n?"":n:"function"!=typeof n&&"dangerouslySetInnerHTML"!==t&&(t!==(t=t.replace(/^xlink:?/,""))?null==n||!1===n?e.removeAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase()):e.setAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase(),n):null==n||!1===n&&!/^ar/.test(t)?e.removeAttribute(t):e.setAttribute(t,n))}function C(e){this.l[e.type](r.event?r.event(e):e)}function M(e,t,n,o,i,a,u,s,c){var l,f,d,m,h,v,b,_,w,O,j=t.type;if(void 0!==t.constructor)return null;(l=r.__b)&&l(t);try{e:if("function"==typeof j){if(_=t.props,w=(l=j.contextType)&&o[l.__c],O=l?w?w.props.value:l.__:o,n.__c?b=(f=t.__c=n.__c).__=f.__E:("prototype"in j&&j.prototype.render?t.__c=f=new j(_,O):(t.__c=f=new g(_,O),f.constructor=j,f.render=D),w&&w.sub(f),f.props=_,f.state||(f.state={}),f.context=O,f.__n=o,d=f.__d=!0,f.__h=[]),null==f.__s&&(f.__s=f.state),null!=j.getDerivedStateFromProps&&(f.__s==f.state&&(f.__s=p({},f.__s)),p(f.__s,j.getDerivedStateFromProps(_,f.__s))),m=f.props,h=f.state,d)null==j.getDerivedStateFromProps&&null!=f.componentWillMount&&f.componentWillMount(),null!=f.componentDidMount&&f.__h.push(f.componentDidMount);else{if(null==j.getDerivedStateFromProps&&_!==m&&null!=f.componentWillReceiveProps&&f.componentWillReceiveProps(_,O),!f.__e&&null!=f.shouldComponentUpdate&&!1===f.shouldComponentUpdate(_,f.__s,O)||t.__v===n.__v&&!f.__){for(f.props=_,f.state=f.__s,t.__v!==n.__v&&(f.__d=!1),f.__v=t,t.__e=n.__e,t.__k=n.__k,f.__h.length&&u.push(f),l=0;l<t.__k.length;l++)t.__k[l]&&(t.__k[l].__=t);break e}null!=f.componentWillUpdate&&f.componentWillUpdate(_,f.__s,O),null!=f.componentDidUpdate&&f.__h.push((function(){f.componentDidUpdate(m,h,v)}))}f.context=O,f.props=_,f.state=f.__s,(l=r.__r)&&l(t),f.__d=!1,f.__v=t,f.__P=e,l=f.render(f.props,f.state,f.context),t.__k=null!=l&&l.type==y&&null==l.key?l.props.children:Array.isArray(l)?l:[l],null!=f.getChildContext&&(o=p(p({},o),f.getChildContext())),d||null==f.getSnapshotBeforeUpdate||(v=f.getSnapshotBeforeUpdate(m,h)),E(e,t,n,o,i,a,u,s,c),f.base=t.__e,f.__h.length&&u.push(f),b&&(f.__E=f.__=null),f.__e=!1}else null==a&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=N(n.__e,t,n,o,i,a,u,c);(l=r.diffed)&&l(t)}catch(e){t.__v=null,r.__e(e,t,n)}return t.__e}function T(e,t){r.__c&&r.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(e){r.__e(e,t.__v)}}))}function N(e,t,n,r,o,i,a,u){var s,c,d,p,m,h=n.props,v=t.props;if(o="svg"===t.type||o,null!=i)for(s=0;s<i.length;s++)if(null!=(c=i[s])&&((null===t.type?3===c.nodeType:c.localName===t.type)||e==c)){e=c,i[s]=null;break}if(null==e){if(null===t.type)return document.createTextNode(v);e=o?document.createElementNS("http://www.w3.org/2000/svg",t.type):document.createElement(t.type,v.is&&{is:v.is}),i=null,u=!1}if(null===t.type)h!==v&&e.data!=v&&(e.data=v);else{if(null!=i&&(i=f.slice.call(e.childNodes)),d=(h=n.props||l).dangerouslySetInnerHTML,p=v.dangerouslySetInnerHTML,!u){if(h===l)for(h={},m=0;m<e.attributes.length;m++)h[e.attributes[m].name]=e.attributes[m].value;(p||d)&&(p&&d&&p.__html==d.__html||(e.innerHTML=p&&p.__html||""))}(function(e,t,n,r,o){var i;for(i in n)"children"===i||"key"===i||i in t||x(e,i,null,n[i],r);for(i in t)o&&"function"!=typeof t[i]||"children"===i||"key"===i||"value"===i||"checked"===i||n[i]===t[i]||x(e,i,t[i],n[i],r)})(e,v,h,o,u),t.__k=t.props.children,p||E(e,t,n,r,"foreignObject"!==t.type&&o,i,a,l,u),u||("value"in v&&void 0!==v.value&&v.value!==e.value&&(e.value=null==v.value?"":v.value),"checked"in v&&void 0!==v.checked&&v.checked!==e.checked&&(e.checked=v.checked))}return e}function A(e,t,n){try{"function"==typeof e?e(t):e.current=t}catch(e){r.__e(e,n)}}function P(e,t,n){var o,i,a;if(r.unmount&&r.unmount(e),(o=e.ref)&&(o.current&&o.current!==e.__e||A(o,null,t)),n||"function"==typeof e.type||(n=null!=(i=e.__e)),e.__e=e.__d=void 0,null!=(o=e.__c)){if(o.componentWillUnmount)try{o.componentWillUnmount()}catch(e){r.__e(e,t)}o.base=o.__P=null}if(o=e.__k)for(a=0;a<o.length;a++)o[a]&&P(o[a],t,n);null!=i&&m(i)}function D(e,t,n){return this.constructor(e,n)}function L(e,t,n){var o,i,a;r.__&&r.__(e,t),i=(o=n===s)?null:n&&n.__k||t.__k,e=h(y,null,[e]),a=[],M(t,(o?t:n||t).__k=e,i||l,l,void 0!==t.ownerSVGElement,n&&!o?[n]:i?null:f.slice.call(t.childNodes),a,n||l,o),T(a,e)}function R(e,t){L(e,t,s)}function I(e,t){return t=p(p({},e.props),t),arguments.length>2&&(t.children=f.slice.call(arguments,2)),v(e.type,t,t.key||e.key,t.ref||e.ref,null)}function U(e){var t={},n={__c:"__cC"+c++,__:e,Consumer:function(e,t){return e.children(t)},Provider:function(e){var r,o=this;return this.getChildContext||(r=[],this.getChildContext=function(){return t[n.__c]=o,t},this.shouldComponentUpdate=function(e){o.props.value!==e.value&&r.some((function(t){t.context=e.value,O(t)}))},this.sub=function(e){r.push(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){r.splice(r.indexOf(e),1),t&&t.call(e)}}),e.children}};return n.Consumer.contextType=n,n}r={__e:function(e,t){for(var n,r;t=t.__;)if((n=t.__c)&&!n.__)try{if(n.constructor&&null!=n.constructor.getDerivedStateFromError&&(r=!0,n.setState(n.constructor.getDerivedStateFromError(e))),null!=n.componentDidCatch&&(r=!0,n.componentDidCatch(e)),r)return O(n.__E=n)}catch(t){e=t}throw e}},g.prototype.setState=function(e,t){var n;n=this.__s!==this.state?this.__s:this.__s=p({},this.state),"function"==typeof e&&(e=e(n,this.props)),e&&p(n,e),null!=e&&this.__v&&(t&&this.__h.push(t),O(this))},g.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),O(this))},g.prototype.render=y,o=[],i=0,a="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,s=l,c=0},function(e,t,n){"use strict";n.r(t),n.d(t,"version",(function(){return N})),n.d(t,"Children",(function(){return d})),n.d(t,"render",(function(){return S})),n.d(t,"hydrate",(function(){return k})),n.d(t,"unmountComponentAtNode",(function(){return L})),n.d(t,"createPortal",(function(){return O})),n.d(t,"createFactory",(function(){return A})),n.d(t,"cloneElement",(function(){return D})),n.d(t,"isValidElement",(function(){return P})),n.d(t,"findDOMNode",(function(){return R})),n.d(t,"PureComponent",(function(){return u})),n.d(t,"memo",(function(){return s})),n.d(t,"forwardRef",(function(){return l})),n.d(t,"unstable_batchedUpdates",(function(){return I})),n.d(t,"Suspense",(function(){return h})),n.d(t,"SuspenseList",(function(){return y})),n.d(t,"lazy",(function(){return b}));var r=n(5);n.d(t,"useState",(function(){return r.k})),n.d(t,"useReducer",(function(){return r.i})),n.d(t,"useEffect",(function(){return r.d})),n.d(t,"useLayoutEffect",(function(){return r.g})),n.d(t,"useRef",(function(){return r.j})),n.d(t,"useImperativeHandle",(function(){return r.f})),n.d(t,"useMemo",(function(){return r.h})),n.d(t,"useCallback",(function(){return r.a})),n.d(t,"useContext",(function(){return r.b})),n.d(t,"useDebugValue",(function(){return r.c})),n.d(t,"useErrorBoundary",(function(){return r.e}));var o=n(0);function i(e,t){for(var n in t)e[n]=t[n];return e}function a(e,t){for(var n in e)if("__source"!==n&&!(n in t))return!0;for(var r in t)if("__source"!==r&&e[r]!==t[r])return!0;return!1}n.d(t,"createElement",(function(){return o.f})),n.d(t,"createContext",(function(){return o.e})),n.d(t,"createRef",(function(){return o.g})),n.d(t,"Fragment",(function(){return o.b})),n.d(t,"Component",(function(){return o.a}));var u=function(e){var t,n;function r(t){var n;return(n=e.call(this,t)||this).isPureReactComponent=!0,n}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.shouldComponentUpdate=function(e,t){return a(this.props,e)||a(this.state,t)},r}(o.a);function s(e,t){function n(e){var n=this.props.ref,r=n==e.ref;return!r&&n&&(n.call?n(null):n.current=null),t?!t(this.props,e)||!r:a(this.props,e)}function r(t){return this.shouldComponentUpdate=n,Object(o.f)(e,i({},t))}return r.prototype.isReactComponent=!0,r.displayName="Memo("+(e.displayName||e.name)+")",r.t=!0,r}var c=o.i.__b;function l(e){function t(t){var n=i({},t);return delete n.ref,e(n,t.ref)}return t.prototype.isReactComponent=t.t=!0,t.displayName="ForwardRef("+(e.displayName||e.name)+")",t}o.i.__b=function(e){e.type&&e.type.t&&e.ref&&(e.props.ref=e.ref,e.ref=null),c&&c(e)};var f=function(e,t){return e?Object(o.k)(e).reduce((function(e,n,r){return e.concat(t(n,r))}),[]):null},d={map:f,forEach:f,count:function(e){return e?Object(o.k)(e).length:0},only:function(e){if(1!==(e=Object(o.k)(e)).length)throw new Error("Children.only() expects only one child.");return e[0]},toArray:o.k},p=o.i.__e;function m(e){return e&&((e=i({},e)).__c=null,e.__k=e.__k&&e.__k.map(m)),e}function h(){this.__u=0,this.o=null,this.__b=null}function v(e){var t=e.__.__c;return t&&t.u&&t.u(e)}function b(e){var t,n,r;function i(i){if(t||(t=e()).then((function(e){n=e.default||e}),(function(e){r=e})),r)throw r;if(!n)throw t;return Object(o.f)(n,i)}return i.displayName="Lazy",i.t=!0,i}function y(){this.i=null,this.l=null}o.i.__e=function(e,t,n){if(e.then)for(var r,o=t;o=o.__;)if((r=o.__c)&&r.__c)return r.__c(e,t.__c);p(e,t,n)},(h.prototype=new o.a).__c=function(e,t){var n=this;null==n.o&&(n.o=[]),n.o.push(t);var r=v(n.__v),o=!1,i=function(){o||(o=!0,r?r(a):a())};t.__c=t.componentWillUnmount,t.componentWillUnmount=function(){i(),t.__c&&t.__c()};var a=function(){var e;if(!--n.__u)for(n.__v.__k[0]=n.state.u,n.setState({u:n.__b=null});e=n.o.pop();)e.forceUpdate()};n.__u++||n.setState({u:n.__b=n.__v.__k[0]}),e.then(i,i)},h.prototype.render=function(e,t){return this.__b&&(this.__v.__k[0]=m(this.__b),this.__b=null),[Object(o.f)(o.a,null,t.u?null:e.children),t.u&&e.fallback]};var g=function(e,t,n){if(++n[1]===n[0]&&e.l.delete(t),e.props.revealOrder&&("t"!==e.props.revealOrder[0]||!e.l.size))for(n=e.i;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e.i=n=n[2]}};(y.prototype=new o.a).u=function(e){var t=this,n=v(t.__v),r=t.l.get(e);return r[0]++,function(o){var i=function(){t.props.revealOrder?(r.push(o),g(t,e,r)):o()};n?n(i):i()}},y.prototype.render=function(e){this.i=null,this.l=new Map;var t=Object(o.k)(e.children);e.revealOrder&&"b"===e.revealOrder[0]&&t.reverse();for(var n=t.length;n--;)this.l.set(t[n],this.i=[1,0,this.i]);return e.children},y.prototype.componentDidUpdate=y.prototype.componentDidMount=function(){var e=this;e.l.forEach((function(t,n){g(e,n,t)}))};var _=function(){function e(){}var t=e.prototype;return t.getChildContext=function(){return this.props.context},t.render=function(e){return e.children},e}();function w(e){var t=this,n=e.container,r=Object(o.f)(_,{context:t.context},e.vnode);return t.s&&t.s!==n&&(t.v.parentNode&&t.s.removeChild(t.v),Object(o.c)(t.h),t.p=!1),e.vnode?t.p?(n.__k=t.__k,Object(o.j)(r,n),t.__k=n.__k):(t.v=document.createTextNode(""),Object(o.h)("",n),n.appendChild(t.v),t.p=!0,t.s=n,Object(o.j)(r,n,t.v),t.__k=t.v.__k):t.p&&(t.v.parentNode&&t.s.removeChild(t.v),Object(o.c)(t.h)),t.h=r,t.componentWillUnmount=function(){t.v.parentNode&&t.s.removeChild(t.v),Object(o.c)(t.h)},null}function O(e,t){return Object(o.f)(w,{vnode:e,container:t})}var j=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/;o.a.prototype.isReactComponent={};var E="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;function S(e,t,n){if(null==t.__k)for(;t.firstChild;)t.removeChild(t.firstChild);return Object(o.j)(e,t),"function"==typeof n&&n(),e?e.__c:null}function k(e,t,n){return Object(o.h)(e,t),"function"==typeof n&&n(),e?e.__c:null}var x=o.i.event;function C(e,t){e["UNSAFE_"+t]&&!e[t]&&Object.defineProperty(e,t,{configurable:!1,get:function(){return this["UNSAFE_"+t]},set:function(e){this["UNSAFE_"+t]=e}})}o.i.event=function(e){x&&(e=x(e)),e.persist=function(){};var t=!1,n=!1,r=e.stopPropagation;e.stopPropagation=function(){r.call(e),t=!0};var o=e.preventDefault;return e.preventDefault=function(){o.call(e),n=!0},e.isPropagationStopped=function(){return t},e.isDefaultPrevented=function(){return n},e.nativeEvent=e};var M={configurable:!0,get:function(){return this.class}},T=o.i.vnode;o.i.vnode=function(e){e.$$typeof=E;var t=e.type,n=e.props;if(t){if(n.class!=n.className&&(M.enumerable="className"in n,null!=n.className&&(n.class=n.className),Object.defineProperty(n,"className",M)),"function"!=typeof t){var r,i,a;for(a in n.defaultValue&&void 0!==n.value&&(n.value||0===n.value||(n.value=n.defaultValue),delete n.defaultValue),Array.isArray(n.value)&&n.multiple&&"select"===t&&(Object(o.k)(n.children).forEach((function(e){-1!=n.value.indexOf(e.props.value)&&(e.props.selected=!0)})),delete n.value),n)if(r=j.test(a))break;if(r)for(a in i=e.props={},n)i[j.test(a)?a.replace(/[A-Z0-9]/,"-$&").toLowerCase():a]=n[a]}!function(t){var n=e.type,r=e.props;if(r&&"string"==typeof n){var o={};for(var i in r)/^on(Ani|Tra|Tou)/.test(i)&&(r[i.toLowerCase()]=r[i],delete r[i]),o[i.toLowerCase()]=i;if(o.ondoubleclick&&(r.ondblclick=r[o.ondoubleclick],delete r[o.ondoubleclick]),o.onbeforeinput&&(r.onbeforeinput=r[o.onbeforeinput],delete r[o.onbeforeinput]),o.onchange&&("textarea"===n||"input"===n.toLowerCase()&&!/^fil|che|ra/i.test(r.type))){var a=o.oninput||"oninput";r[a]||(r[a]=r[o.onchange],delete r[o.onchange])}}}(),"function"==typeof t&&!t.m&&t.prototype&&(C(t.prototype,"componentWillMount"),C(t.prototype,"componentWillReceiveProps"),C(t.prototype,"componentWillUpdate"),t.m=!0)}T&&T(e)};var N="16.8.0";function A(e){return o.f.bind(null,e)}function P(e){return!!e&&e.$$typeof===E}function D(e){return P(e)?o.d.apply(null,arguments):e}function L(e){return!!e.__k&&(Object(o.j)(null,e),!0)}function R(e){return e&&(e.base||1===e.nodeType&&e)||null}var I=function(e,t){return e(t)};t.default={useState:r.k,useReducer:r.i,useEffect:r.d,useLayoutEffect:r.g,useRef:r.j,useImperativeHandle:r.f,useMemo:r.h,useCallback:r.a,useContext:r.b,useDebugValue:r.c,version:"16.8.0",Children:d,render:S,hydrate:S,unmountComponentAtNode:L,createPortal:O,createElement:o.f,createContext:o.e,createFactory:A,cloneElement:D,createRef:o.g,Fragment:o.b,isValidElement:P,findDOMNode:R,Component:o.a,PureComponent:u,memo:s,forwardRef:l,unstable_batchedUpdates:I,Suspense:h,SuspenseList:y,lazy:b}},function(e,t,n){"use strict";n.d(t,"e",(function(){return c})),n.d(t,"f",(function(){return l})),n.d(t,"h",(function(){return f})),n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return p})),n.d(t,"d",(function(){return m})),n.d(t,"c",(function(){return h})),n.d(t,"g",(function(){return v}));var r=n(1),o=n(22),i=n(14),a=n(36),u={38:"&amp;",62:"&gt;",60:"&lt;",34:"&quot;",39:"&#x27;"},s=/[&><"']/g;function c(e){return(""+e).replace(s,(function(e){return u[e.charCodeAt(0)]}))}function l(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t.reduce((function(t,r){return r in e?t[r]=e[r]:r in n&&(t[r]=n[r]),t}),{})}function f(e){Object(a.a)(e,"[React Intl] Could not find required `intl` object. <IntlProvider> needs to exist in the component ancestry.")}function d(e,t){var n=t?"\n".concat(t.stack):"";return"[React Intl] ".concat(e).concat(n)}var p={formats:{},messages:{},timeZone:void 0,textComponent:r.Fragment,defaultLocale:"en",defaultFormats:{},onError:function(e){0}};function m(){return{dateTime:{},number:{},message:{},relativeTime:{},pluralRules:{},list:{},displayNames:{}}}function h(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{dateTime:{},number:{},message:{},relativeTime:{},pluralRules:{},list:{},displayNames:{}},t=Intl.RelativeTimeFormat,n=Intl.ListFormat,r=Intl.DisplayNames;return{getDateTimeFormat:Object(i.a)(Intl.DateTimeFormat,e.dateTime),getNumberFormat:Object(i.a)(Intl.NumberFormat,e.number),getMessageFormat:Object(i.a)(o.a,e.message),getRelativeTimeFormat:Object(i.a)(t,e.relativeTime),getPluralRules:Object(i.a)(Intl.PluralRules,e.pluralRules),getListFormat:Object(i.a)(n,e.list),getDisplayNames:Object(i.a)(r,e.displayNames)}}function v(e,t,n,r){var o,i=e&&e[t];if(i&&(o=i[n]),o)return o;r(d("No ".concat(t," format named: ").concat(n)))}},function(e,t,n){"use strict";n.d(t,"l",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"n",(function(){return a})),n.d(t,"h",(function(){return u})),n.d(t,"j",(function(){return s})),n.d(t,"i",(function(){return c})),n.d(t,"k",(function(){return l})),n.d(t,"o",(function(){return f})),n.d(t,"e",(function(){return d})),n.d(t,"f",(function(){return p})),n.d(t,"g",(function(){return m}));var r=n(16);n.d(t,"b",(function(){return r.b})),n.d(t,"a",(function(){return r.a})),n.d(t,"m",(function(){return r.e})),n.d(t,"c",(function(){return r.c}));var o=10,i="-active",a={google:"Google",twitter:"Twitter",facebook:"Facebook",github:"GitHub",yandex:"Yandex",dev:"Dev",anonymous:"Anonymous",email:"Email"},u="__remarkCollapsed",s="__remark_comment_value",c="__remarkHiddenUsers",l="__remarkSort",f=["light","dark"],d=/Android|webOS|iPhone|iPad|iPod|Opera Mini|Windows Phone/i.test(navigator.userAgent),p=function(){try{localStorage.setItem("localstorage_availability_test",""),localStorage.removeItem("localstorage_availability_test")}catch(e){return!1}return!0}(),m=function(){try{return window.parent.location.host!==window.location.host}catch(e){return!0}}()},function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return a})),n.d(t,"b",(function(){return u})),n.d(t,"f",(function(){return s})),n.d(t,"a",(function(){return c})),n.d(t,"e",(function(){return l}));var r=n(3),o=n(21),i=Object(o.a)();i.max_shown_comments?i.max_shown_comments=parseInt(i.max_shown_comments,10):i.max_shown_comments=r.l,i.theme&&-1!==r.o.indexOf(i.theme)||(i.theme=r.o[0]);var a=i.site_id,u=i.page_title,s=i.url,c=i.max_shown_comments,l=i.token;i.theme},function(e,t,n){"use strict";n.d(t,"k",(function(){return p})),n.d(t,"i",(function(){return m})),n.d(t,"d",(function(){return h})),n.d(t,"g",(function(){return v})),n.d(t,"j",(function(){return b})),n.d(t,"f",(function(){return y})),n.d(t,"h",(function(){return g})),n.d(t,"a",(function(){return _})),n.d(t,"b",(function(){return w})),n.d(t,"c",(function(){return O})),n.d(t,"e",(function(){return j}));var r,o,i,a=n(0),u=[],s=a.i.__r,c=a.i.diffed,l=a.i.__c,f=a.i.unmount;function d(e){a.i.__h&&a.i.__h(o);var t=o.__H||(o.__H={__:[],__h:[]});return e>=t.__.length&&t.__.push({}),t.__[e]}function p(e){return m(C,e)}function m(e,t,n){var i=d(r++);return i.__c||(i.__c=o,i.__=[n?n(t):C(void 0,t),function(t){var n=e(i.__[0],t);i.__[0]!==n&&(i.__[0]=n,i.__c.setState({}))}]),i.__}function h(e,t){var n=d(r++);x(n.__H,t)&&(n.__=e,n.__H=t,o.__H.__h.push(n))}function v(e,t){var n=d(r++);x(n.__H,t)&&(n.__=e,n.__H=t,o.__h.push(n))}function b(e){return g((function(){return{current:e}}),[])}function y(e,t,n){v((function(){"function"==typeof e?e(t()):e&&(e.current=t())}),null==n?n:n.concat(e))}function g(e,t){var n=d(r++);return x(n.__H,t)?(n.__H=t,n.__h=e,n.__=e()):n.__}function _(e,t){return g((function(){return e}),t)}function w(e){var t=o.context[e.__c];if(!t)return e.__;var n=d(r++);return null==n.__&&(n.__=!0,t.sub(o)),t.props.value}function O(e,t){a.i.useDebugValue&&a.i.useDebugValue(t?t(e):e)}function j(e){var t=d(r++),n=p();return t.__=e,o.componentDidCatch||(o.componentDidCatch=function(e){t.__&&t.__(e),n[1](e)}),[n[0],function(){n[1](void 0)}]}function E(){u.some((function(e){if(e.__P)try{e.__H.__h.forEach(S),e.__H.__h.forEach(k),e.__H.__h=[]}catch(t){return e.__H.__h=[],a.i.__e(t,e.__v),!0}})),u=[]}function S(e){e.t&&e.t()}function k(e){var t=e.__();"function"==typeof t&&(e.t=t)}function x(e,t){return!e||t.some((function(t,n){return t!==e[n]}))}function C(e,t){return"function"==typeof t?t(e):t}a.i.__r=function(e){s&&s(e),r=0,(o=e.__c).__H&&(o.__H.__h.forEach(S),o.__H.__h.forEach(k),o.__H.__h=[])},a.i.diffed=function(e){c&&c(e);var t=e.__c;if(t){var n=t.__H;n&&n.__h.length&&(1!==u.push(t)&&i===a.i.requestAnimationFrame||((i=a.i.requestAnimationFrame)||function(e){var t,n=function(){clearTimeout(r),cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,100);"undefined"!=typeof window&&(t=requestAnimationFrame(n))})(E))}},a.i.__c=function(e,t){t.some((function(e){try{e.__h.forEach(S),e.__h=e.__h.filter((function(e){return!e.__||k(e)}))}catch(n){t.some((function(e){e.__h&&(e.__h=[])})),t=[],a.i.__e(n,e.__v)}})),l&&l(e,t)},a.i.unmount=function(e){f&&f(e);var t=e.__c;if(t){var n=t.__H;if(n)try{n.__.forEach((function(e){return e.t&&e.t()}))}catch(e){a.i.__e(e,t.__v)}}}},function(e,t,n){"use strict";function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=[e],i=t.mix,a=void 0===i?[]:i,u=t.mods,s=void 0===u?{}:u,c=function(t,n){var i=[e,o(t)];"boolean"!=typeof n&&i.push(o(n)),r.push(i.join("_"))};return Object.keys(n).forEach((function(e){!s.hasOwnProperty(e)&&n[e]&&c(e,n[e])})),Object.keys(s).forEach((function(e){s[e]&&c(e,s[e])})),a&&(r=r.concat(a)),r.join(" ")}function o(e){return e.toString().replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}Object.defineProperty(t,"__esModule",{value:!0}),e.exports=r,t.default=r},function(e,t,n){"use strict";var r=n(3),o=n(4),i=n(8);var a=n(15);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var s=["get","post","put","patch","delete","head"].reduce((function(e,t){return e[t]=function(e){var n,s,c="string"==typeof e?{url:e}:e,l=c.url,f=c.body,d=void 0===f?void 0:f,p=c.withCredentials,m=void 0!==p&&p,h=c.overriddenApiBase,v=void 0===h?r.a:h,b=c.contentType,y=void 0===b?"application/json":b,g=c.logError,_=void 0===g||g,w=""+r.b+v,O=new Headers({Accept:"application/json","X-XSRF-TOKEN":(n="XSRF-TOKEN",s=document.cookie.match(new RegExp("(?:^|; )"+n.replace(/([.$?*|{}()[\]\\/+^])/g,"\\$1")+"=([^;]*)")),(s?decodeURIComponent(s[1]):void 0)||"")});"multipart/form-data"!==y&&O.append("Content-Type",y);var j=""+w+l,E={method:t,headers:O,mode:"cors",credentials:m?"include":"omit"};return d&&("multipart/form-data"===y||"object"!==u(d)||d instanceof Blob||d instanceof ArrayBuffer?E.body=d:E.body=JSON.stringify(d)),!o.d||"post"===t||j.includes("?site=")||j.includes("&site=")||(j+=(j.includes("?")?"&":"?")+"site="+o.d),fetch(j,E).then((function(e){var t=e.headers.has("date")&&e.headers.get("date")||"",n=isNaN(Date.parse(t))?0:Date.parse(t),r=((new Date).getTime()-n)/1e3;if(i.a.serverClientTimeDiff=r,e.status>=400){if(a.b.has(e.status)){var o=a.b.get(e.status)||a.c.unexpectedError;throw{code:e.status,error:o.defaultMessage}}return e.text().then((function(e){var t;try{t=JSON.parse(e)}catch(e){throw _&&console.error(t),{code:0,error:a.c.unexpectedError.defaultMessage}}throw t}))}return e.headers.has("Content-Type")&&0===e.headers.get("Content-Type").indexOf("application/json")?e.json():e.text()})).catch((function(e){if(Object(a.d)(e))throw{code:-2,error:e.message};throw e}))},e}),{});t.a=s},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={config:{version:"",edit_duration:5e3,max_comment_size:5e3,admins:[],admin_email:"",auth_providers:[],critical_score:0,low_score:0,positive_score:!1,readonly_age:0,max_image_size:0,simple_view:!1,anon_vote:!1,email_notifications:!1,emoji_enabled:!1},query:n(4).c}},function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r,o,i=n(1),a=n(2),u=n(13),s=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};!function(e){e.formatDate="FormattedDate",e.formatTime="FormattedTime",e.formatNumber="FormattedNumber",e.formatList="FormattedList",e.formatDisplayName="FormattedDisplayName"}(r||(r={})),function(e){e.formatDate="FormattedDateParts",e.formatTime="FormattedTimeParts",e.formatNumber="FormattedNumberParts",e.formatList="FormattedListParts"}(o||(o={}));function c(e){var t=function(t){return i.createElement(u.a.Consumer,null,(function(n){Object(a.h)(n);var r=t.value,o=t.children,i=s(t,["value","children"]),u="string"==typeof r?new Date(r||0):r;return o("formatDate"===e?n.formatDateToParts(u,i):n.formatTimeToParts(u,i))}))};return t.displayName=o[e],t}function l(e){var t=function(t){return i.createElement(u.a.Consumer,null,(function(n){Object(a.h)(n);var r=t.value,o=t.children,u=s(t,["value","children"]),c=n[e](r,u);if("function"==typeof o)return o(c);var l=n.textComponent||i.Fragment;return i.createElement(l,null,c)}))};return t.displayName=r[e],t}function f(e){return e}l("formatDate"),l("formatTime"),l("formatNumber"),l("formatList"),l("formatDisplayName"),c("formatDate"),c("formatTime")},function(e,t,n){"use strict";n.d(t,"w",(function(){return u})),n.d(t,"p",(function(){return s})),n.d(t,"q",(function(){return c})),n.d(t,"k",(function(){return l})),n.d(t,"l",(function(){return f})),n.d(t,"j",(function(){return d})),n.d(t,"o",(function(){return p})),n.d(t,"s",(function(){return m})),n.d(t,"a",(function(){return h})),n.d(t,"B",(function(){return v})),n.d(t,"m",(function(){return b})),n.d(t,"n",(function(){return y})),n.d(t,"d",(function(){return g})),n.d(t,"b",(function(){return _})),n.d(t,"r",(function(){return w})),n.d(t,"z",(function(){return O})),n.d(t,"x",(function(){return j})),n.d(t,"v",(function(){return E})),n.d(t,"t",(function(){return S})),n.d(t,"u",(function(){return k})),n.d(t,"c",(function(){return x})),n.d(t,"y",(function(){return C})),n.d(t,"i",(function(){return M})),n.d(t,"e",(function(){return T})),n.d(t,"h",(function(){return N})),n.d(t,"C",(function(){return A})),n.d(t,"g",(function(){return P})),n.d(t,"f",(function(){return D})),n.d(t,"A",(function(){return L}));var r=n(4),o=n(3),i=n(7),a=function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},u=function(e,t){var n="/auth/email/login?id="+r.d+"&user="+encodeURIComponent(e)+"&address="+encodeURIComponent(t);return i.a.get({url:n,withCredentials:!0,overriddenApiBase:""})},s=function(e){return"anonymous"===e.name?(t=e.username,n="/auth/anonymous/login?user="+encodeURIComponent(t)+"&aud="+r.d+"&from="+encodeURIComponent(location.origin+location.pathname+"?selfClose"),i.a.get({url:n,withCredentials:!0,overriddenApiBase:""})):"email"===e.name?function(e){var t="/auth/email/login?token="+e;return i.a.get({url:t,withCredentials:!0,overriddenApiBase:""})}(e.token):new Promise((function(t,n){var i=o.b+"/auth/"+e.name+"/login?from="+encodeURIComponent(location.origin+location.pathname+"?selfClose")+"&site="+r.d,a=window.open(i),u=0,s=setInterval((function(){var e;u+=300;try{e=a&&a.closed||u>3e4}catch(e){}e&&(clearInterval(s),y().then((function(e){t(e)})).catch((function(){n(new Error("User logIn Error"))})))}),300)}));var t,n},c=function(){return i.a.get({url:"/auth/logout",overriddenApiBase:"",withCredentials:!0})},l=function(){return i.a.get("/config")},f=function(e){return i.a.get({url:"/find?site="+r.d+"&url="+r.f+"&sort="+e+"&format=tree",withCredentials:!0})},d=function(e){return i.a.get({url:"/id/"+e+"?url="+r.f,withCredentials:!0})},p=function(e,t){return i.a.get({url:"/comments?user="+e+"&limit="+t,withCredentials:!0})},m=function(e){var t=e.id,n=e.value;return i.a.put({url:"/vote/"+t+"?url="+r.f+"&vote="+n,withCredentials:!0})},h=function(e){var t=e.title,n=e.text,o=e.pid;return i.a.post({url:"/comment",body:a({title:t,text:n,locator:{site:r.d,url:r.f}},o?{pid:o}:{}),withCredentials:!0})},v=function(e){var t=e.text,n=e.id;return i.a.put({url:"/comment/"+n+"?url="+r.f,body:{text:t},withCredentials:!0})},b=function(e){return i.a.post({url:"/preview",body:{text:e},withCredentials:!0})},y=function(){return i.a.get({url:"/user",withCredentials:!0,logError:!1}).catch((function(){return null}))},g=function(){return i.a.post({url:"/deleteme?site="+r.d,withCredentials:!0})},_=function(e){return i.a.get({url:"/admin/deleteme?token="+e,withCredentials:!0})},w=function(e){return i.a.put({url:"/admin/pin/"+e+"?url="+r.f+"&pin=1",withCredentials:!0})},O=function(e){return i.a.put({url:"/admin/pin/"+e+"?url="+r.f+"&pin=0",withCredentials:!0})},j=function(e){return i.a.put({url:"/admin/verify/"+e+"?verified=1",withCredentials:!0})},E=function(e){return i.a.put({url:"/admin/verify/"+e+"?verified=0",withCredentials:!0})},S=function(e){return i.a.delete({url:"/admin/comment/"+e+"?url="+r.f,withCredentials:!0})},k=function(e){return i.a.put({url:"/comment/"+e+"?url="+r.f,body:{delete:!0},withCredentials:!0})},x=function(e,t){return i.a.put({url:"permanently"===t?"/admin/user/"+e+"?block=1":"/admin/user/"+e+"?block=1&ttl="+t,withCredentials:!0})},C=function(e){return i.a.put({url:"/admin/user/"+e+"?block=0",withCredentials:!0})},M=function(){return i.a.get({url:"/admin/blocked",withCredentials:!0})},T=function(){return i.a.put({url:"/admin/readonly?site="+r.d+"&url="+r.f+"&ro=1",withCredentials:!0})},N=function(){return i.a.put({url:"/admin/readonly?site="+r.d+"&url="+r.f+"&ro=0",withCredentials:!0})},A=function(e){var t=new FormData;return t.append("file",e),i.a.post({url:"/picture",withCredentials:!0,contentType:"multipart/form-data",body:t}).then((function(t){return{name:e.name,size:e.size,type:e.type,url:o.b+o.a+"/picture/"+t.id}}))},P=function(e){return i.a.post({url:"/email/subscribe?site="+r.d+"&address="+encodeURIComponent(e),withCredentials:!0})},D=function(e){return i.a.post({url:"/email/confirm?site="+r.d+"&tkn="+encodeURIComponent(e),withCredentials:!0})},L=function(){return i.a.delete({url:"/email",withCredentials:!0})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(0),o=n(1),i=n(6),a=n.n(i),u=function(){return(u=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},s=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},c=Object(o.forwardRef)((function(e,t){var n=e.children,o=e.theme,i=e.mods,c=e.mix,l=e.kind,f=e.type,d=void 0===f?"button":f,p=e.size,m=s(e,["children","theme","mods","mix","kind","type","size"]),h=a()("button",{mods:{kind:l,size:p},mix:c},u({theme:o},i));return Object(r.f)("button",u({className:h,type:d},m,{ref:t}),n)}));n(102),n(103),n(104),n(105),n(106),n(107),n(108)},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=function(e){return r({role:"button",onClick:e,onKeyPress:function(t){return function(e,t){" "!==e.key&&"Enter"!==e.key||(e.preventDefault(),t&&t(e))}(t,e)}},e?{tabIndex:0}:{})}},function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return s}));var r=n(1),o=n(19),i=n.n(o);n(2);i.a;var a=r.createContext(null),u=(a.Consumer,a.Provider),s=a},function(e,t,n){"use strict";var r=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,u=i.length;a<u;a++,o++)r[o]=i[a];return r};function o(e){return JSON.stringify(e.map((function(e){return e&&"object"==typeof e?(t=e,Object.keys(t).sort().map((function(e){var n;return(n={})[e]=t[e],n}))):e;var t})))}t.a=function(e,t){return void 0===t&&(t={}),function(){for(var n,i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];var u=o(i),s=u&&t[u];return s||(s=new((n=e).bind.apply(n,r([void 0],i))),u&&(t[u]=s)),s}}},function(e,t,n){"use strict";n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return c})),n.d(t,"a",(function(){return l}));var r=n(9),o=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},i=Object(r.a)({failedFetch:{id:"errors.failed-fetch",defaultMessage:"Failed to fetch. Please check your internet connection or try again a bit later",description:{code:-2}},0:{id:"errors.0",defaultMessage:"Something went wrong. Please try again a bit later.",description:{code:0}},1:{id:"errors.1",defaultMessage:"Comment cannot be found. Please refresh the page and try again.",description:{code:1}},2:{id:"errors.2",defaultMessage:"Failed to unmarshal incoming request.",description:{code:2}},3:{id:"errors.3",defaultMessage:"You don't have permission for this operation.",description:{code:3}},4:{id:"errors.4",defaultMessage:"Invalid comment data.",description:{code:4}},5:{id:"errors.5",defaultMessage:"Comment cannot be found.  Please refresh the page and try again.",description:{code:5}},6:{id:"errors.6",defaultMessage:"Site cannot be found.  Please refresh the page and try again.",description:{code:6}},7:{id:"errors.7",defaultMessage:"User has been blocked.",description:{code:7}},8:{id:"errors.8",defaultMessage:"User has been blocked.",description:{code:8}},9:{id:"errors.9",defaultMessage:"Comment changing failed. Please try again a bit later.",description:{code:9}},10:{id:"errors.10",defaultMessage:"It is too late to edit the comment.",description:{code:10}},11:{id:"errors.11",defaultMessage:"Comment already has reply, editing is not possible.",description:{code:11}},12:{id:"errors.12",defaultMessage:"Cannot save voting result. Please try again a bit later.",description:{code:12}},13:{id:"errors.13",defaultMessage:"You cannot vote for your own comment.",description:{code:13}},14:{id:"errors.14",defaultMessage:"You have already voted for the comment.",description:{code:14}},15:{id:"errors.15",defaultMessage:"Too many votes for the comment.",description:{code:15}},16:{id:"errors.16",defaultMessage:"Min score reached for the comment.",description:{code:16}},17:{id:"errors.17",defaultMessage:"Action rejected. Please try again a bit later.",description:{code:17}},18:{id:"errors.18",defaultMessage:"Requested file cannot be found.",description:{code:18}}}),a=new Map;Object.entries(i).forEach((function(e){var t=o(e,2)[1];a.set(t.description.code,t)}));var u=Object(r.a)({notAuthorized:{id:"errors.not-authorized",defaultMessage:"Not authorized."},forbidden:{id:"errors.forbidden",defaultMessage:"Forbidden."},toManyRequest:{id:"errors.to-many-request",defaultMessage:"You have reached maximum request limit."},unexpectedError:{id:"errors.unexpected-error",defaultMessage:"Something went wrong."}}),s=new Map([[401,u.notAuthorized],[403,u.forbidden],[429,u.toManyRequest]]);function c(e){return Boolean(e&&e.message&&"Failed to fetch"===e.message)}function l(e,t){var n=t.formatMessage(a.get(0)||i[0]);if(!e)return n;if("string"==typeof e)return e;if("number"==typeof e.code&&(a.has(e.code)||s.has(e.code))){var r=a.get(e.code)||s.get(e.code)||i[0];return t.formatMessage(r)}return n}},function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"e",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return u}));var r=window.remark_config&&window.remark_config.host||"https://remark42.thevaluable.dev",o="remark42",i="/api/v1",a="remark42__comment-",u="remark42__counter"},function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e[e.None=0]="None",e[e.Reply=1]="Reply",e[e.Edit=2]="Edit"}(r||(r={}))},function(e,t,n){"use strict";var r=n(56),o="object"==typeof self&&self&&self.Object===Object&&self,i=r.a||o||Function("return this")();t.a=i},function(e,t,n){"use strict";var r=n(31),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function s(e){return r.isMemo(e)?a:u[e.$$typeof]||o}u[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0};var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,m=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(m){var o=p(n);o&&o!==m&&e(t,o,r)}var a=l(n);f&&(a=a.concat(f(n)));for(var u=s(t),h=s(n),v=0;v<a.length;++v){var b=a[v];if(!(i[b]||r&&r[b]||h&&h[b]||u&&u[b])){var y=d(n,b);try{c(t,b,y)}catch(e){}}}return t}return t}},function(e,t,n){"use strict";e.exports=function(e,t){if(e===t)return!0;if(!e||!t)return!1;var n=Object.keys(e),r=Object.keys(t),o=n.length;if(r.length!==o)return!1;for(var i=0;i<o;i++){var a=n[i];if(e[a]!==t[a]||!Object.prototype.hasOwnProperty.call(t,a))return!1}return!0}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};function i(e){return void 0===e&&(e=window.location.search),e.length<2?{}:e.substr(1).split("&").reduce((function(e,t){var n,i=o(t.split("="),2),a=i[0],u=i[1];return r(r({},e),((n={})[a]=u?decodeURIComponent(u):"",n))}),{})}},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o;function i(e){return e.type===o.literal}function a(e){return e.type===o.argument}function u(e){return e.type===o.number}function s(e){return e.type===o.date}function c(e){return e.type===o.time}function l(e){return e.type===o.select}function f(e){return e.type===o.plural}function d(e){return e.type===o.pound}function p(e){return!(!e||"object"!==r(e)||0!==e.type)}function m(e){return!(!e||"object"!==r(e)||1!==e.type)}!function(e){e[e.literal=0]="literal",e[e.argument=1]="argument",e[e.number=2]="number",e[e.date=3]="date",e[e.time=4]="time",e[e.select=5]="select",e[e.plural=6]="plural",e[e.pound=7]="pound"}(o||(o={}));var h,v=(h=function(e,t){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}h(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),b=function(){return(b=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},y=function(e){function t(n,r,o,i){var a=e.call(this)||this;return a.message=n,a.expected=r,a.found=o,a.location=i,a.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(a,t),a}return v(t,e),t.buildMessage=function(e,t){function n(e){return e.charCodeAt(0).toString(16).toUpperCase()}function r(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+n(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+n(e)}))}function o(e){return e.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+n(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+n(e)}))}function i(e){switch(e.type){case"literal":return'"'+r(e.text)+'"';case"class":var t=e.parts.map((function(e){return Array.isArray(e)?o(e[0])+"-"+o(e[1]):o(e)}));return"["+(e.inverted?"^":"")+t+"]";case"any":return"any character";case"end":return"end of input";case"other":return e.description}}return"Expected "+function(e){var t,n,r=e.map(i);if(r.sort(),r.length>0){for(t=1,n=1;t<r.length;t++)r[t-1]!==r[t]&&(r[n]=r[t],n++);r.length=n}switch(r.length){case 1:return r[0];case 2:return r[0]+" or "+r[1];default:return r.slice(0,-1).join(", ")+", or "+r[r.length-1]}}(e)+" but "+(((a=t)?'"'+r(a)+'"':"end of input")+" found.");var a},t}(Error);var g=function(e,t){t=void 0!==t?t:{};var n,r={},i={start:Oe},a=Oe,u=he("#",!1),s=be("argumentElement"),c=he("{",!1),l=he("}",!1),f=be("numberSkeletonId"),d=/^['\/{}]/,p=ve(["'","/","{","}"],!1,!1),m={type:"any"},h=be("numberSkeletonTokenOption"),v=he("/",!1),g=be("numberSkeletonToken"),_=he("::",!1),w=function(e){return Ve.pop(),e.replace(/\s*$/,"")},O=he(",",!1),j=he("number",!1),E=function(e,t,n){return b({type:"number"===t?o.number:"date"===t?o.date:o.time,style:n&&n[2],value:e},Ge())},S=he("'",!1),k=/^[^']/,x=ve(["'"],!0,!1),C=/^[^a-zA-Z'{}]/,M=ve([["a","z"],["A","Z"],"'","{","}"],!0,!1),T=/^[a-zA-Z]/,N=ve([["a","z"],["A","Z"]],!1,!1),A=he("date",!1),P=he("time",!1),D=he("plural",!1),L=he("selectordinal",!1),R=he("offset:",!1),I=he("select",!1),U=he("=",!1),F=be("whitespace"),H=/^[\t-\r \x85\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,B=ve([["\t","\r"]," ",""," "," ",[" "," "],"\u2028","\u2029"," "," ","　"],!1,!1),z=be("syntax pattern"),V=/^[!-\/:-@[-\^`{-~\xA1-\xA7\xA9\xAB\xAC\xAE\xB0\xB1\xB6\xBB\xBF\xD7\xF7\u2010-\u2027\u2030-\u203E\u2041-\u2053\u2055-\u205E\u2190-\u245F\u2500-\u2775\u2794-\u2BFF\u2E00-\u2E7F\u3001-\u3003\u3008-\u3020\u3030\uFD3E\uFD3F\uFE45\uFE46]/,W=ve([["!","/"],[":","@"],["[","^"],"`",["{","~"],["¡","§"],"©","«","¬","®","°","±","¶","»","¿","×","÷",["‐","‧"],["‰","‾"],["⁁","⁓"],["⁕","⁞"],["←","⑟"],["─","❵"],["➔","⯿"],["⸀","⹿"],["、","〃"],["〈","〠"],"〰","﴾","﴿","﹅","﹆"],!1,!1),G=be("optional whitespace"),$=be("number"),q=he("-",!1),Y=(be("apostrophe"),be("double apostrophes")),K=he("''",!1),Z=function(e){return!("{"===e||We()&&"#"===e||Ve.length>1&&"}"===e)},J=he("\n",!1),X=be("argNameOrNumber"),Q=be("argNumber"),ee=he("0",!1),te=/^[1-9]/,ne=ve([["1","9"]],!1,!1),re=/^[0-9]/,oe=ve([["0","9"]],!1,!1),ie=be("argName"),ae=0,ue=0,se=[{line:1,column:1}],ce=0,le=[],fe=0;if(void 0!==t.startRule){if(!(t.startRule in i))throw new Error("Can't start parsing from rule \""+t.startRule+'".');a=i[t.startRule]}function de(){return e.substring(ue,ae)}function pe(){return ge(ue,ae)}function me(e,t){throw function(e,t){return new y(e,[],"",t)}(e,t=void 0!==t?t:ge(ue,ae))}function he(e,t){return{type:"literal",text:e,ignoreCase:t}}function ve(e,t,n){return{type:"class",parts:e,inverted:t,ignoreCase:n}}function be(e){return{type:"other",description:e}}function ye(t){var n,r=se[t];if(r)return r;for(n=t-1;!se[n];)n--;for(r={line:(r=se[n]).line,column:r.column};n<t;)10===e.charCodeAt(n)?(r.line++,r.column=1):r.column++,n++;return se[t]=r,r}function ge(e,t){var n=ye(e),r=ye(t);return{start:{offset:e,line:n.line,column:n.column},end:{offset:t,line:r.line,column:r.column}}}function _e(e){ae<ce||(ae>ce&&(ce=ae,le=[]),le.push(e))}function we(e,t,n){return new y(y.buildMessage(e,t),e,t,n)}function Oe(){return je()}function je(){var e,t;for(e=[],t=Ee();t!==r;)e.push(t),t=Ee();return e}function Ee(){var t;return(t=function(){var e,t;e=ae,(t=Se())!==r&&(ue=e,n=t,t=b({type:o.literal,value:n},Ge()));var n;return e=t}())===r&&(t=function(){var t,n,i,a;fe++,t=ae,123===e.charCodeAt(ae)?(n="{",ae++):(n=r,0===fe&&_e(c));n!==r&&Le()!==r&&(i=He())!==r&&Le()!==r?(125===e.charCodeAt(ae)?(a="}",ae++):(a=r,0===fe&&_e(l)),a!==r?(ue=t,u=i,n=b({type:o.argument,value:u},Ge()),t=n):(ae=t,t=r)):(ae=t,t=r);var u;fe--,t===r&&(n=r,0===fe&&_e(s));return t}())===r&&(t=function(){var t;(t=function(){var t,n,o,i,a,u,s,f,d;t=ae,123===e.charCodeAt(ae)?(n="{",ae++):(n=r,0===fe&&_e(c));n!==r&&Le()!==r&&(o=He())!==r&&Le()!==r?(44===e.charCodeAt(ae)?(i=",",ae++):(i=r,0===fe&&_e(O)),i!==r&&Le()!==r?("number"===e.substr(ae,6)?(a="number",ae+=6):(a=r,0===fe&&_e(j)),a!==r&&Le()!==r?(u=ae,44===e.charCodeAt(ae)?(s=",",ae++):(s=r,0===fe&&_e(O)),s!==r&&(f=Le())!==r&&(d=function(){var t,n,o;t=ae,"::"===e.substr(ae,2)?(n="::",ae+=2):(n=r,0===fe&&_e(_));n!==r&&(o=function(){var e,t,n;if(e=ae,t=[],(n=Ce())!==r)for(;n!==r;)t.push(n),n=Ce();else t=r;t!==r&&(ue=e,t=b({type:0,tokens:t},Ge()));return e=t}())!==r?(ue=t,t=n=o):(ae=t,t=r);t===r&&(t=ae,ue=ae,Ve.push("numberArgStyle"),(n=(n=!0)?void 0:r)!==r&&(o=Se())!==r?(ue=t,n=w(o),t=n):(ae=t,t=r));return t}())!==r?u=s=[s,f,d]:(ae=u,u=r),u===r&&(u=null),u!==r&&(s=Le())!==r?(125===e.charCodeAt(ae)?(f="}",ae++):(f=r,0===fe&&_e(l)),f!==r?(ue=t,n=E(o,a,u),t=n):(ae=t,t=r)):(ae=t,t=r)):(ae=t,t=r)):(ae=t,t=r)):(ae=t,t=r);return t}())===r&&(t=function(){var t,n,o,i,a,u,s,f,d;t=ae,123===e.charCodeAt(ae)?(n="{",ae++):(n=r,0===fe&&_e(c));n!==r&&Le()!==r&&(o=He())!==r&&Le()!==r?(44===e.charCodeAt(ae)?(i=",",ae++):(i=r,0===fe&&_e(O)),i!==r&&Le()!==r?("date"===e.substr(ae,4)?(a="date",ae+=4):(a=r,0===fe&&_e(A)),a===r&&("time"===e.substr(ae,4)?(a="time",ae+=4):(a=r,0===fe&&_e(P))),a!==r&&Le()!==r?(u=ae,44===e.charCodeAt(ae)?(s=",",ae++):(s=r,0===fe&&_e(O)),s!==r&&(f=Le())!==r&&(d=function(){var t,n,o;t=ae,"::"===e.substr(ae,2)?(n="::",ae+=2):(n=r,0===fe&&_e(_));n!==r&&(o=function(){var t,n,o,i;t=ae,n=ae,o=[],(i=Me())===r&&(i=Te());if(i!==r)for(;i!==r;)o.push(i),(i=Me())===r&&(i=Te());else o=r;n=o!==r?e.substring(n,ae):o;n!==r&&(ue=t,n=b({type:1,pattern:n},Ge()));return t=n}())!==r?(ue=t,t=n=o):(ae=t,t=r);t===r&&(t=ae,ue=ae,Ve.push("dateOrTimeArgStyle"),(n=(n=!0)?void 0:r)!==r&&(o=Se())!==r?(ue=t,n=w(o),t=n):(ae=t,t=r));return t}())!==r?u=s=[s,f,d]:(ae=u,u=r),u===r&&(u=null),u!==r&&(s=Le())!==r?(125===e.charCodeAt(ae)?(f="}",ae++):(f=r,0===fe&&_e(l)),f!==r?(ue=t,n=E(o,a,u),t=n):(ae=t,t=r)):(ae=t,t=r)):(ae=t,t=r)):(ae=t,t=r)):(ae=t,t=r);return t}());return t}())===r&&(t=function(){var t,n,i,a,u,s,f,d,p,m,h;t=ae,123===e.charCodeAt(ae)?(n="{",ae++):(n=r,0===fe&&_e(c));if(n!==r)if(Le()!==r)if((i=He())!==r)if(Le()!==r)if(44===e.charCodeAt(ae)?(a=",",ae++):(a=r,0===fe&&_e(O)),a!==r)if(Le()!==r)if("plural"===e.substr(ae,6)?(u="plural",ae+=6):(u=r,0===fe&&_e(D)),u===r&&("selectordinal"===e.substr(ae,13)?(u="selectordinal",ae+=13):(u=r,0===fe&&_e(L))),u!==r)if(Le()!==r)if(44===e.charCodeAt(ae)?(s=",",ae++):(s=r,0===fe&&_e(O)),s!==r)if(Le()!==r)if(f=ae,"offset:"===e.substr(ae,7)?(d="offset:",ae+=7):(d=r,0===fe&&_e(R)),d!==r&&(p=Le())!==r&&(m=Re())!==r?f=d=[d,p,m]:(ae=f,f=r),f===r&&(f=null),f!==r)if((d=Le())!==r){if(p=[],(m=Ae())!==r)for(;m!==r;)p.push(m),m=Ae();else p=r;p!==r&&(m=Le())!==r?(125===e.charCodeAt(ae)?(h="}",ae++):(h=r,0===fe&&_e(l)),h!==r?(ue=t,n=function(e,t,n,r){return b({type:o.plural,pluralType:"plural"===t?"cardinal":"ordinal",value:e,offset:n?n[2]:0,options:r.reduce((function(e,t){var n=t.id,r=t.value,o=t.location;return n in e&&me('Duplicate option "'+n+'" in plural element: "'+de()+'"',pe()),e[n]={value:r,location:o},e}),{})},Ge())}(i,u,f,p),t=n):(ae=t,t=r)):(ae=t,t=r)}else ae=t,t=r;else ae=t,t=r;else ae=t,t=r;else ae=t,t=r;else ae=t,t=r;else ae=t,t=r;else ae=t,t=r;else ae=t,t=r;else ae=t,t=r;else ae=t,t=r;else ae=t,t=r;else ae=t,t=r;return t}())===r&&(t=function(){var t,n,i,a,u,s,f,d,p;t=ae,123===e.charCodeAt(ae)?(n="{",ae++):(n=r,0===fe&&_e(c));if(n!==r)if(Le()!==r)if((i=He())!==r)if(Le()!==r)if(44===e.charCodeAt(ae)?(a=",",ae++):(a=r,0===fe&&_e(O)),a!==r)if(Le()!==r)if("select"===e.substr(ae,6)?(u="select",ae+=6):(u=r,0===fe&&_e(I)),u!==r)if(Le()!==r)if(44===e.charCodeAt(ae)?(s=",",ae++):(s=r,0===fe&&_e(O)),s!==r)if(Le()!==r){if(f=[],(d=Ne())!==r)for(;d!==r;)f.push(d),d=Ne();else f=r;f!==r&&(d=Le())!==r?(125===e.charCodeAt(ae)?(p="}",ae++):(p=r,0===fe&&_e(l)),p!==r?(ue=t,n=function(e,t){return b({type:o.select,value:e,options:t.reduce((function(e,t){var n=t.id,r=t.value,o=t.location;return n in e&&me('Duplicate option "'+n+'" in select element: "'+de()+'"',pe()),e[n]={value:r,location:o},e}),{})},Ge())}(i,f),t=n):(ae=t,t=r)):(ae=t,t=r)}else ae=t,t=r;else ae=t,t=r;else ae=t,t=r;else ae=t,t=r;else ae=t,t=r;else ae=t,t=r;else ae=t,t=r;else ae=t,t=r;else ae=t,t=r;else ae=t,t=r;return t}())===r&&(t=function(){var t,n;t=ae,35===e.charCodeAt(ae)?(n="#",ae++):(n=r,0===fe&&_e(u));n!==r&&(ue=t,n=b({type:o.pound},Ge()));return t=n}()),t}function Se(){var e,t,n;if(e=ae,t=[],(n=Ie())===r&&(n=Ue())===r&&(n=Fe()),n!==r)for(;n!==r;)t.push(n),(n=Ie())===r&&(n=Ue())===r&&(n=Fe());else t=r;return t!==r&&(ue=e,t=t.join("")),e=t}function ke(){var t,n,o,i,a;if(fe++,t=ae,n=[],o=ae,i=ae,fe++,(a=Pe())===r&&(d.test(e.charAt(ae))?(a=e.charAt(ae),ae++):(a=r,0===fe&&_e(p))),fe--,a===r?i=void 0:(ae=i,i=r),i!==r?(e.length>ae?(a=e.charAt(ae),ae++):(a=r,0===fe&&_e(m)),a!==r?o=i=[i,a]:(ae=o,o=r)):(ae=o,o=r),o!==r)for(;o!==r;)n.push(o),o=ae,i=ae,fe++,(a=Pe())===r&&(d.test(e.charAt(ae))?(a=e.charAt(ae),ae++):(a=r,0===fe&&_e(p))),fe--,a===r?i=void 0:(ae=i,i=r),i!==r?(e.length>ae?(a=e.charAt(ae),ae++):(a=r,0===fe&&_e(m)),a!==r?o=i=[i,a]:(ae=o,o=r)):(ae=o,o=r);else n=r;return t=n!==r?e.substring(t,ae):n,fe--,t===r&&(n=r,0===fe&&_e(f)),t}function xe(){var t,n,o;return fe++,t=ae,47===e.charCodeAt(ae)?(n="/",ae++):(n=r,0===fe&&_e(v)),n!==r&&(o=ke())!==r?(ue=t,t=n=o):(ae=t,t=r),fe--,t===r&&(n=r,0===fe&&_e(h)),t}function Ce(){var e,t,n,o;if(fe++,e=ae,Le()!==r)if((t=ke())!==r){for(n=[],o=xe();o!==r;)n.push(o),o=xe();n!==r?(ue=e,e=function(e,t){return{stem:e,options:t}}(t,n)):(ae=e,e=r)}else ae=e,e=r;else ae=e,e=r;return fe--,e===r&&(r,0===fe&&_e(g)),e}function Me(){var t,n,o,i;if(t=ae,39===e.charCodeAt(ae)?(n="'",ae++):(n=r,0===fe&&_e(S)),n!==r){if(o=[],(i=Ie())===r&&(k.test(e.charAt(ae))?(i=e.charAt(ae),ae++):(i=r,0===fe&&_e(x))),i!==r)for(;i!==r;)o.push(i),(i=Ie())===r&&(k.test(e.charAt(ae))?(i=e.charAt(ae),ae++):(i=r,0===fe&&_e(x)));else o=r;o!==r?(39===e.charCodeAt(ae)?(i="'",ae++):(i=r,0===fe&&_e(S)),i!==r?t=n=[n,o,i]:(ae=t,t=r)):(ae=t,t=r)}else ae=t,t=r;if(t===r)if(t=[],(n=Ie())===r&&(C.test(e.charAt(ae))?(n=e.charAt(ae),ae++):(n=r,0===fe&&_e(M))),n!==r)for(;n!==r;)t.push(n),(n=Ie())===r&&(C.test(e.charAt(ae))?(n=e.charAt(ae),ae++):(n=r,0===fe&&_e(M)));else t=r;return t}function Te(){var t,n;if(t=[],T.test(e.charAt(ae))?(n=e.charAt(ae),ae++):(n=r,0===fe&&_e(N)),n!==r)for(;n!==r;)t.push(n),T.test(e.charAt(ae))?(n=e.charAt(ae),ae++):(n=r,0===fe&&_e(N));else t=r;return t}function Ne(){var t,n,o,i,a,u,s;return t=ae,Le()!==r&&(n=ze())!==r&&Le()!==r?(123===e.charCodeAt(ae)?(o="{",ae++):(o=r,0===fe&&_e(c)),o!==r?(ue=ae,Ve.push("select"),(!0?void 0:r)!==r&&(i=je())!==r?(125===e.charCodeAt(ae)?(a="}",ae++):(a=r,0===fe&&_e(l)),a!==r?(ue=t,u=n,s=i,Ve.pop(),t=b({id:u,value:s},Ge())):(ae=t,t=r)):(ae=t,t=r)):(ae=t,t=r)):(ae=t,t=r),t}function Ae(){var t,n,o,i,a,u,s;return t=ae,Le()!==r&&(n=function(){var t,n,o,i;return t=ae,n=ae,61===e.charCodeAt(ae)?(o="=",ae++):(o=r,0===fe&&_e(U)),o!==r&&(i=Re())!==r?n=o=[o,i]:(ae=n,n=r),(t=n!==r?e.substring(t,ae):n)===r&&(t=ze()),t}())!==r&&Le()!==r?(123===e.charCodeAt(ae)?(o="{",ae++):(o=r,0===fe&&_e(c)),o!==r?(ue=ae,Ve.push("plural"),(!0?void 0:r)!==r&&(i=je())!==r?(125===e.charCodeAt(ae)?(a="}",ae++):(a=r,0===fe&&_e(l)),a!==r?(ue=t,u=n,s=i,Ve.pop(),t=b({id:u,value:s},Ge())):(ae=t,t=r)):(ae=t,t=r)):(ae=t,t=r)):(ae=t,t=r),t}function Pe(){var t;return fe++,H.test(e.charAt(ae))?(t=e.charAt(ae),ae++):(t=r,0===fe&&_e(B)),fe--,t===r&&(r,0===fe&&_e(F)),t}function De(){var t;return fe++,V.test(e.charAt(ae))?(t=e.charAt(ae),ae++):(t=r,0===fe&&_e(W)),fe--,t===r&&(r,0===fe&&_e(z)),t}function Le(){var t,n,o;for(fe++,t=ae,n=[],o=Pe();o!==r;)n.push(o),o=Pe();return t=n!==r?e.substring(t,ae):n,fe--,t===r&&(n=r,0===fe&&_e(G)),t}function Re(){var t,n,o,i,a;return fe++,t=ae,45===e.charCodeAt(ae)?(n="-",ae++):(n=r,0===fe&&_e(q)),n===r&&(n=null),n!==r&&(o=Be())!==r?(ue=t,i=n,t=n=(a=o)?i?-a:a:0):(ae=t,t=r),fe--,t===r&&(n=r,0===fe&&_e($)),t}function Ie(){var t,n;return fe++,t=ae,"''"===e.substr(ae,2)?(n="''",ae+=2):(n=r,0===fe&&_e(K)),n!==r&&(ue=t,n="'"),fe--,(t=n)===r&&(n=r,0===fe&&_e(Y)),t}function Ue(){var t,n,o,i,a,u;if(t=ae,39===e.charCodeAt(ae)?(n="'",ae++):(n=r,0===fe&&_e(S)),n!==r)if((o=function(){var t,n,o,i;t=ae,n=ae,e.length>ae?(o=e.charAt(ae),ae++):(o=r,0===fe&&_e(m));o!==r?(ue=ae,(i=(i="{"===(a=o)||"}"===a||We()&&"#"===a)?void 0:r)!==r?n=o=[o,i]:(ae=n,n=r)):(ae=n,n=r);var a;t=n!==r?e.substring(t,ae):n;return t}())!==r){for(i=ae,a=[],"''"===e.substr(ae,2)?(u="''",ae+=2):(u=r,0===fe&&_e(K)),u===r&&(k.test(e.charAt(ae))?(u=e.charAt(ae),ae++):(u=r,0===fe&&_e(x)));u!==r;)a.push(u),"''"===e.substr(ae,2)?(u="''",ae+=2):(u=r,0===fe&&_e(K)),u===r&&(k.test(e.charAt(ae))?(u=e.charAt(ae),ae++):(u=r,0===fe&&_e(x)));(i=a!==r?e.substring(i,ae):a)!==r?(39===e.charCodeAt(ae)?(a="'",ae++):(a=r,0===fe&&_e(S)),a===r&&(a=null),a!==r?(ue=t,t=n=o+i.replace("''","'")):(ae=t,t=r)):(ae=t,t=r)}else ae=t,t=r;else ae=t,t=r;return t}function Fe(){var t,n,o,i;return t=ae,n=ae,e.length>ae?(o=e.charAt(ae),ae++):(o=r,0===fe&&_e(m)),o!==r?(ue=ae,(i=(i=Z(o))?void 0:r)!==r?n=o=[o,i]:(ae=n,n=r)):(ae=n,n=r),n===r&&(10===e.charCodeAt(ae)?(n="\n",ae++):(n=r,0===fe&&_e(J))),t=n!==r?e.substring(t,ae):n}function He(){var t,n;return fe++,t=ae,(n=Be())===r&&(n=ze()),t=n!==r?e.substring(t,ae):n,fe--,t===r&&(n=r,0===fe&&_e(X)),t}function Be(){var t,n,o,i,a;if(fe++,t=ae,48===e.charCodeAt(ae)?(n="0",ae++):(n=r,0===fe&&_e(ee)),n!==r&&(ue=t,n=0),(t=n)===r){if(t=ae,n=ae,te.test(e.charAt(ae))?(o=e.charAt(ae),ae++):(o=r,0===fe&&_e(ne)),o!==r){for(i=[],re.test(e.charAt(ae))?(a=e.charAt(ae),ae++):(a=r,0===fe&&_e(oe));a!==r;)i.push(a),re.test(e.charAt(ae))?(a=e.charAt(ae),ae++):(a=r,0===fe&&_e(oe));i!==r?n=o=[o,i]:(ae=n,n=r)}else ae=n,n=r;n!==r&&(ue=t,n=parseInt(n.join(""),10)),t=n}return fe--,t===r&&(n=r,0===fe&&_e(Q)),t}function ze(){var t,n,o,i,a;if(fe++,t=ae,n=[],o=ae,i=ae,fe++,(a=Pe())===r&&(a=De()),fe--,a===r?i=void 0:(ae=i,i=r),i!==r?(e.length>ae?(a=e.charAt(ae),ae++):(a=r,0===fe&&_e(m)),a!==r?o=i=[i,a]:(ae=o,o=r)):(ae=o,o=r),o!==r)for(;o!==r;)n.push(o),o=ae,i=ae,fe++,(a=Pe())===r&&(a=De()),fe--,a===r?i=void 0:(ae=i,i=r),i!==r?(e.length>ae?(a=e.charAt(ae),ae++):(a=r,0===fe&&_e(m)),a!==r?o=i=[i,a]:(ae=o,o=r)):(ae=o,o=r);else n=r;return t=n!==r?e.substring(t,ae):n,fe--,t===r&&(n=r,0===fe&&_e(ie)),t}var Ve=["root"];function We(){return"plural"===Ve[Ve.length-1]}function Ge(){return t&&t.captureLocation?{location:pe()}:{}}if((n=a())!==r&&ae===e.length)return n;throw n!==r&&ae<e.length&&_e({type:"end"}),we(le,ce<e.length?e.charAt(ce):null,ce<e.length?ge(ce,ce+1):ge(ce,ce))},_=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,u=i.length;a<u;a++,o++)r[o]=i[a];return r},w=/(^|[^\\])#/g;function O(e,t){var n=g(e,t);return t&&!1===t.normalizeHashtagInPlural||function e(t){t.forEach((function(t){(f(t)||l(t))&&Object.keys(t.options).forEach((function(n){for(var r,o=t.options[n],a=-1,u=void 0,s=0;s<o.value.length;s++){var c=o.value[s];if(i(c)&&w.test(c.value)){a=s,u=c;break}}if(u){var l=u.value.replace(w,"$1{"+t.value+", number}"),f=g(l);(r=o.value).splice.apply(r,_([a,1],f))}e(o.value)}))}))}(n),n}var j=n(14),E=function(){return(E=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},S=/(?:[Eec]{1,6}|G{1,5}|[Qq]{1,5}|(?:[yYur]+|U{1,5})|[ML]{1,5}|d{1,2}|D{1,3}|F{1}|[abB]{1,5}|[hkHK]{1,2}|w{1,2}|W{1}|m{1,2}|s{1,2}|[zZOvVxX]{1,4})(?=([^']*'[^']*')*[^']*$)/g;function k(e){var t={};return e.replace(S,(function(e){var n=e.length;switch(e[0]){case"G":t.era=4===n?"long":5===n?"narrow":"short";break;case"y":t.year=2===n?"2-digit":"numeric";break;case"Y":case"u":case"U":case"r":throw new RangeError("`Y/u/U/r` (year) patterns are not supported, use `y` instead");case"q":case"Q":throw new RangeError("`q/Q` (quarter) patterns are not supported");case"M":case"L":t.month=["numeric","2-digit","short","long","narrow"][n-1];break;case"w":case"W":throw new RangeError("`w/W` (week) patterns are not supported");case"d":t.day=["numeric","2-digit"][n-1];break;case"D":case"F":case"g":throw new RangeError("`D/F/g` (day) patterns are not supported, use `d` instead");case"E":t.weekday=4===n?"short":5===n?"narrow":"short";break;case"e":if(n<4)throw new RangeError("`e..eee` (weekday) patterns are not supported");t.weekday=["short","long","narrow","short"][n-4];break;case"c":if(n<4)throw new RangeError("`c..ccc` (weekday) patterns are not supported");t.weekday=["short","long","narrow","short"][n-4];break;case"a":t.hour12=!0;break;case"b":case"B":throw new RangeError("`b/B` (period) patterns are not supported, use `a` instead");case"h":t.hourCycle="h12",t.hour=["numeric","2-digit"][n-1];break;case"H":t.hourCycle="h23",t.hour=["numeric","2-digit"][n-1];break;case"K":t.hourCycle="h11",t.hour=["numeric","2-digit"][n-1];break;case"k":t.hourCycle="h24",t.hour=["numeric","2-digit"][n-1];break;case"j":case"J":case"C":throw new RangeError("`j/J/C` (hour) patterns are not supported, use `h/H/K/k` instead");case"m":t.minute=["numeric","2-digit"][n-1];break;case"s":t.second=["numeric","2-digit"][n-1];break;case"S":case"A":throw new RangeError("`S/A` (second) pattenrs are not supported, use `s` instead");case"z":t.timeZoneName=n<4?"short":"long";break;case"Z":case"O":case"v":case"V":case"X":case"x":throw new RangeError("`Z/O/v/V/X/x` (timeZone) pattenrs are not supported, use `z` instead")}return""})),t}var x=/^\.(?:(0+)(\+|#+)?)?$/g,C=/^(@+)?(\+|#+)?$/g;function M(e){var t={};return e.replace(C,(function(e,n,r){return"string"!=typeof r?(t.minimumSignificantDigits=n.length,t.maximumSignificantDigits=n.length):"+"===r?t.minimumSignificantDigits=n.length:"#"===n[0]?t.maximumSignificantDigits=n.length:(t.minimumSignificantDigits=n.length,t.maximumSignificantDigits=n.length+("string"==typeof r?r.length:0)),""})),t}function T(e){switch(e){case"sign-auto":return{signDisplay:"auto"};case"sign-accounting":return{currencySign:"accounting"};case"sign-always":return{signDisplay:"always"};case"sign-accounting-always":return{signDisplay:"always",currencySign:"accounting"};case"sign-except-zero":return{signDisplay:"exceptZero"};case"sign-accounting-except-zero":return{signDisplay:"exceptZero",currencySign:"accounting"};case"sign-never":return{signDisplay:"never"}}}function N(e){var t=T(e);return t||{}}function A(e){for(var t={},n=0,r=e;n<r.length;n++){var o=r[n];switch(o.stem){case"percent":t.style="percent";continue;case"currency":t.style="currency",t.currency=o.options[0];continue;case"group-off":t.useGrouping=!1;continue;case"precision-integer":t.maximumFractionDigits=0;continue;case"measure-unit":t.style="unit",t.unit=o.options[0].replace(/^(.*?)-/,"");continue;case"compact-short":t.notation="compact",t.compactDisplay="short";continue;case"compact-long":t.notation="compact",t.compactDisplay="long";continue;case"scientific":t=E(E(E({},t),{notation:"scientific"}),o.options.reduce((function(e,t){return E(E({},e),N(t))}),{}));continue;case"engineering":t=E(E(E({},t),{notation:"engineering"}),o.options.reduce((function(e,t){return E(E({},e),N(t))}),{}));continue;case"notation-simple":t.notation="standard";continue;case"unit-width-narrow":t.currencyDisplay="narrowSymbol",t.unitDisplay="narrow";continue;case"unit-width-short":t.currencyDisplay="code",t.unitDisplay="short";continue;case"unit-width-full-name":t.currencyDisplay="name",t.unitDisplay="long";continue;case"unit-width-iso-code":t.currencyDisplay="symbol";continue}if(x.test(o.stem)){if(o.options.length>1)throw new RangeError("Fraction-precision stems only accept a single optional option");o.stem.replace(x,(function(e,n,r){return"."===e?t.maximumFractionDigits=0:"+"===r?t.minimumFractionDigits=r.length:"#"===n[0]?t.maximumFractionDigits=n.length:(t.minimumFractionDigits=n.length,t.maximumFractionDigits=n.length+("string"==typeof r?r.length:0)),""})),o.options.length&&(t=E(E({},t),M(o.options[0])))}else if(C.test(o.stem))t=E(E({},t),M(o.stem));else{var i=T(o.stem);i&&(t=E(E({},t),i))}}return t}var P,D=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),L=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,u=i.length;a<u;a++,o++)r[o]=i[a];return r},R=function(e){function t(t,n){var r=e.call(this,t)||this;return r.variableId=n,r}return D(t,e),t}(Error);function I(e,t,n,r,o,h,v){if(1===e.length&&i(e[0]))return[{type:0,value:e[0].value}];for(var b,y=[],g=0,_=e;g<_.length;g++){var w=_[g];if(i(w))y.push({type:0,value:w.value});else if(d(w))"number"==typeof h&&y.push({type:0,value:n.getNumberFormat(t).format(h)});else{var O=w.value;if(!o||!(O in o))throw new R('The intl string context variable "'+O+'" was not provided to the string "'+v+'"');var j=o[O];if(a(w))j&&"string"!=typeof j&&"number"!=typeof j||(j="string"==typeof j||"number"==typeof j?String(j):""),y.push({type:1,value:j});else if(s(w)){var E="string"==typeof w.style?r.date[w.style]:void 0;y.push({type:0,value:n.getDateTimeFormat(t,E).format(j)})}else if(c(w)){E="string"==typeof w.style?r.time[w.style]:m(w.style)?k(w.style.pattern):void 0;y.push({type:0,value:n.getDateTimeFormat(t,E).format(j)})}else if(u(w)){E="string"==typeof w.style?r.number[w.style]:p(w.style)?A(w.style.tokens):void 0;y.push({type:0,value:n.getNumberFormat(t,E).format(j)})}else if(l(w)){if(!(S=w.options[j]||w.options.other))throw new RangeError('Invalid values for "'+w.value+'": "'+j+'". Options are "'+Object.keys(w.options).join('", "')+'"');y.push.apply(y,I(S.value,t,n,r,o))}else if(f(w)){var S;if(!(S=w.options["="+j])){if(!Intl.PluralRules)throw new R('Intl.PluralRules is not available in this environment.\nTry polyfilling it using "@formatjs/intl-pluralrules"\n');var x=n.getPluralRules(t,{type:w.pluralType}).select(j-(w.offset||0));S=w.options[x]||w.options.other}if(!S)throw new RangeError('Invalid values for "'+w.value+'": "'+j+'". Options are "'+Object.keys(w.options).join('", "')+'"');y.push.apply(y,I(S.value,t,n,r,o,j-(w.offset||0)))}else;}}return(b=y).length<2?b:b.reduce((function(e,t){var n=e[e.length-1];return n&&0===n.type&&0===t.type?n.value+=t.value:e.push(t),e}),[])}var U=/@@(\d+_\d+)@@/g,F=0;function H(e,t){return e.split(U).filter(Boolean).map((function(e){return null!=t[e]?t[e]:e})).reduce((function(e,t){return e.length&&"string"==typeof t&&"string"==typeof e[e.length-1]?e[e.length-1]+=t:e.push(t),e}),[])}var B=/(<([0-9a-zA-Z-_]*?)>(.*?)<\/([0-9a-zA-Z-_]*?)>)|(<[0-9a-zA-Z-_]*?\/>)/,z=Date.now()+"@@",V=["area","base","br","col","embed","hr","img","input","link","meta","param","source","track","wbr"];function W(e,t,n,r,o,i){var a=I(e,t,n,r,o,void 0,i),u={},s=a.reduce((function(e,t){if(0===t.type)return e+t.value;var n=Date.now()+"_"+ ++F;return u[n]=t.value,e+"@@"+n+"@@"}),"");if(!B.test(s))return H(s,u);if(!o)throw new R("Message has placeholders but no values was given");if("undefined"==typeof DOMParser)throw new R("Cannot format XML message without DOMParser");P||(P=new DOMParser);var c=P.parseFromString('<formatted-message id="'+z+'">'+s+"</formatted-message>","text/html").getElementById(z);if(!c)throw new R("Malformed HTML message "+s);var l=Object.keys(o).filter((function(e){return!!c.getElementsByTagName(e).length}));if(!l.length)return H(s,u);var f=l.filter((function(e){return e!==e.toLowerCase()}));if(f.length)throw new R("HTML tag must be lowercased but the following tags are not: "+f.join(", "));return Array.prototype.slice.call(c.childNodes).reduce((function(e,t){return e.concat(function e(t,n,r){var o=t.tagName,i=t.outerHTML,a=t.textContent,u=t.childNodes;if(!o)return H(a||"",n);o=o.toLowerCase();var s=~V.indexOf(o),c=r[o];if(c&&s)throw new R(o+" is a self-closing tag and can not be used, please use another tag name.");if(!u.length)return[i];var l=Array.prototype.slice.call(u).reduce((function(t,o){return t.concat(e(o,n,r))}),[]);return c?"function"==typeof c?[c.apply(void 0,l)]:[c]:L(["<"+o+">"],l,["</"+o+">"])}(t,u,o))}),[])}var G=function(){return(G=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function $(e,t){return t?Object.keys(e).reduce((function(n,r){var o,i;return n[r]=(o=e[r],(i=t[r])?G(G(G({},o||{}),i||{}),Object.keys(o).reduce((function(e,t){return e[t]=G(G({},o[t]),i[t]||{}),e}),{})):o),n}),G({},e)):e}var q=function(){function e(t,n,r,o){var i,a=this;if(void 0===n&&(n=e.defaultLocale),this.formatterCache={number:{},dateTime:{},pluralRules:{}},this.format=function(e){return function(e,t,n,r,o,i){var a=I(e,t,n,r,o,void 0,i);return 1===a.length?a[0].value:a.reduce((function(e,t){return e+t.value}),"")}(a.ast,a.locales,a.formatters,a.formats,e,a.message)},this.formatToParts=function(e){return I(a.ast,a.locales,a.formatters,a.formats,e,void 0,a.message)},this.formatHTMLMessage=function(e){return W(a.ast,a.locales,a.formatters,a.formats,e,a.message)},this.resolvedOptions=function(){return{locale:Intl.NumberFormat.supportedLocalesOf(a.locales)[0]}},this.getAst=function(){return a.ast},"string"==typeof t){if(this.message=t,!e.__parse)throw new TypeError("IntlMessageFormat.__parse must be set to process `message` of type `string`");this.ast=e.__parse(t,{normalizeHashtagInPlural:!1})}else this.ast=t;if(!Array.isArray(this.ast))throw new TypeError("A message must be provided as a String or AST.");this.formats=$(e.formats,r),this.locales=n,this.formatters=o&&o.formatters||(void 0===(i=this.formatterCache)&&(i={number:{},dateTime:{},pluralRules:{}}),{getNumberFormat:Object(j.a)(Intl.NumberFormat,i.number),getDateTimeFormat:Object(j.a)(Intl.DateTimeFormat,i.dateTime),getPluralRules:Object(j.a)(Intl.PluralRules,i.pluralRules)})}return e.defaultLocale=(new Intl.NumberFormat).resolvedOptions().locale,e.__parse=O,e.formats={number:{currency:{style:"currency"},percent:{style:"percent"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}},e}();t.a=q},function(e,t,n){"use strict";function r(e){return!(!window.parent||window.parent===window)&&(window.parent.postMessage(JSON.stringify(e),"*"),!0)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e){return null===e||"anonymous_"===e.id.substr(0,10)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return m}));var r=n(1),o=n(36),i=n(2),a=n(22);function u(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){return Object.keys(e).reduce((function(n,r){return n[r]=Object.assign({timeZone:t},e[r]),n}),{})}function l(e,t){return Object.keys(Object.assign(Object.assign({},e),t)).reduce((function(n,r){return n[r]=Object.assign(Object.assign({},e[r]||{}),t[r]||{}),n}),{})}function f(e,t){if(!t)return e;var n=a.a.formats;return Object.assign(Object.assign(Object.assign({},n),e),{date:l(c(n.date,t),c(e.date||{},t)),time:l(c(n.time,t),c(e.time||{},t))})}var d=function(e){return r.createElement.apply(r,[r.Fragment,null].concat(u(e)))};function p(e,t){var n=e.locale,r=e.formats,a=e.messages,u=e.defaultLocale,s=e.defaultFormats,c=e.onError,l=e.timeZone,p=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{id:""},m=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},h=p.id,v=p.defaultMessage;Object(o.a)(!!h,"[React Intl] An `id` must be provided to format a message.");var b=a&&a[String(h)];r=f(r,l),s=f(s,l);var y=[];if(b)try{var g=t.getMessageFormat(b,n,r,{formatters:t});y=g.formatHTMLMessage(m)}catch(e){c(Object(i.b)('Error formatting message: "'.concat(h,'" for locale: "').concat(n,'"')+(v?", using default message as fallback.":""),e))}else(!v||n&&n.toLowerCase()!==u.toLowerCase())&&c(Object(i.b)('Missing message: "'.concat(h,'" for locale: "').concat(n,'"')+(v?", using default message as fallback.":"")));if(!y.length&&v)try{var _=t.getMessageFormat(v,u,s);y=_.formatHTMLMessage(m)}catch(e){c(Object(i.b)('Error formatting the default message for: "'.concat(h,'"'),e))}return y.length?1===y.length&&"string"==typeof y[0]?y[0]||v||String(h):d(y):(c(Object(i.b)('Cannot format message: "'.concat(h,'", ')+"using message ".concat(b||v?"source":"id"," as fallback."))),"string"==typeof b?b||v||String(h):v||String(h))}function m(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{id:""},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=Object.keys(r).reduce((function(e,t){var n=r[t];return e[t]="string"==typeof n?Object(i.e)(n):n,e}),{});return p(e,t,n,o)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return B}));var r=n(1),o=n(13),i=n(2),a=["localeMatcher","style","currency","currencyDisplay","unit","unitDisplay","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","currencyDisplay","currencySign","notation","signDisplay","unit","unitDisplay"];function u(e,t){var n=e.locale,r=e.formats,o=e.onError,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=u.format,c=s&&Object(i.g)(r,"number",s,o)||{},l=Object(i.f)(u,a,c);return t(n,l)}function s(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};try{return u(e,t,r).format(n)}catch(t){e.onError(Object(i.b)("Error formatting number.",t))}return String(n)}function c(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};try{return u(e,t,r).formatToParts(n)}catch(t){e.onError(Object(i.b)("Error formatting number.",t))}return[]}var l=["numeric","style"];function f(e,t){var n=e.locale,r=e.formats,o=e.onError,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},u=a.format,s=!!u&&Object(i.g)(r,"relative",u,o)||{},c=Object(i.f)(a,l,s);return t(n,c)}function d(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};r||(r="second");var a=Intl.RelativeTimeFormat;a||e.onError(Object(i.b)('Intl.RelativeTimeFormat is not available in this environment.\nTry polyfilling it using "@formatjs/intl-relativetimeformat"\n'));try{return f(e,t,o).format(n,r)}catch(t){e.onError(Object(i.b)("Error formatting relative time.",t))}return String(n)}var p=["localeMatcher","formatMatcher","timeZone","hour12","weekday","era","year","month","day","hour","minute","second","timeZoneName"];function m(e,t,n){var r=e.locale,o=e.formats,a=e.onError,u=e.timeZone,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},c=s.format,l=Object.assign(Object.assign({},u&&{timeZone:u}),c&&Object(i.g)(o,t,c,a)),f=Object(i.f)(s,p,l);return"time"!==t||f.hour||f.minute||f.second||(f=Object.assign(Object.assign({},f),{hour:"numeric",minute:"numeric"})),n(r,f)}function h(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o="string"==typeof n?new Date(n||0):n;try{return m(e,"date",t,r).format(o)}catch(t){e.onError(Object(i.b)("Error formatting date.",t))}return String(o)}function v(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o="string"==typeof n?new Date(n||0):n;try{return m(e,"time",t,r).format(o)}catch(t){e.onError(Object(i.b)("Error formatting time.",t))}return String(o)}function b(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o="string"==typeof n?new Date(n||0):n;try{return m(e,"date",t,r).formatToParts(o)}catch(t){e.onError(Object(i.b)("Error formatting date.",t))}return[]}function y(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o="string"==typeof n?new Date(n||0):n;try{return m(e,"time",t,r).formatToParts(o)}catch(t){e.onError(Object(i.b)("Error formatting time.",t))}return[]}var g=["localeMatcher","type"];function _(e,t,n){var r=e.locale,o=e.onError,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};Intl.PluralRules||o(Object(i.b)('Intl.PluralRules is not available in this environment.\nTry polyfilling it using "@formatjs/intl-pluralrules"\n'));var u=Object(i.f)(a,g);try{return t(r,u).select(n)}catch(e){o(Object(i.b)("Error formatting plural.",e))}return"other"}var w=n(25),O=n(20),j=n.n(O);function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var S=["localeMatcher","type","style"],k=Date.now();function x(e){return"".concat(k,"_").concat(e,"_").concat(k)}function C(e,t,n){var r=e.locale,o=e.onError,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},u=Intl.ListFormat;u||o(Object(i.b)('Intl.ListFormat is not available in this environment.\nTry polyfilling it using "@formatjs/intl-listformat"\n'));var s=Object(i.f)(a,S);try{var c={},l=n.map((function(e,t){if("object"===E(e)){var n=x(t);return c[n]=e,n}return String(e)}));if(!Object.keys(c).length)return t(r,s).format(l);var f=t(r,s).formatToParts(l);return f.reduce((function(e,t){var n=t.value;return c[n]?e.push(c[n]):"string"==typeof e[e.length-1]?e[e.length-1]+=n:e.push(n),e}),[])}catch(e){o(Object(i.b)("Error formatting list.",e))}return n}var M=["localeMatcher","style","type","fallback"];function T(e,t,n){var r=e.locale,o=e.onError,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},u=Intl.DisplayNames;u||o(Object(i.b)('Intl.DisplayNames is not available in this environment.\nTry polyfilling it using "@formatjs/intl-displaynames"\n'));var s=Object(i.f)(a,M);try{return t(r,s).of(n)}catch(e){o(Object(i.b)("Error formatting display name.",e))}}function N(e){return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function A(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function D(e,t){return(D=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function L(e,t){return!t||"object"!==N(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function R(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function I(e){return(I=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var U=j.a||O;function F(e){return{locale:e.locale,timeZone:e.timeZone,formats:e.formats,textComponent:e.textComponent,messages:e.messages,defaultLocale:e.defaultLocale,defaultFormats:e.defaultFormats,onError:e.onError}}function H(e,t){var n=Object(i.c)(t),r=Object.assign(Object.assign({},i.a),e),o=r.locale,a=r.defaultLocale,u=r.onError;return o?!Intl.NumberFormat.supportedLocalesOf(o).length&&u?u(Object(i.b)('Missing locale data for locale: "'.concat(o,'" in Intl.NumberFormat. Using default locale: "').concat(a,'" as fallback. See https://github.com/formatjs/react-intl/blob/master/docs/Getting-Started.md#runtime-requirements for more details'))):!Intl.DateTimeFormat.supportedLocalesOf(o).length&&u&&u(Object(i.b)('Missing locale data for locale: "'.concat(o,'" in Intl.DateTimeFormat. Using default locale: "').concat(a,'" as fallback. See https://github.com/formatjs/react-intl/blob/master/docs/Getting-Started.md#runtime-requirements for more details'))):(u&&u(Object(i.b)('"locale" was not configured, using "'.concat(a,'" as fallback. See https://github.com/formatjs/react-intl/blob/master/docs/API.md#intlshape for more details'))),r.locale=r.defaultLocale||"en"),Object.assign(Object.assign({},r),{formatters:n,formatNumber:s.bind(null,r,n.getNumberFormat),formatNumberToParts:c.bind(null,r,n.getNumberFormat),formatRelativeTime:d.bind(null,r,n.getRelativeTimeFormat),formatDate:h.bind(null,r,n.getDateTimeFormat),formatDateToParts:b.bind(null,r,n.getDateTimeFormat),formatTime:v.bind(null,r,n.getDateTimeFormat),formatTimeToParts:y.bind(null,r,n.getDateTimeFormat),formatPlural:_.bind(null,r,n.getPluralRules),formatMessage:w.b.bind(null,r,n),formatHTMLMessage:w.a.bind(null,r,n),formatList:C.bind(null,r,n.getListFormat),formatDisplayName:T.bind(null,r,n.getDisplayNames)})}var B=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&D(e,t)}(c,e);var t,n,a,u,s=(t=c,function(){var e,n=I(t);if(R()){var r=I(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return L(this,e)});function c(){var e;return A(this,c),(e=s.apply(this,arguments)).cache=Object(i.d)(),e.state={cache:e.cache,intl:H(F(e.props),e.cache),prevConfig:F(e.props)},e}return n=c,u=[{key:"getDerivedStateFromProps",value:function(e,t){var n=t.prevConfig,r=t.cache,o=F(e);return U(n,o)?null:{intl:H(o,r),prevConfig:o}}}],(a=[{key:"render",value:function(){return Object(i.h)(this.state.intl),r.createElement(o.b,{value:this.state.intl},this.props.children)}}])&&P(n.prototype,a),u&&P(n,u),c}(r.PureComponent);B.displayName="IntlProvider",B.defaultProps=i.a},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));n(41),n(42),n(45),n(46),n(47);var r=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}s((r=r.apply(e,t||[])).next())}))},o=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}};function i(){return r(this,void 0,void 0,(function(){function e(){if(!("startsWith"in String.prototype&&"endsWith"in String.prototype&&"includes"in Array.prototype&&"assign"in Object&&"keys"in Object))return n.e(10).then(n.t.bind(null,115,7))}function t(){if(!("fetch"in window))return n.e(12).then(n.bind(null,116))}function r(){if(!("IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype))return n.e(6).then(n.t.bind(null,117,7))}return o(this,(function(n){switch(n.label){case 0:return[4,Promise.all([e(),t(),r()])];case 1:return n.sent(),[2]}}))}))}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";var r=n(1),o=n(13),i=n(25),a=n(2),u=n(20);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var b=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},y=n.n(u).a||u,g=function(e,t){return Object(i.b)(Object.assign(Object.assign({},a.a),{locale:"en"}),Object(a.c)(),e,t)},_=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(l,e);var t,n,i,u,s=(t=l,function(){var e,n=v(t);if(h()){var r=v(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return m(this,e)});function l(){return f(this,l),s.apply(this,arguments)}return n=l,(i=[{key:"shouldComponentUpdate",value:function(e){var t=this.props,n=t.values,r=b(t,["values"]),o=e.values,i=b(e,["values"]);return!y(o,n)||!y(r,i)}},{key:"render",value:function(){var e=this;return r.createElement(o.a.Consumer,null,(function(t){e.props.defaultMessage||Object(a.h)(t);var n=t||{},o=n.formatMessage,i=void 0===o?g:o,u=n.textComponent,s=void 0===u?r.Fragment:u,l=e.props,f=l.id,d=l.description,p=l.defaultMessage,m=l.values,h=l.children,v=l.tagName,b=void 0===v?s:v,y=i({id:f,description:d,defaultMessage:p},m);return Array.isArray(y)||(y=[y]),"function"==typeof h?h.apply(void 0,c(y)):b?r.createElement.apply(r,[b,null].concat(c(y))):y}))}}])&&d(n.prototype,i),u&&d(n,u),l}(r.Component);_.displayName="FormattedMessage",_.defaultProps={values:{}},t.a=_},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(1),o=n(13),i=n(2);function a(){var e=Object(r.useContext)(o.a);return Object(i.h)(e),e}},function(e,t,n){"use strict";e.exports=n(48)},function(e,t,n){"use strict";n.d(t,"a",(function(){return H}));n(53);var r=n(0),o=n(6),i=n.n(o),a=n(12),u=n(3),s=n(8),c=n(34),l=function(e){var t=document.createElement("div");t.innerHTML=e,t.style.contain="strict",t.style.position="absolute",t.style.left="-9999px",t.style.fontSize="12pt",document.body.appendChild(t);var n=document.getSelection();if(!n)return!0;var r,o,i=null;n.rangeCount>0&&(i=n.getRangeAt(0)),document.body.createTextRange?((r=document.body.createTextRange()).moveToElement(t),r.select()):window.getSelection&&(o=window.getSelection(),(r=document.createRange()).selectNodeContents(t),o&&(o.removeAllRanges(),o.addRange(r))),document.execCommand("copy");var a=!1;try{a=document.execCommand("copy")}catch(e){}if(!document.body.createTextRange&&window.getSelection){var u=window.getSelection();u&&u.removeAllRanges()}return document.body.removeChild(t),i&&(o.removeAllRanges(),o.addRange(i)),a},f=n(17),d=n(15),p=n(24),m=n(35),h=n(11),v=function(){return(v=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},b=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};var y,g,_=(y=function(e,t){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}y(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),w=function(){return(w=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},O=function(e){function t(t){var n=e.call(this,t)||this;return n.elemRef=Object(r.g)(),n.state={time:t.time.getTime()},n}return _(t,e),t.prototype.componentDidMount=function(){this.start()},t.prototype.componentWillReceiveProps=function(e){e.time!==this.props.time&&(this.setState({time:e.time.getTime()}),this.start())},t.prototype.componentWillUnmount=function(){window.clearInterval(this.intervalID)},t.prototype.shouldComponentUpdate=function(){return!1},t.prototype.tick=function(){if(this.elemRef){var e=Math.max(0,(this.state.time-(new Date).getTime())/1e3).toFixed(0);this.elemRef.current.innerText=e,"0"===e&&(this.props.onTimePassed&&this.props.onTimePassed(),window.clearInterval(this.intervalID),this.intervalID=void 0)}},t.prototype.start=function(){var e=this;this.intervalID&&clearInterval(this.intervalID),this.tick(),this.intervalID=window.setInterval((function(){e.tick()}),1e3)},t.prototype.render=function(e){return Object(r.f)("span",w({},function(e){for(var t,n,r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];var i=v({},e);try{for(var a=b(r),u=a.next();!u.done;u=a.next()){var s=u.value;delete i[s]}}catch(e){t={error:e}}finally{try{u&&!u.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return i}(e,"time","onTimePassed"),{ref:this.elemRef}))},t}(r.a),j=n(23),E=n(9),S=n(29),k=n(30),x=Object(E.a)({ownComment:{id:"vote.own-comment",defaultMessage:"Can't vote for your own comment"},guest:{id:"vote.guest",defaultMessage:"Sign in to vote"},onlyPostPage:{id:"vote.only-post-page",defaultMessage:"Voting allowed only on post's page"},readonly:{id:"vote.readonly",defaultMessage:"Can't vote on read-only topics"},deleted:{id:"vote.deleted",defaultMessage:"Can't vote for deleted comment"},anonymous:{id:"vote.anonymous",defaultMessage:"Anonymous users can't vote"},onlyPositive:{id:"vote.only-positive",defaultMessage:"Only positive score allowed"}});function C(e,t){var n;return((n={})[g.OWN_COMMENT]=t.formatMessage(x.ownComment),n[g.GUEST]=t.formatMessage(x.guest),n[g.ONLY_POST_PAGE]=t.formatMessage(x.onlyPostPage),n[g.READONLY]=t.formatMessage(x.readonly),n[g.DELETED]=t.formatMessage(x.deleted),n[g.ANONYMOUS]=t.formatMessage(x.anonymous),n[g.ONLY_POSITIVE]=t.formatMessage(x.onlyPositive),n)[e]}!function(e){e[e.OWN_COMMENT=0]="OWN_COMMENT",e[e.GUEST=1]="GUEST",e[e.ONLY_POST_PAGE=2]="ONLY_POST_PAGE",e[e.READONLY=3]="READONLY",e[e.DELETED=4]="DELETED",e[e.ANONYMOUS=5]="ANONYMOUS",e[e.ONLY_POSITIVE=6]="ONLY_POSITIVE"}(g||(g={}));var M=Object(E.a)({permanently:{id:"blockingDuration.permanently",defaultMessage:"Permanently"},month:{id:"blockingDuration.month",defaultMessage:"For a month"},week:{id:"blockingDuration.week",defaultMessage:"For a week"},day:{id:"blockingDuration.day",defaultMessage:"For a day"}});function T(e){return[{label:e.formatMessage(M.permanently),value:"permanently"},{label:e.formatMessage(M.month),value:"43200m"},{label:e.formatMessage(M.week),value:"10080m"},{label:e.formatMessage(M.day),value:"1440m"}]}var N=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),A=function(){return(A=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},P=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}s((r=r.apply(e,t||[])).next())}))},D=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},L=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},R=Object(E.a)({deleteMessage:{id:"comment.delete-message",defaultMessage:"Do you want to delete this comment?"},hideUserComments:{id:"comment.hide-user-comment",defaultMessage:"Do you want to hide comments of {userName}?"},pinComment:{id:"comment.pin-comment",defaultMessage:"Do you want to pin this comment?"},unpinComment:{id:"comment.unpin-comment",defaultMessage:"Do you want to unpin this comment?"},verifyUser:{id:"comment.verify-user",defaultMessage:"Do you want to verify {userName}?"},unverifyUser:{id:"comment.unverify-user",defaultMessage:"Do you want to unverify {userName}?"},blockUser:{id:"comment.block-user",defaultMessage:"Do you want to block {userName} {duration}?"},unblockUser:{id:"comment.unblock-user",defaultMessage:"Do you want to unblock this user?"},deletedComment:{id:"comment.deleted-comment",defaultMessage:"This comment was deleted"},controversy:{id:"comment.controversy",defaultMessage:"Controversy: {value}"},toggleVerification:{id:"comment.toggle-verification",defaultMessage:"Toggle verification"},verifiedUser:{id:"comment.verified-user",defaultMessage:"Verified user"},unverifiedUser:{id:"comment.unverified-user",defaultMessage:"Unverified user"},goToParent:{id:"comment.go-to-parent",defaultMessage:"Go to parent comment"},expiredTime:{id:"comment.expired-time",defaultMessage:"Editing time has expired."}}),I=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.votingPromise=Promise.resolve(),t.textNode=Object(r.g)(),t.updateState=function(e){var t={scoreDelta:e.data.vote,cachedScore:e.data.score};if(e.inView&&(t.renderDummy=!1),e.user&&e.user.id===e.data.user.id){var n=s.a.config.edit_duration,r=s.a.serverClientTimeDiff||0,o=new Date(new Date(e.data.time).getTime()+r+1e3*n);o<new Date?t.editDeadline=null:t.editDeadline=o}return t},t.state=A({renderDummy:"boolean"==typeof t.props.inView&&!t.props.inView,isCopied:!1,editDeadline:null,voteErrorMessage:null,scoreDelta:0,cachedScore:t.props.data.score,initial:!0},t.updateState(t.props)),t.toggleReplying=function(){t.props.editMode===f.a.Reply?t.props.setReplyEditState({id:t.props.data.id,state:f.a.None}):t.props.setReplyEditState({id:t.props.data.id,state:f.a.Reply})},t.toggleEditing=function(){t.props.editMode===f.a.Edit?t.props.setReplyEditState({id:t.props.data.id,state:f.a.None}):t.props.setReplyEditState({id:t.props.data.id,state:f.a.Edit})},t.toggleUserInfoVisibility=function(){if(window.parent){var e=t.props.data.user,n=JSON.stringify({isUserInfoShown:!0,user:e});window.parent.postMessage(n,"*")}},t.togglePin=function(){var e=!t.props.data.pin,n=t.props.intl,r=e?n.formatMessage(R.pinComment):n.formatMessage(R.unpinComment);confirm(r)&&t.props.setPinState(t.props.data.id,e)},t.toggleVerify=function(){var e=!t.props.data.user.verified,n=t.props.data.user.id,r=t.props.intl,o=t.props.data.user.name,i=e?r.formatMessage(R.verifyUser,{userName:o}):r.formatMessage(R.unverifyUser,{userName:o});confirm(i)&&t.props.setVerifiedStatus(n,e)},t.onBlockUserClick=function(e){"change"===e.type&&e.target.blur(),t.blockUser(e.target.value)},t.blockUser=Object(c.a)((function(e){var n=t.props.data.user,r=T(t.props.intl).find((function(t){return t.value===e}));if(r){var o=r.label,i=t.props.intl.formatMessage(R.blockUser,{userName:n.name,duration:o.toLowerCase()});confirm(i)&&t.props.blockUser(n.id,n.name,e)}}),100),t.onUnblockUserClick=function(){var e=t.props.data.user,n=t.props.intl.formatMessage(R.unblockUser);confirm(n)&&t.props.unblockUser(e.id)},t.deleteComment=function(){var e=t.props.intl.formatMessage(R.deleteMessage);confirm(e)&&(t.props.setReplyEditState({id:t.props.data.id,state:f.a.None}),t.props.removeComment(t.props.data.id))},t.hideUser=function(){var e=t.props.intl.formatMessage(R.hideUserComments,{userName:t.props.data.user.name});confirm(e)&&t.props.hideUser(t.props.data.user)},t.handleVoteError=function(e,n,r){t.setState({scoreDelta:r,cachedScore:n,voteErrorMessage:Object(d.a)(e,t.props.intl)})},t.sendVotingRequest=function(e,n,r){t.votingPromise=t.votingPromise.then((function(){return t.props.putCommentVote(t.props.data.id,e)})).catch((function(e){return t.handleVoteError(e,n,r)}))},t.increaseScore=function(){var e=t.state,n=e.cachedScore,r=e.scoreDelta;1!==r&&(t.setState({scoreDelta:r+1,cachedScore:n+1,voteErrorMessage:null}),t.sendVotingRequest(1,n,r))},t.decreaseScore=function(){var e=t.state,n=e.cachedScore,r=e.scoreDelta;-1!==r&&(t.setState({scoreDelta:r-1,cachedScore:n-1,voteErrorMessage:null}),t.sendVotingRequest(-1,n,r))},t.addComment=function(e,n,r){return P(t,void 0,void 0,(function(){return D(this,(function(t){switch(t.label){case 0:return[4,this.props.addComment(e,n,r)];case 1:return t.sent(),this.props.setReplyEditState({id:this.props.data.id,state:f.a.None}),[2]}}))}))},t.updateComment=function(e,n){return P(t,void 0,void 0,(function(){return D(this,(function(t){switch(t.label){case 0:return[4,this.props.updateComment(e,n)];case 1:return t.sent(),this.props.setReplyEditState({id:this.props.data.id,state:f.a.None}),[2]}}))}))},t.scrollToParent=function(e){var n=t.props.data.pid;e.preventDefault();var r=document.getElementById(""+u.c+n);if(r){var o=r.getBoundingClientRect().top;Object(j.a)({scrollTo:o})||r.scrollIntoView()}},t.copyComment=function(){var e=t.props.data.user.name,n=t.props.data.time,r=t.textNode.current.textContent||"";l("<b>"+e+"</b>&nbsp;"+n+"<br>"+r.replace(/\n+/g,"<br>")),t.setState({isCopied:!0},(function(){setTimeout((function(){return t.setState({isCopied:!1})}),3e3)}))},t.isAdmin=function(){return!!t.props.user&&t.props.user.admin},t.isGuest=function(){return!t.props.user},t.isAnonymous=function(){return Object(p.a)(t.props.user)},t.isCurrentUser=function(){return!t.isGuest()&&t.props.data.user.id===t.props.user.id},t.getDownvoteDisabledReason=function(){var e=t.props.intl;return"main"!==t.props.view&&"pinned"!==t.props.view?C(g.ONLY_POST_PAGE,e):t.props.post_info.read_only?C(g.READONLY,e):t.props.data.delete?C(g.DELETED,e):t.isCurrentUser()?C(g.OWN_COMMENT,e):s.a.config.positive_score&&t.props.data.score<1?C(g.ONLY_POSITIVE,e):t.isGuest()?C(g.GUEST,e):t.isAnonymous()&&!s.a.config.anon_vote?C(g.ANONYMOUS,e):null},t.getUpvoteDisabledReason=function(){var e=t.props.intl;return"main"!==t.props.view&&"pinned"!==t.props.view?C(g.ONLY_POST_PAGE,e):t.props.post_info.read_only?C(g.READONLY,e):t.props.data.delete?C(g.DELETED,e):t.isCurrentUser()?C(g.OWN_COMMENT,e):t.isGuest()?C(g.GUEST,e):t.isAnonymous()&&!s.a.config.anon_vote?C(g.ANONYMOUS,e):null},t.getCommentControls=function(){var e=t.isAdmin(),n=t.isCurrentUser(),o=[];if(t.props.data.delete)return o;if("main"!==t.props.view&&"pinned"!==t.props.view)return o;if(e&&(o.push(t.state.isCopied?Object(r.f)("span",{className:"comment__control comment__control_view_inactive"},Object(r.f)(S.a,{id:"comment.copied",defaultMessage:"Copied!"})):Object(r.f)(h.a,A({kind:"link"},Object(a.a)(t.copyComment),{mix:"comment__control"}),Object(r.f)(S.a,{id:"comment.copy",defaultMessage:"Copy"}))),o.push(Object(r.f)(h.a,A({kind:"link"},Object(a.a)(t.togglePin),{mix:"comment__control"}),t.props.data.pin?Object(r.f)(S.a,{id:"comment.unpin",defaultMessage:"Unpin"}):Object(r.f)(S.a,{id:"comment.pin",defaultMessage:"Pin"})))),n||o.push(Object(r.f)(h.a,A({kind:"link"},Object(a.a)(t.hideUser),{mix:"comment__control"}),Object(r.f)(S.a,{id:"comment.hide",defaultMessage:"Hide"}))),e){t.props.isUserBanned&&o.push(Object(r.f)(h.a,A({kind:"link"},Object(a.a)(t.onUnblockUserClick),{mix:"comment__control"}),Object(r.f)(S.a,{id:"comment.unblock",defaultMessage:"Unblock"})));var i=T(t.props.intl);t.props.user.id===t.props.data.user.id||t.props.isUserBanned||o.push(Object(r.f)("span",{className:"comment__control comment__control_select-label"},Object(r.f)(S.a,{id:"comment.block",defaultMessage:"Block"}),Object(r.f)("select",{className:"comment__control_select",onBlur:t.onBlockUserClick,onChange:t.onBlockUserClick},Object(r.f)("option",{disabled:!0,selected:!0,value:void 0},Object(r.f)(S.a,{id:"comment.blocking-period",defaultMessage:"Blocking period"})),i.map((function(e){return Object(r.f)("option",{value:e.value},e.label)}))))),t.props.data.delete||o.push(Object(r.f)(h.a,A({kind:"link"},Object(a.a)(t.deleteComment),{mix:"comment__control"}),Object(r.f)(S.a,{id:"comment.delete",defaultMessage:"Delete"})))}return o},t}return N(t,e),t.prototype.componentWillReceiveProps=function(e){this.setState(this.updateState(e))},t.prototype.componentDidMount=function(){this.setState({initial:!1})},t.prototype.render=function(e,t){var n=this,o=this.isAdmin(),c=this.isGuest(),l=this.isCurrentUser(),d=e.editMode===f.a.Reply,p=e.editMode===f.a.Edit,v=s.a.config.low_score,b=this.getDownvoteDisabledReason(),y=null!==b,g=this.getUpvoteDisabledReason(),_=null!==g,w=0===e.repliesCount&&t.editDeadline,j=!s.a.config.positive_score,E=this.isAnonymous()?void 0:this.props.uploadImage,k=this.getCommentControls(),x=e.intl,C=this.props.CommentForm,M=A(A({},e.data),{controversyText:x.formatMessage(R.controversy,{value:(e.data.controversy||0).toFixed(2)}),text:"preview"===e.view?U(e.data.text):e.data.delete?x.formatMessage(R.deletedComment):e.data.text,time:new Date(e.data.time),orig:p?e.data.orig&&e.data.orig.replace(/&[#A-Za-z0-9]+;/gi,(function(e){var t=document.createElement("span");return t.innerHTML=e,t.innerText})):e.data.orig,score:{value:Math.abs(t.cachedScore),sign:j?t.cachedScore>0?"+":t.cachedScore<0?"−":null:"",view:t.cachedScore>0?"positive":t.cachedScore<0?"negative":null},user:A(A({},e.data.user),{picture:0===e.data.user.picture.indexOf(u.a)?""+u.b+e.data.user.picture:e.data.user.picture})}),T={disabled:e.disabled,pinned:e.data.pin,useless:!!e.isUserBanned||!!e.data.delete||"preview"!==e.view&&e.data.score<v&&!e.data.pin&&!e.disabled,guest:c,view:"main"===e.view||"pinned"===e.view?e.data.user.admin&&"admin":e.view,replying:"main"===e.view&&d,editing:"main"===e.view&&p,theme:"preview"===e.view?null:e.theme,level:e.level,collapsed:e.collapsed};if("preview"===e.view)return Object(r.f)("article",{className:i()("comment",{mix:e.mix},T)},Object(r.f)("div",{className:"comment__body"},!!M.title&&Object(r.f)("div",{className:"comment__title"},Object(r.f)("a",{className:"comment__title-link",href:M.locator.url+"#"+u.c+M.id},M.title)),Object(r.f)("div",{className:"comment__info"},!!M.title&&M.user.name,!M.title&&Object(r.f)("a",{href:M.locator.url+"#"+u.c+M.id,className:"comment__username"},M.user.name))," ",Object(r.f)("div",{className:i()("comment__text",{mix:i()("raw-content",{},{theme:e.theme})}),dangerouslySetInnerHTML:{__html:M.text}})));if(this.state.renderDummy&&!e.editMode){var N=L(this.base?[this.base.scrollWidth,this.base.scrollHeight]:[100,100],2),P=N[0],D=N[1];return Object(r.f)("article",{id:e.disabled?void 0:""+u.c+M.id,style:{width:P+"px",height:D+"px"}})}var I=x.formatMessage(R.goToParent);return Object(r.f)("article",{className:i()("comment",{mix:this.props.mix},T),id:e.disabled?void 0:""+u.c+M.id},"user"===e.view&&M.title&&Object(r.f)("div",{className:"comment__title"},Object(r.f)("a",{className:"comment__title-link",href:M.locator.url+"#"+u.c+M.id},M.title)),Object(r.f)("div",{className:"comment__info"},"user"!==e.view&&!e.collapsed&&Object(r.f)(m.a,{mix:"comment__avatar",theme:this.props.theme,picture:M.user.picture}),"user"!==e.view&&Object(r.f)("span",A({},Object(a.a)(this.toggleUserInfoVisibility),{className:"comment__username",title:M.user.id}),M.user.name),o&&"user"!==e.view&&Object(r.f)("span",A({},Object(a.a)(this.toggleVerify),{"aria-label":x.formatMessage(R.toggleVerification),title:M.user.verified?x.formatMessage(R.verifiedUser):x.formatMessage(R.unverifiedUser),className:i()("comment__verification",{},{active:M.user.verified,clickable:!0})})),!o&&!!M.user.verified&&"user"!==e.view&&Object(r.f)("span",{title:x.formatMessage(R.verifiedUser),className:i()("comment__verification",{},{active:!0})}),Object(r.f)("a",{href:M.locator.url+"#"+u.c+M.id,className:"comment__time"},Object(r.f)(F,{time:M.time})),!!e.level&&e.level>0&&"main"===e.view&&Object(r.f)("a",{className:"comment__link-to-parent",href:M.locator.url+"#"+u.c+M.pid,"aria-label":I,title:I,onClick:function(e){return n.scrollToParent(e)}}," "),e.isUserBanned&&"user"!==e.view&&Object(r.f)("span",{className:"comment__status"},Object(r.f)(S.a,{id:"comment.blocked-user",defaultMessage:"Blocked"})),o&&!e.isUserBanned&&e.data.delete&&Object(r.f)("span",{className:"comment__status"},Object(r.f)(S.a,{id:"comment.deleted-user",defaultMessage:"Deleted"})),Object(r.f)("span",{className:i()("comment__score",{},{view:M.score.view})},Object(r.f)("span",A({className:i()("comment__vote",{},{type:"up",selected:1===t.scoreDelta,disabled:_}),"aria-disabled":1===t.scoreDelta||_?"true":"false"},Object(a.a)(_?void 0:this.increaseScore),{title:g||void 0}),"Vote up"),Object(r.f)("span",{className:"comment__score-value",title:M.controversyText},M.score.sign,M.score.value),Object(r.f)("span",A({className:i()("comment__vote",{},{type:"down",selected:-1===t.scoreDelta,disabled:y}),"aria-disabled":-1===t.scoreDelta||_?"true":"false"},Object(a.a)(y?void 0:this.decreaseScore),{title:b||void 0}),"Vote down"))),Object(r.f)("div",{className:"comment__body"},!!t.voteErrorMessage&&Object(r.f)("div",{className:"voting__error",role:"alert"},Object(r.f)(S.a,{id:"comment.vote-error",defaultMessage:"Voting error: {voteErrorMessage}",values:{voteErrorMessage:t.voteErrorMessage}})),(!e.collapsed||"pinned"===e.view)&&Object(r.f)("div",{className:i()("comment__text",{mix:i()("raw-content",{},{theme:e.theme})}),ref:this.textNode,dangerouslySetInnerHTML:{__html:M.text}}),(!e.collapsed||"pinned"===e.view)&&Object(r.f)("div",{className:"comment__actions"},!e.data.delete&&!e.isCommentsDisabled&&!e.disabled&&"main"===e.view&&Object(r.f)(h.a,A({kind:"link"},Object(a.a)(this.toggleReplying),{mix:"comment__action"}),d?Object(r.f)(S.a,{id:"comment.cancel",defaultMessage:"Cancel"}):Object(r.f)(S.a,{id:"comment.reply",defaultMessage:"Reply"})),!e.data.delete&&!e.disabled&&!!M.orig&&l&&(w||p)&&"main"===e.view&&[Object(r.f)(h.a,A({kind:"link"},Object(a.a)(this.toggleEditing),{mix:["comment__action","comment__action_type_edit"]}),p?Object(r.f)(S.a,{id:"comment.cancel",defaultMessage:"Cancel"}):Object(r.f)(S.a,{id:"comment.edit",defaultMessage:"Edit"})),!o&&Object(r.f)(h.a,A({kind:"link"},Object(a.a)(this.deleteComment),{mix:["comment__action","comment__action_type_delete"]}),Object(r.f)(S.a,{id:"comment.delete",defaultMessage:"Delete"})),t.editDeadline&&Object(r.f)(O,{className:"comment__edit-timer",time:t.editDeadline,onTimePassed:function(){return n.setState({editDeadline:null})}})],k.length>0&&Object(r.f)("span",{className:"comment__controls"},k))),C&&d&&"main"===e.view&&Object(r.f)(C,{id:M.id,intl:this.props.intl,user:e.user,theme:e.theme,mode:"reply",mix:"comment__input",onSubmit:function(e,t){return n.addComment(e,t,M.id)},onCancel:this.toggleReplying,getPreview:this.props.getPreview,autofocus:!0,uploadImage:E,simpleView:s.a.config.simple_view}),C&&p&&"main"===e.view&&Object(r.f)(C,{id:M.id,intl:this.props.intl,user:e.user,theme:e.theme,value:M.orig,mode:"edit",mix:"comment__input",onSubmit:function(t,r){return n.updateComment(e.data.id,t)},onCancel:this.toggleEditing,getPreview:this.props.getPreview,errorMessage:null===t.editDeadline?x.formatMessage(R.expiredTime):void 0,autofocus:!0,uploadImage:E,simpleView:s.a.config.simple_view}))},t}(r.a);function U(e){var t=document.createElement("div");t.innerHTML=e.replace("</p><p>"," ");var n=t.innerText||"",r=n.substr(0,100);return 100===r.length&&100!==n.length?r+"...":r}function F(e){var t=e.time,n=Object(k.a)();return Object(r.f)(S.a,{id:"comment.time",defaultMessage:"{day} at {time}",values:{day:n.formatDate(t),time:n.formatTime(t)}})}var H=function(e){var t=Object(k.a)();return Object(r.f)(I,A({intl:t},e))}},function(e,t,n){"use strict";var r=n(32);n.d(t,"a",(function(){return r.a}))},function(e,t,n){"use strict";function r(e,t){var n;return void 0===t&&(t=1e3),function(){for(var r=this,o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];var a=function(){return e.apply(r,o)};window.clearTimeout(n),n=window.setTimeout(a,t)}}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(0),o=n(6),i=n.n(o);function a(e){return Object(r.f)("img",{className:i()("avatar-icon",{mix:e.mix},{theme:e.theme,default:!e.picture}),src:e.picture||n(99),alt:""})}n(100),n(101)},function(e,t,n){"use strict";function r(e,t,n){if(void 0===n&&(n=Error),!e)throw new n(t)}n.d(t,"a",(function(){return r}))},function(e,t,n){e.exports={suggester:"remark42__text-expander-module__suggester",suggesterDark:"remark42__text-expander-module__suggesterDark",suggesterItem:"remark42__text-expander-module__suggesterItem",suggesterItemDark:"remark42__text-expander-module__suggesterItemDark",emojiResult:"remark42__text-expander-module__emojiResult"}},,,,function(e,t,n){var r=function(e){"use strict";var t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function u(e,t,n,r){var o=t&&t.prototype instanceof l?t:l,i=Object.create(o.prototype),a=new O(r||[]);return i._invoke=function(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return E()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var u=g(a,n);if(u){if(u===c)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=s(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===c)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(e,n,a),i}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var c={};function l(){}function f(){}function d(){}var p={};p[o]=function(){return this};var m=Object.getPrototypeOf,h=m&&m(m(j([])));h&&h!==t&&n.call(h,o)&&(p=h);var v=d.prototype=l.prototype=Object.create(p);function b(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function y(e){var t;this._invoke=function(r,o){function i(){return new Promise((function(t,i){!function t(r,o,i,a){var u=s(e[r],e,o);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"==typeof l&&n.call(l,"__await")?Promise.resolve(l.__await).then((function(e){t("next",e,i,a)}),(function(e){t("throw",e,i,a)})):Promise.resolve(l).then((function(e){c.value=e,i(c)}),(function(e){return t("throw",e,i,a)}))}a(u.arg)}(r,o,t,i)}))}return t=t?t.then(i,i):i()}}function g(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,g(e,t),"throw"===t.method))return c;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return c}var r=s(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,c;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,c):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,c)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function w(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function j(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:E}}function E(){return{value:void 0,done:!0}}return f.prototype=v.constructor=d,d.constructor=f,d[a]=f.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,a in e||(e[a]="GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},b(y.prototype),y.prototype[i]=function(){return this},e.AsyncIterator=y,e.async=function(t,n,r,o){var i=new y(u(t,n,r,o));return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(v),v[a]="Generator",v[o]=function(){return this},v.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=j,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var u=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,c):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),c},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),w(n),c}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;w(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:j(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),c}},e}(e.exports);try{regeneratorRuntime=r}catch(e){Function("r","regeneratorRuntime = r")(r)}},function(e,t,n){"use strict";e.exports=n(43).polyfill()},function(e,t,n){(function(t,n){
/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.8+1e68dce6
 */var r;r=function(){"use strict";function e(e){return"function"==typeof e}var r=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},o=0,i=void 0,a=void 0,u=function(e,t){m[o]=e,m[o+1]=t,2===(o+=2)&&(a?a(h):_())},s="undefined"!=typeof window?window:void 0,c=s||{},l=c.MutationObserver||c.WebKitMutationObserver,f="undefined"==typeof self&&void 0!==t&&"[object process]"==={}.toString.call(t),d="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function p(){var e=setTimeout;return function(){return e(h,1)}}var m=new Array(1e3);function h(){for(var e=0;e<o;e+=2)(0,m[e])(m[e+1]),m[e]=void 0,m[e+1]=void 0;o=0}var v,b,y,g,_=void 0;function w(e,t){var n=this,r=new this.constructor(E);void 0===r[j]&&D(r);var o=n._state;if(o){var i=arguments[o-1];u((function(){return A(o,r,i,n._result)}))}else T(n,r,e,t);return r}function O(e){if(e&&"object"==typeof e&&e.constructor===this)return e;var t=new this(E);return k(t,e),t}f?_=function(){return t.nextTick(h)}:l?(b=0,y=new l(h),g=document.createTextNode(""),y.observe(g,{characterData:!0}),_=function(){g.data=b=++b%2}):d?((v=new MessageChannel).port1.onmessage=h,_=function(){return v.port2.postMessage(0)}):_=void 0===s?function(){try{var e=Function("return this")().require("vertx");return void 0!==(i=e.runOnLoop||e.runOnContext)?function(){i(h)}:p()}catch(e){return p()}}():p();var j=Math.random().toString(36).substring(2);function E(){}function S(t,n,r){n.constructor===t.constructor&&r===w&&n.constructor.resolve===O?function(e,t){1===t._state?C(e,t._result):2===t._state?M(e,t._result):T(t,void 0,(function(t){return k(e,t)}),(function(t){return M(e,t)}))}(t,n):void 0===r?C(t,n):e(r)?function(e,t,n){u((function(e){var r=!1,o=function(e,t,n,r){try{e.call(t,n,r)}catch(e){return e}}(n,t,(function(n){r||(r=!0,t!==n?k(e,n):C(e,n))}),(function(t){r||(r=!0,M(e,t))}),e._label);!r&&o&&(r=!0,M(e,o))}),e)}(t,n,r):C(t,n)}function k(e,t){if(e===t)M(e,new TypeError("You cannot resolve a promise with itself"));else if(o=typeof(r=t),null===r||"object"!==o&&"function"!==o)C(e,t);else{var n=void 0;try{n=t.then}catch(t){return void M(e,t)}S(e,t,n)}var r,o}function x(e){e._onerror&&e._onerror(e._result),N(e)}function C(e,t){void 0===e._state&&(e._result=t,e._state=1,0!==e._subscribers.length&&u(N,e))}function M(e,t){void 0===e._state&&(e._state=2,e._result=t,u(x,e))}function T(e,t,n,r){var o=e._subscribers,i=o.length;e._onerror=null,o[i]=t,o[i+1]=n,o[i+2]=r,0===i&&e._state&&u(N,e)}function N(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var r=void 0,o=void 0,i=e._result,a=0;a<t.length;a+=3)r=t[a],o=t[a+n],r?A(n,r,o,i):o(i);e._subscribers.length=0}}function A(t,n,r,o){var i=e(r),a=void 0,u=void 0,s=!0;if(i){try{a=r(o)}catch(e){s=!1,u=e}if(n===a)return void M(n,new TypeError("A promises callback cannot return that same promise."))}else a=o;void 0!==n._state||(i&&s?k(n,a):!1===s?M(n,u):1===t?C(n,a):2===t&&M(n,a))}var P=0;function D(e){e[j]=P++,e._state=void 0,e._result=void 0,e._subscribers=[]}var L=function(){function e(e,t){this._instanceConstructor=e,this.promise=new e(E),this.promise[j]||D(this.promise),r(t)?(this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?C(this.promise,this._result):(this.length=this.length||0,this._enumerate(t),0===this._remaining&&C(this.promise,this._result))):M(this.promise,new Error("Array Methods must be provided an Array"))}return e.prototype._enumerate=function(e){for(var t=0;void 0===this._state&&t<e.length;t++)this._eachEntry(e[t],t)},e.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,r=n.resolve;if(r===O){var o=void 0,i=void 0,a=!1;try{o=e.then}catch(e){a=!0,i=e}if(o===w&&void 0!==e._state)this._settledAt(e._state,t,e._result);else if("function"!=typeof o)this._remaining--,this._result[t]=e;else if(n===R){var u=new n(E);a?M(u,i):S(u,e,o),this._willSettleAt(u,t)}else this._willSettleAt(new n((function(t){return t(e)})),t)}else this._willSettleAt(r(e),t)},e.prototype._settledAt=function(e,t,n){var r=this.promise;void 0===r._state&&(this._remaining--,2===e?M(r,n):this._result[t]=n),0===this._remaining&&C(r,this._result)},e.prototype._willSettleAt=function(e,t){var n=this;T(e,void 0,(function(e){return n._settledAt(1,t,e)}),(function(e){return n._settledAt(2,t,e)}))},e}(),R=function(){function t(e){this[j]=P++,this._result=this._state=void 0,this._subscribers=[],E!==e&&("function"!=typeof e&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof t?function(e,t){try{t((function(t){k(e,t)}),(function(t){M(e,t)}))}catch(t){M(e,t)}}(this,e):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return t.prototype.catch=function(e){return this.then(null,e)},t.prototype.finally=function(t){var n=this.constructor;return e(t)?this.then((function(e){return n.resolve(t()).then((function(){return e}))}),(function(e){return n.resolve(t()).then((function(){throw e}))})):this.then(t,t)},t}();return R.prototype.then=w,R.all=function(e){return new L(this,e).promise},R.race=function(e){var t=this;return r(e)?new t((function(n,r){for(var o=e.length,i=0;i<o;i++)t.resolve(e[i]).then(n,r)})):new t((function(e,t){return t(new TypeError("You must pass an array to race."))}))},R.resolve=O,R.reject=function(e){var t=new this(E);return M(t,e),t},R._setScheduler=function(e){a=e},R._setAsap=function(e){u=e},R._asap=u,R.polyfill=function(){var e=void 0;if(void 0!==n)e=n;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var r=null;try{r=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===r&&!t.cast)return}e.Promise=R},R.Promise=R,R},e.exports=r()}).call(this,n(44),n(28))},function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function u(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var s,c=[],l=!1,f=-1;function d(){l&&s&&(l=!1,s.length?c=s.concat(c):f=-1,c.length&&p())}function p(){if(!l){var e=u(d);l=!0;for(var t=c.length;t;){for(s=c,c=[];++f<t;)s&&s[f].run();f=-1,t=c.length}s=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function h(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new m(e,t)),1!==c.length||l||u(p)},m.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=h,o.addListener=h,o.once=h,o.off=h,o.removeListener=h,o.removeAllListeners=h,o.emit=h,o.prependListener=h,o.prependOnceListener=h,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,n){!function(){"use strict";function e(e){var t=!0,n=!1,r=null,o={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function i(e){return!!(e&&e!==document&&"HTML"!==e.nodeName&&"BODY"!==e.nodeName&&"classList"in e&&"contains"in e.classList)}function a(e){e.classList.contains("focus-visible")||(e.classList.add("focus-visible"),e.setAttribute("data-focus-visible-added",""))}function u(e){t=!1}function s(){document.addEventListener("mousemove",c),document.addEventListener("mousedown",c),document.addEventListener("mouseup",c),document.addEventListener("pointermove",c),document.addEventListener("pointerdown",c),document.addEventListener("pointerup",c),document.addEventListener("touchmove",c),document.addEventListener("touchstart",c),document.addEventListener("touchend",c)}function c(e){e.target.nodeName&&"html"===e.target.nodeName.toLowerCase()||(t=!1,document.removeEventListener("mousemove",c),document.removeEventListener("mousedown",c),document.removeEventListener("mouseup",c),document.removeEventListener("pointermove",c),document.removeEventListener("pointerdown",c),document.removeEventListener("pointerup",c),document.removeEventListener("touchmove",c),document.removeEventListener("touchstart",c),document.removeEventListener("touchend",c))}document.addEventListener("keydown",(function(n){n.metaKey||n.altKey||n.ctrlKey||(i(e.activeElement)&&a(e.activeElement),t=!0)}),!0),document.addEventListener("mousedown",u,!0),document.addEventListener("pointerdown",u,!0),document.addEventListener("touchstart",u,!0),document.addEventListener("visibilitychange",(function(e){"hidden"===document.visibilityState&&(n&&(t=!0),s())}),!0),s(),e.addEventListener("focus",(function(e){var n,r,u;i(e.target)&&(t||(n=e.target,r=n.type,"INPUT"===(u=n.tagName)&&o[r]&&!n.readOnly||"TEXTAREA"===u&&!n.readOnly||n.isContentEditable))&&a(e.target)}),!0),e.addEventListener("blur",(function(e){var t;i(e.target)&&(e.target.classList.contains("focus-visible")||e.target.hasAttribute("data-focus-visible-added"))&&(n=!0,window.clearTimeout(r),r=window.setTimeout((function(){n=!1}),100),(t=e.target).hasAttribute("data-focus-visible-added")&&(t.classList.remove("focus-visible"),t.removeAttribute("data-focus-visible-added")))}),!0),e.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&e.host?e.host.setAttribute("data-js-focus-visible",""):e.nodeType===Node.DOCUMENT_NODE&&(document.documentElement.classList.add("js-focus-visible"),document.documentElement.setAttribute("data-js-focus-visible",""))}if("undefined"!=typeof window&&"undefined"!=typeof document){var t;window.applyFocusVisiblePolyfill=e;try{t=new CustomEvent("focus-visible-polyfill-ready")}catch(e){(t=document.createEvent("CustomEvent")).initCustomEvent("focus-visible-polyfill-ready",!1,!1,{})}window.dispatchEvent(t)}"undefined"!=typeof document&&e(document)}()},function(e,t){(function(){"use strict";var e=window.Document.prototype.createElement,t=window.Document.prototype.createElementNS,n=window.Document.prototype.importNode,r=window.Document.prototype.prepend,o=window.Document.prototype.append,i=window.DocumentFragment.prototype.prepend,a=window.DocumentFragment.prototype.append,u=window.Node.prototype.cloneNode,s=window.Node.prototype.appendChild,c=window.Node.prototype.insertBefore,l=window.Node.prototype.removeChild,f=window.Node.prototype.replaceChild,d=Object.getOwnPropertyDescriptor(window.Node.prototype,"textContent"),p=window.Element.prototype.attachShadow,m=Object.getOwnPropertyDescriptor(window.Element.prototype,"innerHTML"),h=window.Element.prototype.getAttribute,v=window.Element.prototype.setAttribute,b=window.Element.prototype.removeAttribute,y=window.Element.prototype.getAttributeNS,g=window.Element.prototype.setAttributeNS,_=window.Element.prototype.removeAttributeNS,w=window.Element.prototype.insertAdjacentElement,O=window.Element.prototype.insertAdjacentHTML,j=window.Element.prototype.prepend,E=window.Element.prototype.append,S=window.Element.prototype.before,k=window.Element.prototype.after,x=window.Element.prototype.replaceWith,C=window.Element.prototype.remove,M=window.HTMLElement,T=Object.getOwnPropertyDescriptor(window.HTMLElement.prototype,"innerHTML"),N=window.HTMLElement.prototype.insertAdjacentElement,A=window.HTMLElement.prototype.insertAdjacentHTML,P=new Set;function D(e){var t=P.has(e);return e=/^[a-z][.0-9_a-z]*-[-.0-9_a-z]*$/.test(e),!t&&e}"annotation-xml color-profile font-face font-face-src font-face-uri font-face-format font-face-name missing-glyph".split(" ").forEach((function(e){return P.add(e)}));var L=document.contains?document.contains.bind(document):document.documentElement.contains.bind(document.documentElement);function R(e){var t=e.isConnected;if(void 0!==t)return t;if(L(e))return!0;for(;e&&!(e.__CE_isImportDocument||e instanceof Document);)e=e.parentNode||(window.ShadowRoot&&e instanceof ShadowRoot?e.host:void 0);return!(!e||!(e.__CE_isImportDocument||e instanceof Document))}function I(e){var t=e.children;if(t)return Array.prototype.slice.call(t);for(t=[],e=e.firstChild;e;e=e.nextSibling)e.nodeType===Node.ELEMENT_NODE&&t.push(e);return t}function U(e,t){for(;t&&t!==e&&!t.nextSibling;)t=t.parentNode;return t&&t!==e?t.nextSibling:null}function F(){var e=!(null==ae||!ae.noDocumentConstructionObserver),t=!(null==ae||!ae.shadyDomFastWalk);this.h=[],this.a=[],this.f=!1,this.shadyDomFastWalk=t,this.C=!e}function H(e,t,n,r){var o=window.ShadyDom;if(e.shadyDomFastWalk&&o&&o.inUse){if(t.nodeType===Node.ELEMENT_NODE&&n(t),t.querySelectorAll)for(e=o.nativeMethods.querySelectorAll.call(t,"*"),t=0;t<e.length;t++)n(e[t])}else!function e(t,n,r){for(var o=t;o;){if(o.nodeType===Node.ELEMENT_NODE){var i=o;n(i);var a=i.localName;if("link"===a&&"import"===i.getAttribute("rel")){if(o=i.import,void 0===r&&(r=new Set),o instanceof Node&&!r.has(o))for(r.add(o),o=o.firstChild;o;o=o.nextSibling)e(o,n,r);o=U(t,i);continue}if("template"===a){o=U(t,i);continue}if(i=i.__CE_shadowRoot)for(i=i.firstChild;i;i=i.nextSibling)e(i,n,r)}o=o.firstChild?o.firstChild:U(t,o)}}(t,n,r)}function B(e,t){e.f&&H(e,t,(function(t){return z(e,t)}))}function z(e,t){if(e.f&&!t.__CE_patched){t.__CE_patched=!0;for(var n=0;n<e.h.length;n++)e.h[n](t);for(n=0;n<e.a.length;n++)e.a[n](t)}}function V(e,t){var n=[];for(H(e,t,(function(e){return n.push(e)})),t=0;t<n.length;t++){var r=n[t];1===r.__CE_state?e.connectedCallback(r):$(e,r)}}function W(e,t){var n=[];for(H(e,t,(function(e){return n.push(e)})),t=0;t<n.length;t++){var r=n[t];1===r.__CE_state&&e.disconnectedCallback(r)}}function G(e,t,n){var r=(n=void 0===n?{}:n).D,o=n.upgrade||function(t){return $(e,t)},i=[];for(H(e,t,(function(t){if(e.f&&z(e,t),"link"===t.localName&&"import"===t.getAttribute("rel")){var n=t.import;n instanceof Node&&(n.__CE_isImportDocument=!0,n.__CE_registry=document.__CE_registry),n&&"complete"===n.readyState?n.__CE_documentLoadHandled=!0:t.addEventListener("load",(function(){var n=t.import;if(!n.__CE_documentLoadHandled){n.__CE_documentLoadHandled=!0;var i=new Set;r&&(r.forEach((function(e){return i.add(e)})),i.delete(n)),G(e,n,{D:i,upgrade:o})}}))}else i.push(t)}),r),t=0;t<i.length;t++)o(i[t])}function $(e,t){try{var n=t.ownerDocument,r=n.__CE_registry,o=r&&(n.defaultView||n.__CE_isImportDocument)?ne(r,t.localName):void 0;if(o&&void 0===t.__CE_state){o.constructionStack.push(t);try{try{if(new o.constructorFunction!==t)throw Error("The custom element constructor did not produce the element being upgraded.")}finally{o.constructionStack.pop()}}catch(e){throw t.__CE_state=2,e}if(t.__CE_state=1,t.__CE_definition=o,o.attributeChangedCallback&&t.hasAttributes()){var i=o.observedAttributes;for(o=0;o<i.length;o++){var a=i[o],u=t.getAttribute(a);null!==u&&e.attributeChangedCallback(t,a,null,u,null)}}R(t)&&e.connectedCallback(t)}}catch(e){Y(e)}}function q(n,r,o,i){var a=r.__CE_registry;if(a&&(null===i||"http://www.w3.org/1999/xhtml"===i)&&(a=ne(a,o)))try{var u=new a.constructorFunction;if(void 0===u.__CE_state||void 0===u.__CE_definition)throw Error("Failed to construct '"+o+"': The returned value was not constructed with the HTMLElement constructor.");if("http://www.w3.org/1999/xhtml"!==u.namespaceURI)throw Error("Failed to construct '"+o+"': The constructed element's namespace must be the HTML namespace.");if(u.hasAttributes())throw Error("Failed to construct '"+o+"': The constructed element must not have any attributes.");if(null!==u.firstChild)throw Error("Failed to construct '"+o+"': The constructed element must not have any children.");if(null!==u.parentNode)throw Error("Failed to construct '"+o+"': The constructed element must not have a parent node.");if(u.ownerDocument!==r)throw Error("Failed to construct '"+o+"': The constructed element's owner document is incorrect.");if(u.localName!==o)throw Error("Failed to construct '"+o+"': The constructed element's local name is incorrect.");return u}catch(a){return Y(a),r=null===i?e.call(r,o):t.call(r,i,o),Object.setPrototypeOf(r,HTMLUnknownElement.prototype),r.__CE_state=2,r.__CE_definition=void 0,z(n,r),r}return z(n,r=null===i?e.call(r,o):t.call(r,i,o)),r}function Y(e){var t=e.message,n=e.sourceURL||e.fileName||"",r=e.line||e.lineNumber||0,o=e.column||e.columnNumber||0,i=void 0;void 0===ErrorEvent.prototype.initErrorEvent?i=new ErrorEvent("error",{cancelable:!0,message:t,filename:n,lineno:r,colno:o,error:e}):((i=document.createEvent("ErrorEvent")).initErrorEvent("error",!1,!0,t,n,r),i.preventDefault=function(){Object.defineProperty(this,"defaultPrevented",{configurable:!0,get:function(){return!0}})}),void 0===i.error&&Object.defineProperty(i,"error",{configurable:!0,enumerable:!0,get:function(){return e}}),window.dispatchEvent(i),i.defaultPrevented||console.error(e)}function K(){var e=this;this.a=void 0,this.w=new Promise((function(t){e.g=t}))}function Z(e){var t=document;this.g=void 0,this.b=e,this.a=t,G(this.b,this.a),"loading"===this.a.readyState&&(this.g=new MutationObserver(this.A.bind(this)),this.g.observe(this.a,{childList:!0,subtree:!0}))}function J(e){e.g&&e.g.disconnect()}function X(e){this.j=new Map,this.l=new Map,this.u=new Map,this.o=!1,this.s=new Map,this.i=function(e){return e()},this.c=!1,this.m=[],this.b=e,this.v=e.C?new Z(e):void 0}function Q(e,t){if(!D(t))throw new SyntaxError("The element name '"+t+"' is not valid.");if(ne(e,t))throw Error("A custom element with name '"+t+"' has already been defined.");if(e.o)throw Error("A custom element is already being defined.")}function ee(e,t,n){var r;e.o=!0;try{var o=n.prototype;if(!(o instanceof Object))throw new TypeError("The custom element constructor's prototype is not an object.");var i=function(e){var t=o[e];if(void 0!==t&&!(t instanceof Function))throw Error("The '"+e+"' callback must be a function.");return t},a=i("connectedCallback"),u=i("disconnectedCallback"),s=i("adoptedCallback"),c=(r=i("attributeChangedCallback"))&&n.observedAttributes||[]}catch(e){throw e}finally{e.o=!1}return n={localName:t,constructorFunction:n,connectedCallback:a,disconnectedCallback:u,adoptedCallback:s,attributeChangedCallback:r,observedAttributes:c,constructionStack:[]},e.l.set(t,n),e.u.set(n.constructorFunction,n),n}function te(e){if(!1!==e.c){e.c=!1;for(var t=[],n=e.m,r=new Map,o=0;o<n.length;o++)r.set(n[o],[]);for(G(e.b,document,{upgrade:function(n){if(void 0===n.__CE_state){var o=n.localName,i=r.get(o);i?i.push(n):e.l.has(o)&&t.push(n)}}}),o=0;o<t.length;o++)$(e.b,t[o]);for(o=0;o<n.length;o++){for(var i=n[o],a=r.get(i),u=0;u<a.length;u++)$(e.b,a[u]);(i=e.s.get(i))&&i.resolve(void 0)}n.length=0}}function ne(e,t){var n=e.l.get(t);if(n)return n;if(n=e.j.get(t)){e.j.delete(t);try{return ee(e,t,n())}catch(e){Y(e)}}}function re(e,t,n){function r(t){return function(n){for(var r=[],o=0;o<arguments.length;++o)r[o]=arguments[o];o=[];for(var i=[],a=0;a<r.length;a++){var u=r[a];if(u instanceof Element&&R(u)&&i.push(u),u instanceof DocumentFragment)for(u=u.firstChild;u;u=u.nextSibling)o.push(u);else o.push(u)}for(t.apply(this,r),r=0;r<i.length;r++)W(e,i[r]);if(R(this))for(r=0;r<o.length;r++)(i=o[r])instanceof Element&&V(e,i)}}void 0!==n.prepend&&(t.prepend=r(n.prepend)),void 0!==n.append&&(t.append=r(n.append))}function oe(e){function n(t,n){Object.defineProperty(t,"innerHTML",{enumerable:n.enumerable,configurable:!0,get:n.get,set:function(t){var r=this,o=void 0;if(R(this)&&(o=[],H(e,this,(function(e){e!==r&&o.push(e)}))),n.set.call(this,t),o)for(var i=0;i<o.length;i++){var a=o[i];1===a.__CE_state&&e.disconnectedCallback(a)}return this.ownerDocument.__CE_registry?G(e,this):B(e,this),t}})}function r(t,n){t.insertAdjacentElement=function(t,r){var o=R(r);return t=n.call(this,t,r),o&&W(e,r),R(t)&&V(e,r),t}}function o(t,n){function r(t,n){for(var r=[];t!==n;t=t.nextSibling)r.push(t);for(n=0;n<r.length;n++)G(e,r[n])}t.insertAdjacentHTML=function(e,t){if("beforebegin"===(e=e.toLowerCase())){var o=this.previousSibling;n.call(this,e,t),r(o||this.parentNode.firstChild,this)}else if("afterbegin"===e)o=this.firstChild,n.call(this,e,t),r(this.firstChild,o);else if("beforeend"===e)o=this.lastChild,n.call(this,e,t),r(o||this.firstChild,null);else{if("afterend"!==e)throw new SyntaxError("The value provided ("+String(e)+") is not one of 'beforebegin', 'afterbegin', 'beforeend', or 'afterend'.");o=this.nextSibling,n.call(this,e,t),r(this.nextSibling,o)}}}p&&(Element.prototype.attachShadow=function(t){if(t=p.call(this,t),e.f&&!t.__CE_patched){t.__CE_patched=!0;for(var n=0;n<e.h.length;n++)e.h[n](t)}return this.__CE_shadowRoot=t}),m&&m.get?n(Element.prototype,m):T&&T.get?n(HTMLElement.prototype,T):function(e,t){e.f=!0,e.a.push(t)}(e,(function(e){n(e,{enumerable:!0,configurable:!0,get:function(){return u.call(this,!0).innerHTML},set:function(e){var n="template"===this.localName,r=n?this.content:this,o=t.call(document,this.namespaceURI,this.localName);for(o.innerHTML=e;0<r.childNodes.length;)l.call(r,r.childNodes[0]);for(e=n?o.content:o;0<e.childNodes.length;)s.call(r,e.childNodes[0])}})})),Element.prototype.setAttribute=function(t,n){if(1!==this.__CE_state)return v.call(this,t,n);var r=h.call(this,t);v.call(this,t,n),n=h.call(this,t),e.attributeChangedCallback(this,t,r,n,null)},Element.prototype.setAttributeNS=function(t,n,r){if(1!==this.__CE_state)return g.call(this,t,n,r);var o=y.call(this,t,n);g.call(this,t,n,r),r=y.call(this,t,n),e.attributeChangedCallback(this,n,o,r,t)},Element.prototype.removeAttribute=function(t){if(1!==this.__CE_state)return b.call(this,t);var n=h.call(this,t);b.call(this,t),null!==n&&e.attributeChangedCallback(this,t,n,null,null)},Element.prototype.removeAttributeNS=function(t,n){if(1!==this.__CE_state)return _.call(this,t,n);var r=y.call(this,t,n);_.call(this,t,n);var o=y.call(this,t,n);r!==o&&e.attributeChangedCallback(this,n,r,o,t)},N?r(HTMLElement.prototype,N):w&&r(Element.prototype,w),A?o(HTMLElement.prototype,A):O&&o(Element.prototype,O),re(e,Element.prototype,{prepend:j,append:E}),function(e){function t(t){return function(n){for(var r=[],o=0;o<arguments.length;++o)r[o]=arguments[o];o=[];for(var i=[],a=0;a<r.length;a++){var u=r[a];if(u instanceof Element&&R(u)&&i.push(u),u instanceof DocumentFragment)for(u=u.firstChild;u;u=u.nextSibling)o.push(u);else o.push(u)}for(t.apply(this,r),r=0;r<i.length;r++)W(e,i[r]);if(R(this))for(r=0;r<o.length;r++)(i=o[r])instanceof Element&&V(e,i)}}var n=Element.prototype;void 0!==S&&(n.before=t(S)),void 0!==k&&(n.after=t(k)),void 0!==x&&(n.replaceWith=function(t){for(var n=[],r=0;r<arguments.length;++r)n[r]=arguments[r];r=[];for(var o=[],i=0;i<n.length;i++){var a=n[i];if(a instanceof Element&&R(a)&&o.push(a),a instanceof DocumentFragment)for(a=a.firstChild;a;a=a.nextSibling)r.push(a);else r.push(a)}for(i=R(this),x.apply(this,n),n=0;n<o.length;n++)W(e,o[n]);if(i)for(W(e,this),n=0;n<r.length;n++)(o=r[n])instanceof Element&&V(e,o)}),void 0!==C&&(n.remove=function(){var t=R(this);C.call(this),t&&W(e,this)})}(e)}F.prototype.connectedCallback=function(e){var t=e.__CE_definition;if(t.connectedCallback)try{t.connectedCallback.call(e)}catch(e){Y(e)}},F.prototype.disconnectedCallback=function(e){var t=e.__CE_definition;if(t.disconnectedCallback)try{t.disconnectedCallback.call(e)}catch(e){Y(e)}},F.prototype.attributeChangedCallback=function(e,t,n,r,o){var i=e.__CE_definition;if(i.attributeChangedCallback&&-1<i.observedAttributes.indexOf(t))try{i.attributeChangedCallback.call(e,t,n,r,o)}catch(e){Y(e)}},K.prototype.resolve=function(e){if(this.a)throw Error("Already resolved.");this.a=e,this.g(e)},Z.prototype.A=function(e){var t=this.a.readyState;for("interactive"!==t&&"complete"!==t||J(this),t=0;t<e.length;t++)for(var n=e[t].addedNodes,r=0;r<n.length;r++)G(this.b,n[r])},X.prototype.B=function(e,t){var n=this;if(!(t instanceof Function))throw new TypeError("Custom element constructor getters must be functions.");Q(this,e),this.j.set(e,t),this.m.push(e),this.c||(this.c=!0,this.i((function(){return te(n)})))},X.prototype.define=function(e,t){var n=this;if(!(t instanceof Function))throw new TypeError("Custom element constructors must be functions.");Q(this,e),ee(this,e,t),this.m.push(e),this.c||(this.c=!0,this.i((function(){return te(n)})))},X.prototype.upgrade=function(e){G(this.b,e)},X.prototype.get=function(e){if(e=ne(this,e))return e.constructorFunction},X.prototype.whenDefined=function(e){if(!D(e))return Promise.reject(new SyntaxError("'"+e+"' is not a valid custom element name."));var t=this.s.get(e);if(t)return t.w;t=new K,this.s.set(e,t);var n=this.l.has(e)||this.j.has(e);return e=-1===this.m.indexOf(e),n&&e&&t.resolve(void 0),t.w},X.prototype.polyfillWrapFlushCallback=function(e){this.v&&J(this.v);var t=this.i;this.i=function(n){return e((function(){return t(n)}))}},window.CustomElementRegistry=X,X.prototype.define=X.prototype.define,X.prototype.upgrade=X.prototype.upgrade,X.prototype.get=X.prototype.get,X.prototype.whenDefined=X.prototype.whenDefined,X.prototype.polyfillDefineLazy=X.prototype.B,X.prototype.polyfillWrapFlushCallback=X.prototype.polyfillWrapFlushCallback;var ie={};var ae=window.customElements;function ue(){var t=new F;!function(t){function n(){var n=this.constructor,r=document.__CE_registry.u.get(n);if(!r)throw Error("Failed to construct a custom element: The constructor was not registered with `customElements`.");var o=r.constructionStack;if(0===o.length)return o=e.call(document,r.localName),Object.setPrototypeOf(o,n.prototype),o.__CE_state=1,o.__CE_definition=r,z(t,o),o;var i=o.length-1,a=o[i];if(a===ie)throw Error("Failed to construct '"+r.localName+"': This element was already constructed.");return o[i]=ie,Object.setPrototypeOf(a,n.prototype),z(t,a),a}n.prototype=M.prototype,Object.defineProperty(HTMLElement.prototype,"constructor",{writable:!0,configurable:!0,enumerable:!1,value:n}),window.HTMLElement=n}(t),function(e){Document.prototype.createElement=function(t){return q(e,this,t,null)},Document.prototype.importNode=function(t,r){return t=n.call(this,t,!!r),this.__CE_registry?G(e,t):B(e,t),t},Document.prototype.createElementNS=function(t,n){return q(e,this,n,t)},re(e,Document.prototype,{prepend:r,append:o})}(t),re(t,DocumentFragment.prototype,{prepend:i,append:a}),function(e){function t(t,n){Object.defineProperty(t,"textContent",{enumerable:n.enumerable,configurable:!0,get:n.get,set:function(t){if(this.nodeType===Node.TEXT_NODE)n.set.call(this,t);else{var r=void 0;if(this.firstChild){var o=this.childNodes,i=o.length;if(0<i&&R(this)){r=Array(i);for(var a=0;a<i;a++)r[a]=o[a]}}if(n.set.call(this,t),r)for(t=0;t<r.length;t++)W(e,r[t])}}})}Node.prototype.insertBefore=function(t,n){if(t instanceof DocumentFragment){var r=I(t);if(t=c.call(this,t,n),R(this))for(n=0;n<r.length;n++)V(e,r[n]);return t}return r=t instanceof Element&&R(t),n=c.call(this,t,n),r&&W(e,t),R(this)&&V(e,t),n},Node.prototype.appendChild=function(t){if(t instanceof DocumentFragment){var n=I(t);if(t=s.call(this,t),R(this))for(var r=0;r<n.length;r++)V(e,n[r]);return t}return n=t instanceof Element&&R(t),r=s.call(this,t),n&&W(e,t),R(this)&&V(e,t),r},Node.prototype.cloneNode=function(t){return t=u.call(this,!!t),this.ownerDocument.__CE_registry?G(e,t):B(e,t),t},Node.prototype.removeChild=function(t){var n=t instanceof Element&&R(t),r=l.call(this,t);return n&&W(e,t),r},Node.prototype.replaceChild=function(t,n){if(t instanceof DocumentFragment){var r=I(t);if(t=f.call(this,t,n),R(this))for(W(e,n),n=0;n<r.length;n++)V(e,r[n]);return t}r=t instanceof Element&&R(t);var o=f.call(this,t,n),i=R(this);return i&&W(e,n),r&&W(e,t),i&&V(e,t),o},d&&d.get?t(Node.prototype,d):function(e,t){e.f=!0,e.h.push(t)}(e,(function(e){t(e,{enumerable:!0,configurable:!0,get:function(){for(var e=[],t=this.firstChild;t;t=t.nextSibling)t.nodeType!==Node.COMMENT_NODE&&e.push(t.textContent);return e.join("")},set:function(e){for(;this.firstChild;)l.call(this,this.firstChild);null!=e&&""!==e&&s.call(this,document.createTextNode(e))}})}))}(t),oe(t),t=new X(t),document.__CE_registry=t,Object.defineProperty(window,"customElements",{configurable:!0,enumerable:!0,value:t})}ae&&!ae.forcePolyfill&&"function"==typeof ae.define&&"function"==typeof ae.get||ue(),window.__CE_installPolyfill=ue}).call(self)},function(e,t,n){"use strict";Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(e){var t=this;do{if(t.matches(e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null})},function(e,t,n){"use strict";
/** @license React v16.8.6
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&Symbol.for,o=r?Symbol.for("react.element"):60103,i=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,u=r?Symbol.for("react.strict_mode"):60108,s=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,l=r?Symbol.for("react.context"):60110,f=r?Symbol.for("react.async_mode"):60111,d=r?Symbol.for("react.concurrent_mode"):60111,p=r?Symbol.for("react.forward_ref"):60112,m=r?Symbol.for("react.suspense"):60113,h=r?Symbol.for("react.memo"):60115,v=r?Symbol.for("react.lazy"):60116;function b(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case o:switch(e=e.type){case f:case d:case a:case s:case u:case m:return e;default:switch(e=e&&e.$$typeof){case l:case p:case c:return e;default:return t}}case v:case h:case i:return t}}}function y(e){return b(e)===d}t.typeOf=b,t.AsyncMode=f,t.ConcurrentMode=d,t.ContextConsumer=l,t.ContextProvider=c,t.Element=o,t.ForwardRef=p,t.Fragment=a,t.Lazy=v,t.Memo=h,t.Portal=i,t.Profiler=s,t.StrictMode=u,t.Suspense=m,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===d||e===s||e===u||e===m||"object"==typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===h||e.$$typeof===c||e.$$typeof===l||e.$$typeof===p)},t.isAsyncMode=function(e){return y(e)||b(e)===f},t.isConcurrentMode=y,t.isContextConsumer=function(e){return b(e)===l},t.isContextProvider=function(e){return b(e)===c},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===o},t.isForwardRef=function(e){return b(e)===p},t.isFragment=function(e){return b(e)===a},t.isLazy=function(e){return b(e)===v},t.isMemo=function(e){return b(e)===h},t.isPortal=function(e){return b(e)===i},t.isProfiler=function(e){return b(e)===s},t.isStrictMode=function(e){return b(e)===u},t.isSuspense=function(e){return b(e)===m}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}s((r=r.apply(e,t||[])).next())}))},o=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},i={};function a(e){return r(this,void 0,void 0,(function(){return o(this,(function(t){return"ru"===e?[2,n.e(9).then(n.t.bind(null,121,3)).then((function(e){return e.default})).catch((function(){return i}))]:"de"===e?[2,n.e(1).then(n.t.bind(null,122,3)).then((function(e){return e.default})).catch((function(){return i}))]:"fi"===e?[2,n.e(5).then(n.t.bind(null,123,3)).then((function(e){return e.default})).catch((function(){return i}))]:"es"===e?[2,n.e(4).then(n.t.bind(null,124,3)).then((function(e){return e.default})).catch((function(){return i}))]:"zh"===e?[2,n.e(13).then(n.t.bind(null,125,3)).then((function(e){return e.default})).catch((function(){return i}))]:[2,i]}))}))}},function(e,t,n){"use strict";function r(e){return e.locale||"en"}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";(function(e){var r=n(18),o=n(120),i="object"==typeof exports&&exports&&!exports.nodeType&&exports,a=i&&"object"==typeof e&&e&&!e.nodeType&&e,u=a&&a.exports===i?r.a.Buffer:void 0,s=(u?u.isBuffer:void 0)||o.a;t.a=s}).call(this,n(111)(e))},,function(e,t,n){"use strict";n(54),n(62),n(63),n(64),n(65),n(66),n(67),n(68),n(69),n(70),n(71),n(72),n(73),n(74),n(75),n(76),n(77),n(78),n(79),n(80),n(81),n(82),n(83),n(84),n(85),n(86),n(87),n(88),n(89),n(90),n(91),n(92),n(93),n(94),n(95),n(96),n(97),n(98)},function(e,t,n){"use strict";n(58),n(59),n(60),n(61)},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(0),o=n(3),i=n(33),a=function(e){var t=e.comments,n=void 0===t?[]:t;return Object(r.f)("div",{id:o.m},Object(r.f)("div",{className:"list-comments"},n.map((function(e){return Object(r.f)(i.a,{key:e.id,CommentForm:null,data:e,level:0,view:"preview",mix:"list-comments__item",user:null,theme:"light",isCommentsDisabled:!1,post_info:null})}))))};n(109),n(110)},function(e,t,n){"use strict";(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.a=n}).call(this,n(28))},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){e.exports=n.p+"files/avatar-icon.58f9247da3144dcf45ac48d5a3240ea8.svg"},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t,n){"use strict";(function(e,r){var o,i=n(118);o="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:r;var a=Object(i.a)(o);t.a=a}).call(this,n(28),n(111)(e))},function(e,t,n){var r;
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/!function(){"use strict";var n={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var i=typeof r;if("string"===i||"number"===i)e.push(r);else if(Array.isArray(r)&&r.length){var a=o.apply(null,r);a&&e.push(a)}else if("object"===i)for(var u in r)n.call(r,u)&&r[u]&&e.push(u)}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(r=function(){return o}.apply(t,[]))||(e.exports=r)}()},function(e,t,n){"use strict";(function(e){var r=n(56),o="object"==typeof exports&&exports&&!exports.nodeType&&exports,i=o&&"object"==typeof e&&e&&!e.nodeType&&e,a=i&&i.exports===o&&r.a.process,u=function(){try{var e=i&&i.require&&i.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(e){}}();t.a=u}).call(this,n(111)(e))},,,,function(e,t,n){"use strict";function r(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}n.d(t,"a",(function(){return r}))},function(e,t,n){e.exports={auth:"remark42__auth-module__auth"}},function(e,t,n){"use strict";t.a=function(){return!1}},,,,,,,,,function(e,t,n){n(57),e.exports=n(207)},function(e,t,n){e.exports=n(131)()},function(e,t,n){"use strict";var r=n(132);function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,i,a){if(a!==r){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){"use strict";n.r(t);var r=n(27),o=n(26),i=n(49),a=n(50),u=n(0),s=n(112),c=function(){return Math.random().toString(36).substring(7).split("").join(".")},l={INIT:"@@redux/INIT"+c(),REPLACE:"@@redux/REPLACE"+c(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+c()}};function f(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function d(e,t){var n=t&&t.type;return"Given "+(n&&'action "'+String(n)+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function p(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var o=t[r];0,"function"==typeof e[o]&&(n[o]=e[o])}var i,a=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if(void 0===n(void 0,{type:l.INIT}))throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===n(void 0,{type:l.PROBE_UNKNOWN_ACTION()}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+l.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')}))}(n)}catch(e){i=e}return function(e,t){if(void 0===e&&(e={}),i)throw i;for(var r=!1,o={},u=0;u<a.length;u++){var s=a[u],c=n[s],l=e[s],f=c(l,t);if(void 0===f){var p=d(s,t);throw new Error(p)}o[s]=f,r=r||f!==l}return(r=r||a.length!==Object.keys(e).length)?o:e}}function m(e,t){return function(){return t(e.apply(this,arguments))}}function h(e,t){if("function"==typeof e)return m(e,t);if("object"!=typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');var n={};for(var r in e){var o=e[r];"function"==typeof o&&(n[r]=m(o,t))}return n}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e,t){var n=Object.keys(e);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(e)),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(n,!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}var _=n(1),w=(n(130),_.default.createContext(null));var O=function(e){e()},j={notify:function(){}};function E(){var e=O,t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,o=n={callback:e,next:null,prev:n};return o.prev?o.prev.next=o:t=o,function(){r&&null!==t&&(r=!1,o.next?o.next.prev=o.prev:n=o.prev,o.prev?o.prev.next=o.next:t=o.next)}}}}var S=function(){function e(e,t){this.store=e,this.parentSub=t,this.unsubscribe=null,this.listeners=j,this.handleChangeWrapper=this.handleChangeWrapper.bind(this)}var t=e.prototype;return t.addNestedSub=function(e){return this.trySubscribe(),this.listeners.subscribe(e)},t.notifyNestedSubs=function(){this.listeners.notify()},t.handleChangeWrapper=function(){this.onStateChange&&this.onStateChange()},t.isSubscribed=function(){return Boolean(this.unsubscribe)},t.trySubscribe=function(){this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.handleChangeWrapper):this.store.subscribe(this.handleChangeWrapper),this.listeners=E())},t.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=j)},e}();var k=function(e){var t=e.store,n=e.context,r=e.children,o=Object(_.useMemo)((function(){var e=new S(t);return e.onStateChange=e.notifyNestedSubs,{store:t,subscription:e}}),[t]),i=Object(_.useMemo)((function(){return t.getState()}),[t]);Object(_.useEffect)((function(){var e=o.subscription;return e.trySubscribe(),i!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[o,i]);var a=n||w;return _.default.createElement(a.Provider,{value:o},r)};n(19),n(31);var x="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?_.useLayoutEffect:_.useEffect;function C(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function M(e,t){if(C(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var o=0;o<n.length;o++)if(!Object.prototype.hasOwnProperty.call(t,n[o])||!C(e[n[o]],t[n[o]]))return!1;return!0}function T(){return Object(_.useContext)(w)}function N(e){void 0===e&&(e=w);var t=e===w?T:function(){return Object(_.useContext)(e)};return function(){return t().store}}var A=N();function P(e){void 0===e&&(e=w);var t=e===w?A:N(e);return function(){return t().dispatch}}var D=P(),L=function(e,t){return e===t};function R(e){void 0===e&&(e=w);var t=e===w?T:function(){return Object(_.useContext)(e)};return function(e,n){void 0===n&&(n=L);var r=t();return function(e,t,n,r){var o,i=Object(_.useReducer)((function(e){return e+1}),0)[1],a=Object(_.useMemo)((function(){return new S(n,r)}),[n,r]),u=Object(_.useRef)(),s=Object(_.useRef)(),c=Object(_.useRef)();try{o=e!==s.current||u.current?e(n.getState()):c.current}catch(e){throw u.current&&(e.message+="\nThe error may be correlated with this previous error:\n"+u.current.stack+"\n\n"),e}return x((function(){s.current=e,c.current=o,u.current=void 0})),x((function(){function e(){try{var e=s.current(n.getState());if(t(e,c.current))return;c.current=e}catch(e){u.current=e}i({})}return a.onStateChange=e,a.trySubscribe(),e(),function(){return a.tryUnsubscribe()}}),[n,a]),o}(e,n,r.store,r.subscription)}}var I,U=R();I=_.unstable_batchedUpdates,O=I;var F=n(6),H=n.n(F),B=n(9),z=n(29),V=n(30),W=n(3),G=n(4),$=n(8),q=n(10);function Y(e){return function(e){var t=new Date;switch(e){case"permanently":return t.setFullYear(t.getFullYear()+100),t;case"43200m":return t.setMonth(t.getMonth()+1),t;case"10080m":return t.setDate(t.getDate()+7),t;case"1440m":return t.setDate(t.getDate()+1),t;default:throw new Error("unknown block ttl")}}(e).toISOString()}function K(e){return(K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Z=function(){return(Z=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},J=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},X=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(J(arguments[t]));return e},Q="remark42: localStorage access denied, check browser preferences",ee=W.f?localStorage.setItem.bind(localStorage):function(){console.error(Q)},te=W.f?localStorage.getItem.bind(localStorage):function(){return console.error(Q),null};W.f&&localStorage.removeItem.bind(localStorage);function ne(e){try{var t=te(e);return null===t?null:JSON.parse(t)}catch(t){return console.error("remark42: error on read JSON from "+e+" in localStorage",t),null}}function re(e,t){try{ee(e,JSON.stringify(t))}catch(t){console.error("remark42: error on parse JSON from "+e+" in localStorage",t)}}function oe(e,t){var n=ne(e);if(Array.isArray(t))re(e,X(n,t));else if(null===t||"object"!==K(t)){if("function"!=typeof t)throw new Error("remark42: error on update JSON for "+e+" in localStorage");re(e,t(n))}else re(e,Z(Z({},n),t))}function ie(e){return(ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ae(){try{var e=JSON.parse(te(W.i)||"{}");if("object"===ie(e)&&null!==e&&!Array.isArray(e))return e}catch(e){console.error("incorrect hidden user data in local storage",e)}return{}}var ue=n(17),se=function(){return(se=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},ce=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}s((r=r.apply(e,t||[])).next())}))},le=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}};function fe(e){return{type:"POST_INFO/SET",info:e}}var de=function(){return(de=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function pe(e){return e.reduce((function(e,t){return e.concat(function e(t){var n=[];return t.comment.pin&&(n=n.concat(t.comment)),t.replies&&(n=n.concat(t.replies.reduce((function(t,n){return t.concat(e(n))}),[]))),n}(t))}),[])}var me=function(){return(me=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},he=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}s((r=r.apply(e,t||[])).next())}))},ve=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},be=function(e,t,n){return function(r){return he(void 0,void 0,void 0,(function(){var o;return ve(this,(function(i){switch(i.label){case 0:return[4,q.a({text:e,title:t,pid:n})];case 1:return o=i.sent(),r({type:"COMMENTS/APPEND",pid:n||null,comment:o}),[2]}}))}))}},ye=function(e,t){return function(n){return he(void 0,void 0,void 0,(function(){var r;return ve(this,(function(o){switch(o.label){case 0:return[4,q.B({id:e,text:t})];case 1:return r=o.sent(),n({type:"COMMENTS/EDIT",comment:r}),[2]}}))}))}},ge=function(e){return function(t,n){return he(void 0,void 0,void 0,(function(){var r,o,i,a,u;return ve(this,(function(s){switch(s.label){case 0:return r=n(),o=r.hiddenUsers,i=r.comments,a=Object.keys(o),t({type:"COMMENTS/FETCHING"}),[4,q.l(e||i.sort)];case 1:return u=s.sent(),t({type:"COMMENTS/FETCHING_SUCCESS"}),a.length>0&&(u.comments=function e(t,n){var r=!1,o=t.reduce((function(t,o){if(!n(o))return r=!0,t;var i=o.replies?de(de({},o),{replies:e(o.replies,n)}):o;return i!==o&&(r=!0),t.push(i),t}),[]);return r?o:t}(u.comments,(function(e){return-1===a.indexOf(e.comment.user.id)}))),t(function(e){return function(t){t({type:"COMMENTS/SET",comments:e})}}(u.comments)),t(fe(u.info)),[2,u]}}))}))}};function _e(e){return void 0===e&&(e=null),{type:"COMMENT_MODE/SET",mode:e}}function we(){return function(e){var t=te("__remarkProvider");if(t)try{e({type:"PROVIDER/UPDATE",payload:JSON.parse(t)})}catch(e){}}}var Oe=function(){return(Oe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},je=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}s((r=r.apply(e,t||[])).next())}))},Ee=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}};function Se(e){return void 0===e&&(e=null),{type:"USER/SET",user:e}}var ke=function(e){return function(t){return je(void 0,void 0,void 0,(function(){var n;return Ee(this,(function(r){switch(r.label){case 0:return[4,q.p(e)];case 1:return n=r.sent(),t((o={name:e.name},function(e){ee("__remarkProvider",JSON.stringify(o)),e({type:"PROVIDER/UPDATE",payload:o})})),t(Se(n)),t(ge()),[2,n]}var o}))}))}},xe=function(e,t,n){return function(r){return je(void 0,void 0,void 0,(function(){return Ee(this,(function(o){switch(o.label){case 0:return[4,q.c(e,n)];case 1:return o.sent(),r({type:"USER/BAN",user:{id:e,name:t,time:Y(n)}}),[2]}}))}))}},Ce=function(e){return function(t,n){return je(void 0,void 0,void 0,(function(){var r,o,i;return Ee(this,(function(a){switch(a.label){case 0:return[4,q.y(e)];case 1:return a.sent(),t({type:"USER/UNBAN",id:e}),r=Object.values(n().comments.allComments),(o=r.filter((function(t){return t.user.id===e}))).length?(i=r[0].user,t({type:"COMMENTS/PATCH",ids:o.map((function(e){return e.id})),patch:{user:Oe(Oe({},i),{block:!1})}}),[2]):[2]}}))}))}},Me=function(){return function(e){e({type:"USER/HIDELIST_SET",payload:ae()})}},Te=function(e){return function(t,n){var r=ae();r[e.id]=e,ee(W.i,JSON.stringify(r));var o=Object.values(n().comments.allComments).filter((function(t){return t.user.id===e.id})).map((function(e){return e.id}));t({type:"USER/HIDE",user:e}),t({type:"COMMENTS/PATCH",ids:o,patch:{hidden:!0}})}},Ne=function(e){return{type:"USER_SUBSCRIPTION/SET",payload:e}},Ae=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}s((r=r.apply(e,t||[])).next())}))},Pe=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}};function De(){return Ae(this,void 0,void 0,(function(){var e,t,n,r,o;return Pe(this,(function(i){switch(i.label){case 0:return[4,Object(q.d)()];case 1:return e=i.sent(),t=$.a.config.admin_email,a=e.user_id,u=G.d,s=e.link,n={subject:encodeURIComponent("Request to delete user's information"),message:encodeURIComponent("Request to delete all information about "+a+" from remark42 on "+u+"\n\n[you can provide the reason for removal request, optional]\n\n=== DO NOT REMOVE THE TEXT BELOW THIS LINE ===\n\nsite: "+u+"\nuser: "+a+"\nlink: "+s+"\n").replace("%0A","%0D%0A")},r=n.subject,o=n.message,window.location.href="mailto:"+t+"?subject="+r+"&body="+o,[2]}var a,u,s}))}))}var Le=n(23),Re=n(12);function Ie(e){return void 0===e&&(e=1e3),new Promise((function(t){return setTimeout(t,e)}))}var Ue,Fe=n(11),He=(Ue=function(e,t){return(Ue=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}Ue(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Be=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}s((r=r.apply(e,t||[])).next())}))},ze=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},Ve=function(e){function t(t){var n=e.call(this,t)||this;return n.rootNode=Object(u.g)(),n.storedDocumentHeight=null,n.storedDocumentHeightSet=!1,n.checkInterval=void 0,n.onTitleClick=function(){var e=!n.state.isActive,t=e?n.state.contentTranslateX:0;n.setState({contentTranslateX:t,isActive:e},(function(){return Be(n,void 0,void 0,(function(){return ze(this,(function(t){switch(t.label){case 0:return[4,this.__adjustDropDownContent()];case 1:return t.sent(),e?(this.__onOpen(),this.props.onOpen&&this.props.onOpen(this.rootNode.current)):(this.__onClose(),this.props.onClose&&this.props.onClose(this.rootNode.current)),this.props.onTitleClick&&this.props.onTitleClick(),[2]}}))}))}))},n.state={isActive:t.isActive||!1,contentTranslateX:0},n.onOutsideClick=n.onOutsideClick.bind(n),n.receiveMessage=n.receiveMessage.bind(n),n.__onOpen=n.__onOpen.bind(n),n.__onClose=n.__onClose.bind(n),n}return He(t,e),t.prototype.__onOpen=function(){var e=this;if(!function(){if(!e.rootNode.current)return!1;for(var t=e.rootNode.current.parentElement;t!==document.body;){if(t.classList.contains("dropdown"))return!0;t=t.parentElement}return!1}()){this.storedDocumentHeight=document.body.style.minHeight,this.storedDocumentHeightSet=!0;var t=null;this.checkInterval=window.setInterval((function(){if(e.rootNode.current&&e.state.isActive){var n=window.innerHeight,r=function(){var t=Array.from(e.rootNode.current.children).find((function(e){return e.classList.contains("dropdown__content")}));if(!t)return 0;var n=t.getBoundingClientRect();return window.scrollY+Math.abs(n.top)+t.scrollHeight+10}();null===t&&r<=n||r!==t&&(t=r,document.body.style.minHeight=r+"px")}}),100)}},t.prototype.__onClose=function(){window.clearInterval(this.checkInterval),this.storedDocumentHeightSet&&(document.body.style.minHeight="string"==typeof this.storedDocumentHeight?this.storedDocumentHeight:"")},t.prototype.__adjustDropDownContent=function(){return Be(this,void 0,void 0,(function(){var e,t,n,r,o;return ze(this,(function(i){switch(i.label){case 0:return this.rootNode.current&&(e=this.rootNode.current.querySelector(".dropdown__content"))?[4,Ie(0)]:[2];case 1:return i.sent(),(t=e.getBoundingClientRect()).left>0?(n=window.innerWidth,t.right<=n||(r=t.right-n,o=Math.min(t.left,r),this.setState({contentTranslateX:-o})),[2]):(this.setState({contentTranslateX:-t.left}),[2])}}))}))},t.prototype.receiveMessage=function(e){var t=this;try{if(!("string"==typeof e.data?JSON.parse(e.data):e.data).clickOutside)return;if(!this.state.isActive)return;this.setState({contentTranslateX:0,isActive:!1},(function(){t.__onClose(),t.props.onClose&&t.props.onClose(t.rootNode.current)}))}catch(e){}},t.prototype.onOutsideClick=function(e){var t=this;this.rootNode.current&&!this.rootNode.current.contains(e.target)&&this.state.isActive&&this.setState({contentTranslateX:0,isActive:!1},(function(){t.__onClose(),t.props.onClose&&t.props.onClose(t.rootNode.current)}))},t.prototype.componentDidMount=function(){document.addEventListener("click",this.onOutsideClick),window.addEventListener("message",this.receiveMessage)},t.prototype.componentWillUnmount=function(){document.removeEventListener("click",this.onOutsideClick),window.removeEventListener("message",this.receiveMessage)},t.prototype.render=function(e,t){var n=e.title,r=e.titleClass,o=e.heading,i=e.children,a=e.mix,s=e.theme,c=e.disabled,l=e.buttonTitle,f=t.isActive;return Object(u.f)("div",{className:H()("dropdown",{mix:a},{theme:s,active:f}),ref:this.rootNode},Object(u.f)(Fe.a,{"aria-haspopup":"listbox","aria-expanded":f&&"true",onClick:this.onTitleClick,theme:s,mix:["dropdown__title",r],kind:"link",disabled:c,title:l},n),f&&Object(u.f)("div",{className:"dropdown__content",tabIndex:-1,role:"listbox",style:{transform:"translateX("+this.state.contentTranslateX+"px)"}},o&&Object(u.f)("div",{className:"dropdown__heading"},o),Object(u.f)("div",{className:"dropdown__items"},i)))},t}(u.a),We=function(e){var t=e.children,n=e.separator,r=void 0!==n&&n;return Object(u.f)("div",{className:H()("dropdown__item",{},{separator:r})},t)},Ge=(n(133),n(134),n(135),n(136),n(137),n(138),n(139),n(140),n(5)),$e=n(34);function qe(){return U((function(e){return e.theme}))}var Ye=function(){return(Ye=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Ke=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},Ze=Object(_.forwardRef)((function(e,t){var n=e.children,r=e.theme,o=e.mods,i=e.mix,a=e.type,s=void 0===a?"text":a,c=Ke(e,["children","theme","mods","mix","type"]),l=H()("input",{mix:i},Ye({theme:r},o));return Object(u.f)("input",Ye({className:l,type:s},c,{ref:t}),n)})),Je=(n(141),function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),Xe=Object(B.a)({lengthLimit:{id:"anonymousLoginForm.length-limit",defaultMessage:"Username must be at least 3 characters long"},symbolLimit:{id:"anonymousLoginForm.symbol-limit",defaultMessage:"Username must start with a letter and contain only latin letters, numbers, underscores, or spaces"},userName:{id:"anonymousLoginForm.user-name",defaultMessage:"Username"}}),Qe=function(e){function t(t){var n=e.call(this,t)||this;return n.inputRef=Object(u.g)(),n.state={inputValue:"",honeyPotValue:!1},n.onSubmit=n.onSubmit.bind(n),n.onChange=n.onChange.bind(n),n.onCheckedChange=n.onCheckedChange.bind(n),n}return Je(t,e),t.prototype.onSubmit=function(e){e.preventDefault(),this.state.honeyPotValue?window.location.reload():this.props.onSubmit(this.state.inputValue)},t.prototype.onChange=function(e){this.setState({inputValue:e.target.value})},t.prototype.getUsernameInvalidReason=function(){var e=this.state.inputValue,n=this.props.intl;return e.length<3?n.formatMessage(Xe.lengthLimit):t.usernameRegex.test(e)?null:n.formatMessage(Xe.symbolLimit)},t.prototype.onCheckedChange=function(e){this.setState({honeyPotValue:e.target.checked})},t.prototype.componentDidUpdate=function(){var e=this;setTimeout((function(){e.inputRef.current&&e.inputRef.current.focus()}),100)},t.prototype.render=function(){var e=this.props,t=e.intl,n=H()("auth-anonymous-login-form",{},{theme:e.theme});e.className&&(n+=" "+H()("auth-anonymous-login-form",{},{theme:e.theme}));var r=this.getUsernameInvalidReason();return Object(u.f)("form",{className:n,onSubmit:this.onSubmit},Object(u.f)(Ze,{ref:this.inputRef,mix:"auth-anonymous-login-form__input",placeholder:t.formatMessage(Xe.userName),value:this.state.inputValue,onInput:this.onChange}),Object(u.f)("input",{className:"auth-anonymous-login-form__remember-me",type:"checkbox",tabIndex:-1,autocomplete:"off",onChange:this.onCheckedChange,checked:this.state.honeyPotValue}),Object(u.f)(Fe.a,{mix:"auth-anonymous-login-form__submit",type:"submit",kind:"primary",size:"middle",title:r||"",disabled:null!==r},Object(u.f)(z.a,{id:"anonymousLoginForm.log-in",defaultMessage:"Log in"})))},t.usernameRegex=/^[a-zA-Z][\w ]+$/,t}(u.a),et=(n(142),n(143),n(15)),tt=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),nt=function(){return(nt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},rt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.textareaRef=Object(u.g)(),t}return tt(t,e),t.prototype.componentDidMount=function(){this.autoResize(),this.props.autofocus&&this.focus()},t.prototype.componentDidUpdate=function(e){e.value!==this.props.value&&this.autoResize()},t.prototype.focus=function(){var e=this;setTimeout((function(){var t=e.textareaRef.current;t&&(t.focus(),t.selectionStart=t.value.length,t.selectionEnd=t.value.length)}),100)},t.prototype.isSelectionSupported=function(){var e=this.textareaRef.current;if(e)return"selectionStart"in e;throw new Error("No textarea element reference exists")},t.prototype.getSelection=function(){var e=this.textareaRef.current;if(e)return[e.selectionStart,e.selectionEnd];throw new Error("No textarea element reference exists")},t.prototype.setSelection=function(e){var t=this.textareaRef.current;if(t)return t.selectionStart=e[0],void(t.selectionEnd=e[1]);throw new Error("No textarea element reference exists")},t.prototype.getValue=function(){var e=this.textareaRef.current;return e?e.value:""},t.prototype.autoResize=function(){var e=this.textareaRef.current;e&&(e.style.height="",e.style.height=e.scrollHeight+"px")},t.prototype.render=function(e){return Object(u.f)("textarea",nt({},e,{ref:this.textareaRef}))},t}(u.a),ot=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},it=function(e){return 1e3*function(e){var t=ot(e.split("."),2)[1].replace(/-/g,"+").replace(/_/g,"/"),n=decodeURIComponent(atob(t).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""));return JSON.parse(n)}(e).exp<Date.now()},at=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ut=function(){return(ut=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},st=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}s((r=r.apply(e,t||[])).next())}))},ct=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},lt=Object(B.a)({expiredToken:{id:"emailLoginForm.expired-token",defaultMessage:"Token is expired"},userNotFound:{id:"emailLoginForm.user-not-found",defaultMessage:"No user was found"},loading:{id:"emailLoginForm.loading",defaultMessage:"Loading..."},invalidEmail:{id:"emailLoginForm.invalid-email",defaultMessage:"Address should be valid email address"},emptyToken:{id:"emailLoginForm.empty-token",defaultMessage:"Token field must not be empty"},emailAddress:{id:"emailLoginForm.email-address",defaultMessage:"Email Address"},token:{id:"emailLoginForm.token",defaultMessage:"Token"}}),ft=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.usernameInputRef=Object(u.g)(),t.tokenRef=Object(u.g)(),t.state={usernameValue:"",addressValue:"",tokenValue:"",verificationSent:!1,loading:!1,error:null},t.focus=function(){return st(t,void 0,void 0,(function(){var e,t;return ct(this,(function(n){switch(n.label){case 0:return[4,Ie(100)];case 1:return n.sent(),this.usernameInputRef.current?(this.usernameInputRef.current.focus(),[2]):((null===(t=null===(e=this.tokenRef.current)||void 0===e?void 0:e.textareaRef)||void 0===t?void 0:t.current)&&this.tokenRef.current.textareaRef.current.select(),[2])}}))}))},t.onVerificationSubmit=function(e){return st(t,void 0,void 0,(function(){var t,n=this;return ct(this,(function(r){switch(r.label){case 0:e.preventDefault(),this.setState({loading:!0,error:null}),r.label=1;case 1:return r.trys.push([1,3,4,5]),[4,this.props.sendEmailVerification(this.state.usernameValue,this.state.addressValue)];case 2:return r.sent(),this.setState({verificationSent:!0}),setTimeout((function(){n.tokenRef.current&&n.tokenRef.current.focus()}),100),[3,5];case 3:return t=r.sent(),this.setState({error:Object(et.a)(t,this.props.intl)}),[3,5];case 4:return this.setState({loading:!1}),[7];case 5:return[2]}}))}))},t.onSubmit=function(e){return st(t,void 0,void 0,(function(){return ct(this,(function(t){return e.preventDefault(),this.sendForm(),[2]}))}))},t.onUsernameChange=function(e){t.setState({error:null,usernameValue:e.target.value})},t.onAddressChange=function(e){t.setState({error:null,addressValue:e.target.value})},t.onTokenChange=function(e){var n=t.props.intl,r=e.target.value;t.setState({error:null,tokenValue:r});try{if(r.length>0&&it(r))return void t.setState({error:n.formatMessage(lt.expiredToken)});t.sendForm(r)}catch(e){}},t.goBack=function(){return st(t,void 0,void 0,(function(){return ct(this,(function(e){switch(e.label){case 0:return[4,Ie(0)];case 1:return e.sent(),this.setState({tokenValue:"",error:null,verificationSent:!1}),[4,Ie(0)];case 2:return e.sent(),this.usernameInputRef.current&&this.usernameInputRef.current.focus(),[2]}}))}))},t}return at(t,e),t.prototype.sendForm=function(e){return void 0===e&&(e=this.state.tokenValue),st(this,void 0,void 0,(function(){var t,n,r;return ct(this,(function(o){switch(o.label){case 0:t=this.props.intl,o.label=1;case 1:return o.trys.push([1,5,6,7]),this.setState({loading:!0}),[4,this.props.onSignIn(e)];case 2:return(n=o.sent())?(this.setState({verificationSent:!1,tokenValue:""}),this.props.onSuccess?[4,this.props.onSuccess(n)]:[3,4]):(this.setState({error:t.formatMessage(lt.userNotFound)}),[2]);case 3:o.sent(),o.label=4;case 4:return[3,7];case 5:return r=o.sent(),this.setState({error:Object(et.a)(r,this.props.intl)}),[3,7];case 6:return this.setState({loading:!1}),[7];case 7:return[2]}}))}))},t.prototype.getForm1InvalidReason=function(){var e=this.props.intl;if(this.state.loading)return e.formatMessage(lt.loading);var n=this.state.usernameValue;return n.length<3?e.formatMessage(Xe.lengthLimit):t.usernameRegex.test(n)?t.emailRegex.test(this.state.addressValue)?null:e.formatMessage(lt.invalidEmail):e.formatMessage(Xe.symbolLimit)},t.prototype.getForm2InvalidReason=function(){var e=this.props.intl;return this.state.loading?e.formatMessage(lt.loading):0===this.state.tokenValue.length?e.formatMessage(lt.emptyToken):null},t.prototype.render=function(e){var t=e.intl,n=H()("auth-email-login-form",{},{theme:e.theme});e.className&&(n+=" "+H()("auth-email-login-form",{},{theme:e.theme}));var r=this.getForm1InvalidReason();if(!this.state.verificationSent)return Object(u.f)("form",{className:n,onSubmit:this.onVerificationSubmit},Object(u.f)(Ze,{autoFocus:!0,name:"username",mix:"auth-email-login-form__input",ref:this.usernameInputRef,placeholder:t.formatMessage(Xe.userName),value:this.state.usernameValue,onInput:this.onUsernameChange}),Object(u.f)(Ze,{mix:"auth-email-login-form__input",type:"email",name:"email",placeholder:t.formatMessage(lt.emailAddress),value:this.state.addressValue,onInput:this.onAddressChange}),this.state.error&&Object(u.f)("div",{className:"auth-email-login-form__error"},this.state.error),Object(u.f)(Fe.a,{mix:"auth-email-login-form__submit",kind:"primary",size:"middle",type:"submit",title:r||"",disabled:null!==r},Object(u.f)(z.a,{id:"emailLoginForm.send-verification",defaultMessage:"Send Verification"})));var o=this.getForm2InvalidReason();return Object(u.f)("form",{className:n,onSubmit:this.onSubmit},Object(u.f)(Fe.a,ut({kind:"link",mix:"auth-email-login-form__back-button"},Object(Re.a)(this.goBack)),Object(u.f)(z.a,{id:"emailLoginForm.back",defaultMessage:"Back"})),Object(u.f)(rt,{autofocus:!0,name:"token",className:"auth-email-login-form__token-input",ref:this.tokenRef,placeholder:t.formatMessage(lt.token),value:this.state.tokenValue,onInput:this.onTokenChange,spellcheck:!1,autocomplete:"off"}),this.state.error&&Object(u.f)("div",{className:"auth-email-login-form__error"},this.state.error),Object(u.f)(Fe.a,{mix:"auth-email-login-form__submit",type:"submit",kind:"primary",size:"middle",title:o||"",disabled:null!==o},Object(u.f)(z.a,{id:"emailLoginForm.confirm",defaultMessage:"Confirm"})))},t.usernameRegex=/^[a-zA-Z][\w ]+$/,t.emailRegex=/[^@]+@[^.]+\..+/,t}(u.a),dt=Object(_.forwardRef)((function(e,t){var n=Object(V.a)();return Object(u.f)(ft,ut({},e,{sendEmailVerification:q.w,intl:n,ref:t}))})),pt=n(119),mt=n.n(pt),ht=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),vt=function(){return(vt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},bt=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}s((r=r.apply(e,t||[])).next())}))},yt=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},gt=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},_t=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(gt(arguments[t]));return e},wt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.emailLoginRef=Object(u.g)(),t.singInMessageAndSortWidth=255,t.state={threshold:3},t.resizeHandler=Object($e.a)((function(){t.setState({threshold:Math.max(3,Math.round((window.innerWidth-t.singInMessageAndSortWidth)/80))})}),100),t.onEmailTitleClick=function(){t.emailLoginRef.current&&t.emailLoginRef.current.focus()},t.onEmailSignIn=function(e){return t.props.onSignIn({name:"email",token:e})},t.handleOAuthLogin=function(e){return bt(t,void 0,void 0,(function(){var t;return yt(this,(function(n){return t=e.target.dataset.provider,this.props.onSignIn({name:t}),[2]}))}))},t.handleAnonymousLoginFormSubmut=function(e){return bt(t,void 0,void 0,(function(){return yt(this,(function(t){return this.props.onSignIn({name:"anonymous",username:e}),[2]}))}))},t.renderOther=function(e){var n=t.props.intl.formatMessage(Ot.otherProvider);return Object(u.f)(Ve,{title:n,theme:t.props.theme,onTitleClick:t.onEmailTitleClick},e.map((function(e){return Object(u.f)(We,null,t.renderProvider(e))})))},t.renderProvider=function(e){if("anonymous"===e){var n=t.props.intl.formatMessage(Ot.anonymousProvider);return Object(u.f)(Ve,{title:n,theme:t.props.theme},Object(u.f)(We,null,Object(u.f)(Qe,{onSubmit:t.handleAnonymousLoginFormSubmut,theme:t.props.theme,intl:t.props.intl})))}return"email"===e?Object(u.f)(Ve,{title:W.n.email,theme:t.props.theme,onTitleClick:t.onEmailTitleClick},Object(u.f)(We,null,Object(u.f)(dt,{ref:t.emailLoginRef,onSignIn:t.onEmailSignIn,theme:t.props.theme}))):Object(u.f)(Fe.a,vt({kind:"link","data-provider":e},Object(Re.a)(t.handleOAuthLogin),{role:"link"}),W.n[e])},t}return ht(t,e),t.prototype.componentWillMount=function(){this.resizeHandler(),window.addEventListener("resize",this.resizeHandler)},t.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.resizeHandler)},t.prototype.render=function(e,t){var n=this,r=e.intl,o=t.threshold;if(!W.f)return null;var i=function(e){if(!n.props.provider.name)return e;var t=e.indexOf(n.props.provider.name);return t<1?e:_t([n.props.provider.name],e.slice(0,t),e.slice(t+1))}($.a.config.auth_providers),a=i.length>o,s=r.formatMessage(Ot.orProvider);return Object(u.f)("div",{className:mt.a.auth},Object(u.f)(z.a,{id:"authPanel.login",defaultMessage:"Login:"})," ",!a&&i.map((function(e,t){var r=0===t?"":t===i.length-1?" "+s+" ":", ";return Object(u.f)("span",null,r,n.renderProvider(e))})),a&&i.slice(0,o-1).map((function(e,t){var r=0===t?"":", ";return Object(u.f)("span",null,r,n.renderProvider(e))})),a&&Object(u.f)("span",null," "+s+" ",this.renderOther(i.slice(o-1))))},t}(u.a),Ot=Object(B.a)({otherProvider:{id:"authPanel.other-provider",defaultMessage:"Other"},anonymousProvider:{id:"authPanel.anonymous-provider",defaultMessage:"Anonymous"},orProvider:{id:"authPanel.or-provider",defaultMessage:"or"}}),jt=function(){var e=D(),t=U((function(e){return e.provider})),n=U((function(e){return e.user})),r=qe(),o=Object(V.a)(),i=Object(Ge.a)((function(t){return e(ke(t))}),[]);return Object(u.f)(wt,{provider:t,theme:r,onSignIn:i,intl:o,user:n})},Et=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),St=function(){return(St=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},kt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isBlockedVisible:!1,anonymousUsernameInputValue:"anon",sortSelectFocused:!1},t.onSortChange=function(e){var n=e.target.value;t.props.onSortChange(n)},t.onSortFocus=function(){t.setState({sortSelectFocused:!0})},t.onSortBlur=function(e){t.setState({sortSelectFocused:!1}),t.onSortChange(e)},t.toggleBlockedVisibility=function(){t.state.isBlockedVisible?t.props.onBlockedUsersHide&&t.props.onBlockedUsersHide():t.props.onBlockedUsersShow&&t.props.onBlockedUsersShow(),t.setState({isBlockedVisible:!t.state.isBlockedVisible})},t.toggleCommentsAvailability=function(){t.props.onCommentsChangeReadOnlyMode(!t.props.isCommentsDisabled)},t.toggleUserInfoVisibility=function(){var e=t.props.user;window.parent&&e&&Object(Le.a)({isUserInfoShown:!0,user:e})},t.renderAuthorized=function(e){var n=t.props,r=n.onSignOut,o=n.theme,i=e&&"anonymous_"===e.id.substr(0,10);return Object(u.f)(u.b,null,Object(u.f)(z.a,{id:"authPanel.logged-as",defaultMessage:"You logged in as"})," ",Object(u.f)(Ve,{title:e.name,titleClass:"auth-panel__user-dropdown-title",theme:o},Object(u.f)(We,{separator:!i},Object(u.f)("div",St({id:e.id,className:H()("auth-panel__user-id",{},{theme:o})},Object(Re.a)(t.toggleUserInfoVisibility)),e.id)),!i&&Object(u.f)(We,null,Object(u.f)(Fe.a,{theme:o,onClick:function(){return De().then(r)}},Object(u.f)(z.a,{id:"authPanel.request-to-delete-data",defaultMessage:"Request my data removal"}))))," ",Object(u.f)(Fe.a,{kind:"link",theme:o,onClick:r},Object(u.f)(z.a,{id:"authPanel.logout",defaultMessage:"Logout?"})))},t.renderThirdPartyWarning=function(){return W.f||!W.g?null:Object(u.f)("div",{className:"auth-panel__column"},Object(u.f)(z.a,{id:"authPanel.disabled-cookies",defaultMessage:"Disable third-party cookies blocking to login or open comments in"})," ",Object(u.f)("a",{className:"auth-panel__pseudo-link",href:window.location.origin+"/web/comments.html"+window.location.search,target:"_blank"},Object(u.f)(z.a,{id:"authPanel.new-page",defaultMessage:"new page"})))},t.renderCookiesWarning=function(){return W.f||W.g?null:Object(u.f)("div",{className:"auth-panel__column"},Object(u.f)(z.a,{id:"authPanel.enable-cookies",defaultMessage:"Allow cookies to login and comment"}))},t.renderSettingsLabel=function(){return Object(u.f)(Fe.a,St({kind:"link",mix:"auth-panel__admin-action"},Object(Re.a)(t.toggleBlockedVisibility),{role:"link"}),t.state.isBlockedVisible?Object(u.f)(z.a,{id:"authPanel.hide-settings",defaultMessage:"Hide settings"}):Object(u.f)(z.a,{id:"authPanel.show-settings",defaultMessage:"Show settings"}))},t.renderReadOnlySwitch=function(){var e=t.props.isCommentsDisabled;return Object(u.f)(Fe.a,St({kind:"link",mix:"auth-panel__admin-action"},Object(Re.a)(t.toggleCommentsAvailability),{role:"link"}),e?Object(u.f)(z.a,{id:"authPanel.enable-comments",defaultMessage:"Enable comments"}):Object(u.f)(z.a,{id:"authPanel.disable-comments",defaultMessage:"Disable comments"}))},t.renderSort=function(){var e=t.props.sort,n=t.state.sortSelectFocused,r=Ct(e,t.props.intl);return Object(u.f)("span",{className:"auth-panel__sort"},Object(u.f)(z.a,{id:"commentSort.sort-by",defaultMessage:"Sort by"})," ",Object(u.f)("span",{className:"auth-panel__select-label"},Object(u.f)("span",{className:H()("auth-panel__select-label-value",{},{focused:n})},r.find((function(e){return"selected"in e&&e.selected})).label),Object(u.f)("select",{className:"auth-panel__select",onChange:t.onSortChange,onFocus:t.onSortFocus,onBlur:t.onSortBlur},r.map((function(e){return Object(u.f)("option",{value:e.value,selected:e.selected},e.label)})))))},t}return Et(t,e),t.prototype.render=function(e,t){var n=e.user,r=e.postInfo,o=e.theme,i=t.isBlockedVisible,a=r.read_only,s=n&&n.admin,c=Object.keys(this.props.hiddenUsers).length>0||s||i;return Object(u.f)("div",{className:H()("auth-panel",{},{theme:o,loggedIn:!!n})},Object(u.f)("div",{className:"auth-panel__column"},n?this.renderAuthorized(n):a&&Object(u.f)(jt,null)),this.renderThirdPartyWarning(),this.renderCookiesWarning(),Object(u.f)("div",{className:"auth-panel__column"},c&&this.renderSettingsLabel(),c&&" • ",s&&this.renderReadOnlySwitch(),s&&" • ",!s&&a&&Object(u.f)("span",{className:"auth-panel__readonly-label"},Object(u.f)(z.a,{id:"authPanel.read-only",defaultMessage:"Read-only"})),this.renderSort()))},t}(u.a),xt=Object(B.a)({best:{id:"commentsSort.best",defaultMessage:"Best"},worst:{id:"commentsSort.worst",defaultMessage:"Worst"},newest:{id:"commentsSort.newest",defaultMessage:"Newest"},oldest:{id:"commentsSort.oldest",defaultMessage:"Oldest"},recentlyUpdated:{id:"commentsSort.recently-updated",defaultMessage:"Recently updated"},leastRecentlyUpdated:{id:"commentsSort.least-recently-updated",defaultMessage:"Least recently updated"},mostControversial:{id:"commentsSort.most-controversial",defaultMessage:"Most controversial"},leastControversial:{id:"commentsSort.least-controversial",defaultMessage:"Least controversial"}});function Ct(e,t){return[{value:"-score",label:t.formatMessage(xt.best)},{value:"+score",label:t.formatMessage(xt.worst)},{value:"-time",label:t.formatMessage(xt.newest)},{value:"+time",label:t.formatMessage(xt.oldest)},{value:"-active",label:t.formatMessage(xt.recentlyUpdated)},{value:"+active",label:t.formatMessage(xt.leastRecentlyUpdated)},{value:"-controversy",label:t.formatMessage(xt.mostControversial)},{value:"+controversy",label:t.formatMessage(xt.leastControversial)}].map((function(t){return t.value===e&&(t.selected=!0),t}))}function Mt(e){var t=Object(V.a)(),n=qe(),r=U((function(e){return e.provider})),o=U((function(e){return e.comments.sort}));return Object(u.f)(kt,St({intl:t,theme:n,providers:$.a.config.auth_providers,provider:r,sort:o},e))}n(144),n(145),n(146),n(147),n(148),n(149),n(150),n(151),n(152),n(153),n(154);var Tt=function(){return(Tt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Nt=function(e){return e.theme};var At=function(e){var t=function(t){var n=U(Nt);return Object(u.f)(e,Tt({theme:n},t))};return t.displayName="withTheme("+(e.displayName||e.name)+")",t},Pt=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Dt=function(){return(Dt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Lt=Object(B.a)({blockUser:{id:"settings.block-user",defaultMessage:"Do you want to block {userName}?"},unblockUser:{id:"settings.unblock-user",defaultMessage:"Do you want to unblock {userName}?"},hiddenUsers:{id:"settings.hidden-users-title",defaultMessage:"Hidden users"},blockedUsers:{id:"settings.blocked-users-title",defaultMessage:"Blocked users"}}),Rt=function(e){function t(t){var n=e.call(this,t)||this;return n.block=function(e){confirm(n.props.intl.formatMessage(Lt.blockUser,{userName:e.name}))&&(n.setState({unblockedUsers:n.state.unblockedUsers.filter((function(t){return t!==e.id}))}),n.props.blockUser(e.id,e.name,"permanently"))},n.unblock=function(e){confirm(n.props.intl.formatMessage(Lt.unblockUser,{userName:e.name}))&&(n.setState({unblockedUsers:n.state.unblockedUsers.concat([e.id])}),n.props.unblockUser(e.id),n.props.onUnblockSomeone())},n.hide=function(e){n.setState({unhiddenUsers:n.state.unhiddenUsers.filter((function(t){return t!==e.id}))}),n.props.hideUser(e)},n.unhide=function(e){n.setState({unhiddenUsers:n.state.unhiddenUsers.concat([e.id])}),n.props.unhideUser(e.id),n.props.onUnblockSomeone()},n.__isUserHidden=function(e){return-1===n.state.unhiddenUsers.indexOf(e.id)},n.state={blockedUsers:t.blockedUsers.slice(),unblockedUsers:[],hiddenUsers:Dt({},t.hiddenUsers),unhiddenUsers:[]},n}return Pt(t,e),t.prototype.render=function(e,t){var n=this,r=e.user,o=e.theme,i=t.blockedUsers,a=t.unblockedUsers,s=t.unhiddenUsers,c=Object.values(this.state.hiddenUsers),l=this.props.intl;return Object(u.f)("div",{className:H()("settings",{},{theme:o})},Object(u.f)("div",{className:"settings__section settings__hidden-users",role:"region","aria-label":l.formatMessage(Lt.hiddenUsers)},Object(u.f)("h3",null,Object(u.f)(z.a,{id:"settings.hidden-user-header",defaultMessage:"Hidden users:"})),!c.length&&Object(u.f)("h4",{className:"settings__dimmed"},Object(u.f)(z.a,{id:"settings.no-hidden-users",defaultMessage:"There are no hidden users."})),!!c.length&&Object(u.f)("ul",{className:"settings__list"},c.map((function(e){var t=s.includes(e.id);return Object(u.f)("li",{className:"settings__list-item"},Object(u.f)("span",{className:["settings__username",t?"settings__invisible":null].join(" "),title:e.id},e.name?e.name:Object(u.f)(z.a,{id:"settings.unknown",defaultMessage:"unknown"})),n.__isUserHidden(e)?Object(u.f)("span",Dt({className:"settings__action"},Object(Re.a)((function(){return n.unhide(e)}))),Object(u.f)(z.a,{id:"settings.show",defaultMessage:"show"})):Object(u.f)("span",Dt({className:"settings__action"},Object(Re.a)((function(){return n.hide(e)}))),Object(u.f)(z.a,{id:"settings.hide",defaultMessage:"hide"})),Object(u.f)("div",null,Object(u.f)("span",{className:"settings__user-id"},"id: ",Object(u.f)("span",null,e.id))))})))),r&&r.admin&&Object(u.f)("div",{className:"settings__section settings__blocked-users",role:"region","aria-label":l.formatMessage(Lt.blockedUsers)},Object(u.f)("h3",null,Object(u.f)(z.a,{id:"settings.blocked-users-header",defaultMessage:"Blocked users:"})),!i.length&&Object(u.f)("h4",{className:"settings__dimmed"},Object(u.f)(z.a,{id:"settings.no-blocked-users",defaultMessage:"There are no blocked users."})),!!i.length&&Object(u.f)("ul",{className:"settings__list settings__blocked-users-list"},i.map((function(e){var t=a.includes(e.id);return Object(u.f)("li",{className:"settings__list-item"},Object(u.f)("span",{className:["settings__username",t?"settings__invisible":null].join(" "),title:e.id},e.name?e.name:Object(u.f)(z.a,{id:"settings.unknown",defaultMessage:"unknown"})),Object(u.f)("span",{className:"settings__blocked-users-user-block-ttl"}," ",Object(u.f)(Ut,{time:new Date(e.time)})),t&&Object(u.f)("span",Dt({},Object(Re.a)((function(){return n.block(e)})),{className:"settings__action"}),Object(u.f)(z.a,{id:"settings.block",defaultMessage:"block"})),!t&&Object(u.f)("span",Dt({},Object(Re.a)((function(){return n.unblock(e)})),{className:"settings__action"}),Object(u.f)(z.a,{id:"settings.unblock",defaultMessage:"unblock"})),Object(u.f)("div",null,Object(u.f)("span",{className:"settings__user-id"},"id: ",Object(u.f)("span",null,e.id))))})))))},t}(u.a),It=(new Date).getFullYear();function Ut(e){var t=e.time,n=Object(V.a)();return t.getFullYear()-It>=50?Object(u.f)(z.a,{id:"settings.permanently",defaultMessage:"permanently"}):Object(u.f)(z.a,{id:"settings.block-time",defaultMessage:"until {day} at {time}",values:{day:n.formatDate(t),time:n.formatTime(t)}})}n(155),n(156),n(157),n(158),n(159),n(160),n(161),n(162),n(163),n(164);var Ft=At(Rt),Ht=(n(53),n(32)),Bt=function(e){return function(t){var n=t.collapsedThreads[e.id];return null!=n?n:(e.score||0)<=$.a.config.critical_score}};var zt=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},Vt=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(zt(arguments[t]));return e},Wt=function(e){var t=D();return Object(_.useMemo)((function(){return Object.entries(e).reduce((function(e,n){var r=zt(n,2),o=r[0],i=r[1];return e[o]=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t(i.apply(void 0,Vt(e)))},e}),{})}),Vt([t],Object.values(e)))},Gt=function(){return(Gt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},$t={addComment:be,updateComment:ye,removeComment:function(e){return function(t,n){return he(void 0,void 0,void 0,(function(){var r,o;return ve(this,(function(i){switch(i.label){case 0:return(r=n().user)?r.admin?[4,q.t(e)]:[3,2]:[2];case 1:return i.sent(),[3,4];case 2:return[4,q.u(e)];case 3:i.sent(),i.label=4;case 4:return o=n().comments.allComments[e],o=me(me({},o),{delete:!0,edit:{summary:"",time:(new Date).toISOString()}}),t({type:"COMMENTS/EDIT",comment:o}),[2]}}))}))}},setReplyEditState:function(e){return function(t){null!==e&&e.state===ue.a.None&&(e=null),t(_e(e))}},setPinState:function(e,t){return function(n,r){return he(void 0,void 0,void 0,(function(){var o;return ve(this,(function(i){switch(i.label){case 0:return t?[4,q.r(e)]:[3,2];case 1:return i.sent(),[3,4];case 2:return[4,q.z(e)];case 3:i.sent(),i.label=4;case 4:return o=r().comments.allComments[e],o=me(me({},o),{pin:t,edit:{summary:"",time:(new Date).toISOString()}}),n({type:"COMMENTS/EDIT",comment:o}),[2]}}))}))}},putCommentVote:function(e,t){return function(n){return he(void 0,void 0,void 0,(function(){var r;return ve(this,(function(o){switch(o.label){case 0:return[4,q.s({id:e,value:t})];case 1:return o.sent(),[4,q.j(e)];case 2:return r=o.sent(),n({type:"COMMENTS/EDIT",comment:r}),[2]}}))}))}},blockUser:xe,unblockUser:Ce,hideUser:Te,setVerifiedStatus:function(e,t){return function(n,r){return je(void 0,void 0,void 0,(function(){var o,i,a;return Ee(this,(function(u){switch(u.label){case 0:return t?[4,q.x(e)]:[3,2];case 1:return u.sent(),[3,4];case 2:return[4,q.v(e)];case 3:u.sent(),u.label=4;case 4:return o=Object.values(r().comments.allComments),(i=o.filter((function(t){return t.user.id===e}))).length?(a=i[0].user,n({type:"COMMENTS/PATCH",ids:i.map((function(e){return e.id})),patch:{user:Oe(Oe({},a),{verified:t})}}),[2]):[2]}}))}))}}},qt=function(e){var t,n,r,o=(t=A().getState(),{editMode:(r=(n=e).data.id,function(e){return null===e.comments.activeComment||e.comments.activeComment.id!==r?ue.a.None:e.comments.activeComment.state})(t),user:t.user,isUserBanned:n.data.user.block||void 0!==t.bannedUsers.find((function(e){return e.id===n.data.user.id})),post_info:t.info,isCommentsDisabled:t.info.read_only||!1,theme:t.theme,collapsed:Bt(n.data)(t),getPreview:q.m,uploadImage:q.C}),i=Wt($t);return Object(u.f)(Ht.a,Gt({},e,o,i))},Yt=n(24);function Kt(e,t,n){return e.substr(0,t[0])+n+e.substr(t[1])}var Zt,Jt=function(e){var t=e.mix;return Object(u.f)("div",{className:H()("preloader",{mix:t})})},Xt=function(){return(Xt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Qt=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}s((r=r.apply(e,t||[])).next())}))},en=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},tn=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},nn=/[^@]+@[^.]+\..+/;!function(e){e[e.Email=0]="Email",e[e.Token=1]="Token",e[e.Final=2]="Final",e[e.Close=3]="Close",e[e.Subscribed=4]="Subscribed",e[e.Unsubscribed=5]="Unsubscribed"}(Zt||(Zt={}));var rn=Object(B.a)({haveSubscribed:{id:"subscribeByEmail.have-been-subscribed",defaultMessage:"You have been subscribed on updates by email"},subscribed:{id:"subscribeByEmail.subscribed",defaultMessage:"You are subscribed on updates by email"},submit:{id:"subscribeByEmail.submit",defaultMessage:"Submit"},subscribe:{id:"subscribeByEmail.subscribe",defaultMessage:"Subscribe"},subscribeByEmail:{id:"subscribeByEmail.subscribe-by-email",defaultMessage:"Subscribe by Email"},onlyRegisteredUsers:{id:"subscribeByEmail.only-registered-users",defaultMessage:"Available only for registered users"},expiredToken:{id:"subscribeByEmail.expired-token",defaultMessage:"Expired token"},token:{id:"subscribeByEmail.token",defaultMessage:"Token"},email:{id:"subscribeByEmail.email",defaultMessage:"Email"}}),on=function(){var e=qe(),t=D(),n=Object(V.a)(),r=U((function(e){var t=e.user;return null!==t&&Boolean(t.email_subscription)})),o=Object(Ge.j)(),i=Object(Ge.j)(null),a=tn(Object(Ge.k)(r?Zt.Subscribed:Zt.Email),2),s=a[0],c=a[1],l=tn(Object(Ge.k)(""),2),f=l[0],d=l[1],p=tn(Object(Ge.k)(""),2),m=p[0],h=p[1],v=tn(Object(Ge.k)(!1),2),b=v[0],y=v[1],g=tn(Object(Ge.k)(null),2),_=g[0],w=g[1],O=Object(Ge.a)((function(e){return void 0===e&&(e=f),Qt(void 0,void 0,void 0,(function(){var r;return en(this,(function(o){switch(o.label){case 0:y(!0),w(null),o.label=1;case 1:switch(o.trys.push([1,8,9,10]),s){case Zt.Email:return[3,2];case Zt.Token:return[3,4]}return[3,6];case 2:return[4,Object(q.g)(m)];case 3:return o.sent(),d(""),c(Zt.Token),[3,7];case 4:return[4,Object(q.f)(e)];case 5:return o.sent(),t(Ne(!0)),i.current=Zt.Token,c(Zt.Subscribed),[3,7];case 6:return[3,7];case 7:return[3,10];case 8:return r=o.sent(),w(Object(et.a)(r,n)),[3,10];case 9:return y(!1),[7];case 10:return[2]}}))}))}),[y,w,c,s,m,f]),j=Object(Ge.a)((function(e){var t=e.target.value;e.preventDefault(),w(null),h(t)}),[]),E=Object(Ge.a)((function(e){var t=e.target.value;e.preventDefault(),w(null);try{t.length>0&&it(t)?w(n.formatMessage(rn.expiredToken)):O(t)}catch(e){}d(t)}),[O,w,d]),S=Object(Ge.a)((function(e){return Qt(void 0,void 0,void 0,(function(){return en(this,(function(t){return e.preventDefault(),O(),[2]}))}))}),[O]),k=nn.test(m),x=Object(Ge.a)((function(){return Qt(void 0,void 0,void 0,(function(){return en(this,(function(e){switch(e.label){case 0:return[4,Ie(0)];case 1:return e.sent(),w(null),c(Zt.Email),[2]}}))}))}),[c]);if(Object(Ge.d)((function(){o.current&&o.current.focus()}),[]),s===Zt.Close)return null;if(s===Zt.Subscribed){var C=Object(Ge.a)((function(){return Qt(void 0,void 0,void 0,(function(){var e;return en(this,(function(r){switch(r.label){case 0:y(!0),r.label=1;case 1:return r.trys.push([1,3,4,5]),[4,Object(q.A)()];case 2:return r.sent(),t(Ne(!1)),i.current=Zt.Subscribed,c(Zt.Unsubscribed),[3,5];case 3:return e=r.sent(),w(Object(et.a)(e,n)),[3,5];case 4:return y(!1),[7];case 5:return[2]}}))}))}),[y,c,w]),M=i.current===Zt.Token?n.formatMessage(rn.haveSubscribed):n.formatMessage(rn.subscribed);return Object(u.f)("div",{className:H()("comment-form__subscribe-by-email",{mods:{subscribed:!0}})},M,Object(u.f)(Fe.a,{kind:"primary",size:"middle",mix:"comment-form__subscribe-by-email__button",theme:e,onClick:C},Object(u.f)(z.a,{id:"subscribeByEmail.unsubscribe",defaultMessage:"Unsubscribe"})))}if(s===Zt.Unsubscribed)return Object(u.f)("div",{className:H()("comment-form__subscribe-by-email",{mods:{unsubscribed:!0}})},Object(u.f)(z.a,{id:"subscribeByEmail.have-been-unsubscribed",defaultMessage:"You have been unsubscribed by email to updates"}),Object(u.f)(Fe.a,{kind:"primary",size:"middle",mix:"comment-form__subscribe-by-email__button",theme:e,onClick:function(){return c(Zt.Close)}},Object(u.f)(z.a,{id:"subscribeByEmail.close",defaultMessage:"Close"})));var T=s===Zt.Email?n.formatMessage(rn.submit):n.formatMessage(rn.subscribe);return Object(u.f)("form",{className:H()("comment-form__subscribe-by-email",{},{theme:e}),onSubmit:S},s===Zt.Email&&function(e,t,n,r,o){return Object(u.f)(u.b,null,Object(u.f)("div",{className:"comment-form__subscribe-by-email__title"},Object(u.f)(z.a,{id:"subscribeByEmail.subscribe-to-replies",defaultMessage:"Subscribe to replies"})),Object(u.f)(Ze,{ref:o,mix:"comment-form__subscribe-by-email__input",placeholder:t.formatMessage(rn.email),value:n,onInput:r,disabled:e}))}(b,n,m,j,o),s===Zt.Token&&function(e,t,n,r,o){return Object(u.f)(u.b,null,Object(u.f)(Fe.a,Xt({kind:"link",mix:"auth-email-login-form__back-button"},Object(Re.a)(o)),Object(u.f)(z.a,{id:"subscribeByEmail.back",defaultMessage:"Back"})),Object(u.f)(rt,{className:"comment-form__subscribe-by-email__token-input",placeholder:t.formatMessage(rn.token),autofocus:!0,onInput:r,disabled:e,value:n}))}(b,n,f,E,x),null!==_&&Object(u.f)("div",{className:"comment-form__subscribe-by-email__error",role:"alert"},_),Object(u.f)(Fe.a,{mix:"comment-form__subscribe-by-email__button",kind:"primary",size:"large",type:"submit",disabled:!k||b},b?Object(u.f)(Jt,{mix:"comment-form__subscribe-by-email__preloader"}):T))},an=function(){var e=qe(),t=Object(V.a)(),n=U((function(e){return e.user})),r=Object(Yt.a)(n),o=r?t.formatMessage(rn.onlyRegisteredUsers):t.formatMessage(rn.subscribeByEmail);return Object(u.f)(Ve,{mix:"comment-form__email-dropdown",title:t.formatMessage(rn.email),theme:e,disabled:r,buttonTitle:o},Object(u.f)(on,null))},un=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},sn=function(e,t){return void 0===t&&(t=""),""+W.b+W.a+"/rss/"+e+"?site="+G.d+t},cn=Object(B.a)({thread:{id:"subscribeByRSS.thread",defaultMessage:"Thread"},site:{id:"subscribeByRSS.site",defaultMessage:"Site"},replies:{id:"subscribeByRSS.replies",defaultMessage:"Replies"},buttonTitle:{id:"subscribeByRSS.button-title",defaultMessage:"Subscribe by RSS"},title:{id:"subscribeByRSS.title",defaultMessage:"RSS"}}),ln=function(e){var t=e.userId,n=qe(),r=Object(V.a)(),o=Object(Ge.h)((function(){return[[sn("post"),r.formatMessage(cn.thread)],[sn("site","&user="+t),r.formatMessage(cn.site)],[sn("reply","&url="+G.f),r.formatMessage(cn.replies)]]}),[t]);return Object(u.f)(Ve,{title:r.formatMessage(cn.title),titleClass:"comment-form__rss-dropdown__title",buttonTitle:r.formatMessage(cn.buttonTitle),mix:"comment-form__rss-dropdown",theme:n},o.map((function(e){var t=un(e,2),n=t[0],r=t[1];return Object(u.f)(We,null,Object(u.f)("a",{href:n,className:"comment-form__rss-dropdown__link",target:"_blank"},r))})))};function fn(e,t,n){return(fn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=En(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function dn(e){return(dn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function hn(e,t,n){return t&&mn(e.prototype,t),n&&mn(e,n),e}function vn(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&jn(e,t)}function bn(e){return function(){var t,n=En(e);if(On()){var r=En(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return yn(this,t)}}function yn(e,t){return!t||"object"!==dn(t)&&"function"!=typeof t?gn(e):t}function gn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _n(e){var t="function"==typeof Map?new Map:void 0;return(_n=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return wn(e,arguments,En(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),jn(r,e)})(e)}function wn(e,t,n){return(wn=On()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&jn(o,n.prototype),o}).apply(null,arguments)}function On(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function jn(e,t){return(jn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function En(e){return(En=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Sn(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=function(e,t){if(!e)return;if("string"==typeof e)return kn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kn(e,t)}(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o,i=!0,a=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(a)throw o}}}}function kn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Cn=["[data-md-button]","md-header","md-bold","md-italic","md-quote","md-code","md-link","md-image","md-unordered-list","md-ordered-list","md-task-list","md-mention","md-ref"];function Mn(e){var t,n=[],r=Sn(e.querySelectorAll(Cn.join(", ")));try{for(r.s();!(t=r.n()).done;){var o=t.value;o.hidden||o.offsetWidth<=0&&o.offsetHeight<=0||o.closest("markdown-toolbar")===e&&n.push(o)}}catch(e){r.e(e)}finally{r.f()}return n}var Tn=new WeakMap,Nn=function(e){vn(n,e);var t=bn(n);function n(){var e;pn(this,n);var r,o=function(){var t=Tn.get(gn(e));t&&rr(gn(e),t)};return(e=t.call(this)).addEventListener("keydown",(r=o,function(e){" "!==e.key&&"Enter"!==e.key||(e.preventDefault(),r(e))})),e.addEventListener("click",o),e}return hn(n,[{key:"connectedCallback",value:function(){this.hasAttribute("role")||this.setAttribute("role","button")}},{key:"click",value:function(){var e=Tn.get(this);e&&rr(this,e)}}]),n}(_n(HTMLElement)),An=function(e){vn(n,e);var t=bn(n);function n(){var e;pn(this,n),e=t.call(this);var r=parseInt(e.getAttribute("level")||3,10);if(r<1||r>6)return yn(e);var o="".concat("#".repeat(r)," ");return Tn.set(gn(e),{prefix:o}),e}return n}(Nn);window.customElements.get("md-header")||(window.MarkdownHeaderButtonElement=An,window.customElements.define("md-header",An));var Pn=function(e){vn(n,e);var t=bn(n);function n(){var e;return pn(this,n),e=t.call(this),Tn.set(gn(e),{prefix:"**",suffix:"**",trimFirst:!0}),e}return hn(n,[{key:"connectedCallback",value:function(){fn(En(n.prototype),"connectedCallback",this).call(this),this.setAttribute("hotkey","b")}}]),n}(Nn);window.customElements.get("md-bold")||(window.MarkdownBoldButtonElement=Pn,window.customElements.define("md-bold",Pn));var Dn=function(e){vn(n,e);var t=bn(n);function n(){var e;return pn(this,n),e=t.call(this),Tn.set(gn(e),{prefix:"_",suffix:"_",trimFirst:!0}),e}return hn(n,[{key:"connectedCallback",value:function(){fn(En(n.prototype),"connectedCallback",this).call(this),this.setAttribute("hotkey","i")}}]),n}(Nn);window.customElements.get("md-italic")||(window.MarkdownItalicButtonElement=Dn,window.customElements.define("md-italic",Dn));var Ln=function(e){vn(n,e);var t=bn(n);function n(){var e;return pn(this,n),e=t.call(this),Tn.set(gn(e),{prefix:"> ",multiline:!0,surroundWithNewlines:!0}),e}return n}(Nn);window.customElements.get("md-quote")||(window.MarkdownQuoteButtonElement=Ln,window.customElements.define("md-quote",Ln));var Rn=function(e){vn(n,e);var t=bn(n);function n(){var e;return pn(this,n),e=t.call(this),Tn.set(gn(e),{prefix:"`",suffix:"`",blockPrefix:"```",blockSuffix:"```"}),e}return n}(Nn);window.customElements.get("md-code")||(window.MarkdownCodeButtonElement=Rn,window.customElements.define("md-code",Rn));var In=function(e){vn(n,e);var t=bn(n);function n(){var e;return pn(this,n),e=t.call(this),Tn.set(gn(e),{prefix:"[",suffix:"](url)",replaceNext:"url",scanFor:"https?://"}),e}return hn(n,[{key:"connectedCallback",value:function(){fn(En(n.prototype),"connectedCallback",this).call(this),this.setAttribute("hotkey","k")}}]),n}(Nn);window.customElements.get("md-link")||(window.MarkdownLinkButtonElement=In,window.customElements.define("md-link",In));var Un=function(e){vn(n,e);var t=bn(n);function n(){var e;return pn(this,n),e=t.call(this),Tn.set(gn(e),{prefix:"![",suffix:"](url)",replaceNext:"url",scanFor:"https?://"}),e}return n}(Nn);window.customElements.get("md-image")||(window.MarkdownImageButtonElement=Un,window.customElements.define("md-image",Un));var Fn=function(e){vn(n,e);var t=bn(n);function n(){var e;return pn(this,n),e=t.call(this),Tn.set(gn(e),{prefix:"- ",multiline:!0,surroundWithNewlines:!0}),e}return n}(Nn);window.customElements.get("md-unordered-list")||(window.MarkdownUnorderedListButtonElement=Fn,window.customElements.define("md-unordered-list",Fn));var Hn=function(e){vn(n,e);var t=bn(n);function n(){var e;return pn(this,n),e=t.call(this),Tn.set(gn(e),{prefix:"1. ",multiline:!0,orderedList:!0}),e}return n}(Nn);window.customElements.get("md-ordered-list")||(window.MarkdownOrderedListButtonElement=Hn,window.customElements.define("md-ordered-list",Hn));var Bn=function(e){vn(n,e);var t=bn(n);function n(){var e;return pn(this,n),e=t.call(this),Tn.set(gn(e),{prefix:"- [ ] ",multiline:!0,surroundWithNewlines:!0}),e}return hn(n,[{key:"connectedCallback",value:function(){fn(En(n.prototype),"connectedCallback",this).call(this),this.setAttribute("hotkey","L")}}]),n}(Nn);window.customElements.get("md-task-list")||(window.MarkdownTaskListButtonElement=Bn,window.customElements.define("md-task-list",Bn));var zn=function(e){vn(n,e);var t=bn(n);function n(){var e;return pn(this,n),e=t.call(this),Tn.set(gn(e),{prefix:"@",prefixSpace:!0}),e}return n}(Nn);window.customElements.get("md-mention")||(window.MarkdownMentionButtonElement=zn,window.customElements.define("md-mention",zn));var Vn=function(e){vn(n,e);var t=bn(n);function n(){var e;return pn(this,n),e=t.call(this),Tn.set(gn(e),{prefix:"#",prefixSpace:!0}),e}return n}(Nn);window.customElements.get("md-ref")||(window.MarkdownRefButtonElement=Vn,window.customElements.define("md-ref",Vn));var Wn=navigator.userAgent.match(/Macintosh/)?"Meta":"Control",Gn=function(e){vn(n,e);var t=bn(n);function n(){return pn(this,n),t.call(this)}return hn(n,[{key:"connectedCallback",value:function(){this.hasAttribute("role")||this.setAttribute("role","toolbar"),this.addEventListener("keydown",qn);var e=Kn.bind(null,this);this.field&&(this.field.addEventListener("keydown",e),Yn.set(this,e)),this.setAttribute("tabindex","0"),this.addEventListener("focus",$n,{once:!0})}},{key:"disconnectedCallback",value:function(){var e=Yn.get(this);e&&this.field&&(this.field.removeEventListener("keydown",e),Yn.delete(this)),this.removeEventListener("keydown",qn)}},{key:"field",get:function(){var e=this.getAttribute("for");if(e){var t=document.getElementById(e);return t instanceof HTMLTextAreaElement?t:null}}}]),n}(_n(HTMLElement));function $n(e){var t=e.target;if(t instanceof Element){t.removeAttribute("tabindex");var n,r="0",o=Sn(Mn(t));try{for(o.s();!(n=o.n()).done;){var i=n.value;i.setAttribute("tabindex",r),"0"===r&&(i.focus(),r="-1")}}catch(e){o.e(e)}finally{o.f()}}}function qn(e){var t=e.key;if("ArrowRight"===t||"ArrowLeft"===t||"Home"===t||"End"===t){var n=e.currentTarget;if(n instanceof HTMLElement){var r=Mn(n),o=r.indexOf(e.target),i=r.length;if(-1!==o){var a=0;"ArrowLeft"===t&&(a=o-1),"ArrowRight"===t&&(a=o+1),"End"===t&&(a=i-1),a<0&&(a=i-1),a>i-1&&(a=0);for(var u=0;u<i;u+=1)r[u].setAttribute("tabindex",u===a?"0":"-1");e.preventDefault(),r[a].focus()}}}}var Yn=new WeakMap;function Kn(e,t){if(t.metaKey&&"Meta"===Wn||t.ctrlKey&&"Control"===Wn){var n=e.querySelector('[hotkey="'.concat(t.key,'"]'));n&&(n.click(),t.preventDefault())}}function Zn(e){return e.trim().split("\n").length>1}function Jn(e,t){return Array(t+1).join(e)}function Xn(e,t){for(var n=t;e[n]&&null!=e[n-1]&&!e[n-1].match(/\s/);)n--;return n}function Qn(e,t,n){for(var r=t,o=n?/\n/:/\s/;e[r]&&!e[r].match(o);)r++;return r}window.customElements.get("markdown-toolbar")||(window.MarkdownToolbarElement=Gn,window.customElements.define("markdown-toolbar",Gn));var er=null;function tr(e,t){var n,r=e.value.slice(e.selectionStart,e.selectionEnd);n=t.orderedList?function(e){var t,n,r,o,i=/^\d+\.\s+/,a=e.selectionStart===e.selectionEnd,u=e.value.slice(e.selectionStart,e.selectionEnd),s=u,c=u.split("\n");if(a){var l=e.value.slice(0,e.selectionStart).split(/\n/);r=e.selectionStart-l[l.length-1].length,o=Qn(e.value,e.selectionStart,!0),s=e.value.slice(r,o)}var f=s.split("\n");if(f.every((function(e){return i.test(e)}))){if(c=f.map((function(e){return e.replace(i,"")})),u=c.join("\n"),a&&r&&o){var d=f[0].length-c[0].length;n=t=e.selectionStart-d,e.selectionStart=r,e.selectionEnd=o}}else{c=function(){var e,t,n,r=[];for(n=e=0,t=c.length;e<t;n=++e){var o=c[n];r.push("".concat(n+1,". ").concat(o))}return r}(),u=c.join("\n");var p=nr(e),m=p.newlinesToAppend,h=p.newlinesToPrepend;n=e.selectionStart+m.length,t=n+u.length,a&&(n=t),u=m+u+h}return{text:u,selectionStart:n,selectionEnd:t}}(e):t.multiline&&Zn(r)?function(e,t){var n=t.prefix,r=t.suffix,o=t.surroundWithNewlines,i=e.value.slice(e.selectionStart,e.selectionEnd),a=e.selectionStart,u=e.selectionEnd,s=i.split("\n");if(s.every((function(e){return e.startsWith(n)&&e.endsWith(r)})))i=s.map((function(e){return e.slice(n.length,e.length-r.length)})).join("\n"),u=a+i.length;else if(i=s.map((function(e){return n+e+r})).join("\n"),o){var c=nr(e),l=c.newlinesToAppend,f=c.newlinesToPrepend;a+=l.length,u=a+i.length,i=l+i+f}return{text:i,selectionStart:a,selectionEnd:u}}(e,t):function(e,t){var n,r,o=t.prefix,i=t.suffix,a=t.blockPrefix,u=t.blockSuffix,s=t.replaceNext,c=t.prefixSpace,l=t.scanFor,f=t.surroundWithNewlines,d=e.selectionStart,p=e.selectionEnd,m=e.value.slice(e.selectionStart,e.selectionEnd),h=Zn(m)&&a.length>0?"".concat(a,"\n"):o,v=Zn(m)&&u.length>0?"\n".concat(u):i;if(c){var b=e.value[e.selectionStart-1];0===e.selectionStart||null==b||b.match(/\s/)||(h=" ".concat(h))}m=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(e.selectionStart===e.selectionEnd)e.selectionStart=Xn(e.value,e.selectionStart),e.selectionEnd=Qn(e.value,e.selectionEnd,r);else{var o=e.selectionStart-t.length,i=e.selectionEnd+n.length,a=e.value.slice(o,e.selectionStart)===t,u=e.value.slice(e.selectionEnd,i)===n;a&&u&&(e.selectionStart=o,e.selectionEnd=i)}return e.value.slice(e.selectionStart,e.selectionEnd)}(e,h,v,t.multiline);var y=e.selectionStart,g=e.selectionEnd,_=s.length>0&&v.indexOf(s)>-1&&m.length>0;if(f){var w=nr(e);n=w.newlinesToAppend,r=w.newlinesToPrepend,h=n+o,v+=r}if(m.startsWith(h)&&m.endsWith(v)){var O=m.slice(h.length,m.length-v.length);if(d===p){var j=d-h.length;j=Math.max(j,y),j=Math.min(j,y+O.length),y=g=j}else g=y+O.length;return{text:O,selectionStart:y,selectionEnd:g}}if(_){if(l.length>0&&m.match(l)){v=v.replace(s,m);var E=h+v;return y=g=y+h.length,{text:E,selectionStart:y,selectionEnd:g}}var S=h+m+v;return y=y+h.length+m.length+v.indexOf(s),g=y+s.length,{text:S,selectionStart:y,selectionEnd:g}}var k=h+m+v;y=d+h.length,g=p+h.length;var x=m.match(/^\s*|\s*$/g);if(t.trimFirst&&x){var C=x[0]||"",M=x[1]||"";k=C+h+m.trim()+v+M,y+=C.length,g-=M.length}return{text:k,selectionStart:y,selectionEnd:g}}(e,t),function(e,t){var n=t.text,r=t.selectionStart,o=t.selectionEnd,i=e.selectionStart,a=e.value.slice(0,i),u=e.value.slice(e.selectionEnd);if(null===er||!0===er){e.contentEditable="true";try{er=document.execCommand("insertText",!1,n)}catch(e){er=!1}e.contentEditable="false"}if(er&&!e.value.slice(0,e.selectionStart).endsWith(n)&&(er=!1),!er){try{document.execCommand("ms-beginUndoUnit")}catch(e){}e.value=a+n+u;try{document.execCommand("ms-endUndoUnit")}catch(e){}e.dispatchEvent(new CustomEvent("input",{bubbles:!0,cancelable:!0}))}null!=r&&null!=o?e.setSelectionRange(r,o):e.setSelectionRange(i,e.selectionEnd)}(e,n)}function nr(e){var t,n,r=e.value.slice(0,e.selectionStart),o=e.value.slice(e.selectionEnd),i=r.match(/\n*$/),a=o.match(/^\n*/),u=i?i[0].length:0,s=a?a[0].length:0;return r.match(/\S/)&&u<2&&(t=Jn("\n",2-u)),o.match(/\S/)&&s<2&&(n=Jn("\n",2-s)),null==t&&(t=""),null==n&&(n=""),{newlinesToAppend:t,newlinesToPrepend:n}}function rr(e,t){var n=e.closest("markdown-toolbar");if(n instanceof Gn){var r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){xn(e,t,n[t])}))}return e}({},{prefix:"",suffix:"",blockPrefix:"",blockSuffix:"",multiline:!1,replaceNext:"",prefixSpace:!1,scanFor:"",surroundWithNewlines:!1,orderedList:!1,trimFirst:!1},t),o=n.field;o&&(o.focus(),tr(o,r))}}function or(){return Object(u.f)("svg",{className:"comment-form__toolbar-icon",viewBox:"0 0 10 16",version:"1.1",width:"10",height:"16","aria-hidden":"true"},Object(u.f)("path",{"fill-rule":"evenodd",d:"M1 2h3.83c2.48 0 4.3.75 4.3 2.95 0 1.14-.63 2.23-1.67 2.61v.06c1.33.3 2.3 1.23 2.3 2.86 0 2.39-1.97 3.52-4.61 3.52H1V2zm3.66 4.95c1.67 0 2.38-.66 2.38-1.69 0-1.17-.78-1.61-2.34-1.61H3.13v3.3h1.53zm.27 5.39c1.77 0 2.75-.64 2.75-1.98 0-1.27-.95-1.81-2.75-1.81h-1.8v3.8h1.8v-.01z"}))}function ir(){return Object(u.f)("svg",{className:"comment-form__toolbar-icon",viewBox:"0 0 18 16",version:"1.1",width:"18",height:"16","aria-hidden":"true"},Object(u.f)("path",{"fill-rule":"evenodd",d:"M13.62 9.08L12.1 3.66h-.06l-1.5 5.42h3.08zM5.7 10.13S4.68 6.52 4.53 6.02h-.08l-1.13 4.11H5.7zM17.31 14h-2.25l-.95-3.25h-4.07L9.09 14H6.84l-.69-2.33H2.87L2.17 14H0l3.3-9.59h2.5l2.17 6.34L10.86 2h2.52l3.94 12h-.01z"}))}function ar(){return Object(u.f)("svg",{className:"comment-form__toolbar-icon",viewBox:"0 0 6 16",version:"1.1",width:"6",height:"16","aria-hidden":"true"},Object(u.f)("path",{"fill-rule":"evenodd",d:"M2.81 5h1.98L3 14H1l1.81-9zm.36-2.7c0-.7.58-1.3 1.33-1.3.56 0 1.13.38 1.13 1.03 0 .75-.59 1.3-1.33 1.3-.58 0-1.13-.38-1.13-1.03z"}))}function ur(){return Object(u.f)("svg",{className:"comment-form__toolbar-icon",viewBox:"0 0 14 16",version:"1.1",width:"14",height:"16","aria-hidden":"true"},Object(u.f)("path",{"fill-rule":"evenodd",d:"M6.16 3.5C3.73 5.06 2.55 6.67 2.55 9.36c.16-.05.3-.05.44-.05 1.27 0 2.5.86 2.5 2.41 0 1.61-1.03 2.61-2.5 2.61-1.9 0-2.99-1.52-2.99-4.25 0-3.8 1.75-6.53 5.02-8.42L6.16 3.5zm7 0c-2.43 1.56-3.61 3.17-3.61 5.86.16-.05.3-.05.44-.05 1.27 0 2.5.86 2.5 2.41 0 1.61-1.03 2.61-2.5 2.61-1.89 0-2.98-1.52-2.98-4.25 0-3.8 1.75-6.53 5.02-8.42l1.14 1.84h-.01z"}))}function sr(){return Object(u.f)("svg",{className:"comment-form__toolbar-icon",viewBox:"0 0 14 16",version:"1.1",width:"14",height:"16","aria-hidden":"true"},Object(u.f)("path",{"fill-rule":"evenodd",d:"M9.5 3L8 4.5 11.5 8 8 11.5 9.5 13 14 8 9.5 3zm-5 0L0 8l4.5 5L6 11.5 2.5 8 6 4.5 4.5 3z"}))}function cr(){return Object(u.f)("svg",{className:"comment-form__toolbar-icon",viewBox:"0 0 16 16",version:"1.1",width:"16",height:"16","aria-hidden":"true"},Object(u.f)("path",{"fill-rule":"evenodd",d:"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"}))}function lr(){return Object(u.f)("svg",{className:"comment-form__toolbar-icon",width:"11.25",height:"15",viewBox:"0 0 384 512","aria-hidden":"true"},Object(u.f)("path",{"fill-rule":"evenodd",d:"M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zM332.1 128H256V51.9l76.1 76.1zM48 464V48h160v104c0 13.3 10.7 24 24 24h104v288H48zm32-48h224V288l-23.5-23.5c-4.7-4.7-12.3-4.7-17 0L176 352l-39.5-39.5c-4.7-4.7-12.3-4.7-17 0L80 352v64zm48-240c-26.5 0-48 21.5-48 48s21.5 48 48 48 48-21.5 48-48-21.5-48-48-48z"}))}function fr(){return Object(u.f)("svg",{className:"comment-form__toolbar-icon",viewBox:"0 0 12 16",version:"1.1",width:"12",height:"16","aria-hidden":"true"},Object(u.f)("path",{"fill-rule":"evenodd",d:"M2 13c0 .59 0 1-.59 1H.59C0 14 0 13.59 0 13c0-.59 0-1 .59-1h.81c.59 0 .59.41.59 1H2zm2.59-9h6.81c.59 0 .59-.41.59-1 0-.59 0-1-.59-1H4.59C4 2 4 2.41 4 3c0 .59 0 1 .59 1zM1.41 7H.59C0 7 0 7.41 0 8c0 .59 0 1 .59 1h.81c.59 0 .59-.41.59-1 0-.59 0-1-.59-1h.01zm0-5H.59C0 2 0 2.41 0 3c0 .59 0 1 .59 1h.81c.59 0 .59-.41.59-1 0-.59 0-1-.59-1h.01zm10 5H4.59C4 7 4 7.41 4 8c0 .59 0 1 .59 1h6.81c.59 0 .59-.41.59-1 0-.59 0-1-.59-1h.01zm0 5H4.59C4 12 4 12.41 4 13c0 .59 0 1 .59 1h6.81c.59 0 .59-.41.59-1 0-.59 0-1-.59-1h.01z"}))}function dr(){return Object(u.f)("svg",{className:"comment-form__toolbar-icon",viewBox:"0 0 12 16",version:"1.1",width:"12",height:"16","aria-hidden":"true"},Object(u.f)("path",{"fill-rule":"evenodd",d:"M12.01 13c0 .59 0 1-.59 1H4.6c-.59 0-.59-.41-.59-1 0-.59 0-1 .59-1h6.81c.59 0 .59.41.59 1h.01zM4.6 4h6.81C12 4 12 3.59 12 3c0-.59 0-1-.59-1H4.6c-.59 0-.59.41-.59 1 0 .59 0 1 .59 1zm6.81 3H4.6c-.59 0-.59.41-.59 1 0 .59 0 1 .59 1h6.81C12 9 12 8.59 12 8c0-.59 0-1-.59-1zm-9.4-6h-.72c-.3.19-.58.25-1.03.34V2h.75v2.14H.17V5h2.84v-.86h-1V1zm.392 8.12c-.129 0-.592.04-.802.07.53-.56 1.14-1.25 1.14-1.89C2.72 6.52 2.18 6 1.38 6c-.59 0-.97.2-1.38.64l.58.58c.19-.19.38-.38.64-.38.28 0 .48.16.48.52 0 .53-.77 1.2-1.7 2.06V10h3v-.88h-.598zm-.222 3.79v-.03c.44-.19.64-.47.64-.86 0-.7-.56-1.11-1.44-1.11-.48 0-.89.19-1.28.52l.55.64c.25-.2.44-.31.69-.31.27 0 .42.13.42.36 0 .27-.2.44-.86.44v.75c.83 0 .98.17.98.47 0 .25-.23.38-.58.38-.28 0-.56-.14-.81-.38l-.48.66c.3.36.77.56 1.41.56.83 0 1.53-.41 1.53-1.16 0-.5-.31-.81-.77-.94v.01z"}))}var pr=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),mr=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}s((r=r.apply(e,t||[])).next())}))},hr=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},vr=Object(B.a)({bold:{id:"toolbar.bold",defaultMessage:"Add bold text <cmd-b>"},header:{id:"toolbar.header",defaultMessage:"Add header text"},italic:{id:"toolbar.italic",defaultMessage:"Add italic text <cmd-i>"},quote:{id:"toolbar.quote",defaultMessage:"Insert a quote"},code:{id:"toolbar.code",defaultMessage:"Insert a code"},link:{id:"toolbar.link",defaultMessage:"Add a link <cmd-k>"},unorderedList:{id:"toolbar.unordered-list",defaultMessage:"Add a bulleted list"},orderedList:{id:"toolbar.ordered-list",defaultMessage:"Add a numbered list"},attachImage:{id:"toolbar.attach-image",defaultMessage:"Attach the image, drag & drop or paste from clipboard"}}),br=function(e){function t(t){var n=e.call(this,t)||this;return n.uploadImages=n.uploadImages.bind(n),n}return pr(t,e),t.prototype.uploadImages=function(e){return mr(this,void 0,void 0,(function(){var t,n;return hr(this,(function(r){switch(r.label){case 0:return t=e.currentTarget,this.props.allowUpload&&t&&t.files&&0!==t.files.length?(n=Array.from(t.files),[4,this.props.uploadImages(n)]):[2];case 1:return r.sent(),t.value=null,[2]}}))}))},t.prototype.render=function(e){var t=e.intl,n=t.formatMessage(vr.bold),r=t.formatMessage(vr.header),o=t.formatMessage(vr.italic),i=t.formatMessage(vr.quote),a=t.formatMessage(vr.code),s=t.formatMessage(vr.link),c=t.formatMessage(vr.unorderedList),l=t.formatMessage(vr.orderedList),f=t.formatMessage(vr.attachImage);return Object(u.f)("markdown-toolbar",{className:"comment-form__toolbar",for:e.textareaId},Object(u.f)("div",{className:"comment-form__toolbar-group"},Object(u.f)("md-header",{className:"comment-form__toolbar-item",title:r,"aria-label":r},Object(u.f)(ir,null)),Object(u.f)("md-bold",{className:"comment-form__toolbar-item",title:n,"aria-label":n},Object(u.f)(or,null)),Object(u.f)("md-italic",{className:"comment-form__toolbar-item",title:o,"aria-label":o},Object(u.f)(ar,null))),Object(u.f)("div",{className:"comment-form__toolbar-group"},Object(u.f)("md-quote",{className:"comment-form__toolbar-item",title:i,"aria-label":i},Object(u.f)(ur,null)),Object(u.f)("md-code",{className:"comment-form__toolbar-item",title:a,"aria-label":a},Object(u.f)(sr,null)),Object(u.f)("md-link",{className:"comment-form__toolbar-item",title:s,"aria-label":s},Object(u.f)(cr,null)),this.props.allowUpload?Object(u.f)("label",{className:"comment-form__toolbar-item",title:f,"aria-label":f},Object(u.f)("input",{multiple:!0,className:"comment-form__toolbar-file-input",type:"file",onChange:this.uploadImages}),Object(u.f)(lr,null)):null),Object(u.f)("div",{className:"comment-form__toolbar-group"},Object(u.f)("md-unordered-list",{className:"comment-form__toolbar-item",title:c,"aria-label":c},Object(u.f)(fr,null)),Object(u.f)("md-ordered-list",{className:"comment-form__toolbar-item",title:l,"aria-label":l},Object(u.f)(dr,null))))},t}(u.a);function yr(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=function(e,t){if(!e)return;if("string"==typeof e)return gr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gr(e,t)}(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o,i=!0,a=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(a)throw o}}}}function gr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _r(e,t){(function(e,t){var n=e.scrollTop,r=n+e.clientHeight,o=t.offsetTop,i=o+t.clientHeight;return o>=n&&i<=r})(e,t)||(e.scrollTop=t.offsetTop)}var wr=!1,Or=!!navigator.userAgent.match(/Macintosh/);function jr(e){if(!(e.shiftKey||e.metaKey||e.altKey)){var t=e.currentTarget;if((t instanceof HTMLTextAreaElement||t instanceof HTMLInputElement)&&!wr){var n=document.getElementById(t.getAttribute("aria-owns")||"");if(n)switch(e.key){case"Enter":case"Tab":(function(e,t){var n=t.querySelector('[aria-selected="true"]');return!!n&&("true"===n.getAttribute("aria-disabled")||n.click(),!0)})(0,n)&&e.preventDefault();break;case"Escape":xr(t,n);break;case"ArrowDown":kr(t,n,1),e.preventDefault();break;case"ArrowUp":kr(t,n,-1),e.preventDefault();break;case"n":Or&&e.ctrlKey&&(kr(t,n,1),e.preventDefault());break;case"p":Or&&e.ctrlKey&&(kr(t,n,-1),e.preventDefault())}}}}function Er(e){if(e.target instanceof Element){var t=e.target.closest('[role="option"]');t&&"true"!==t.getAttribute("aria-disabled")&&function(e){e.dispatchEvent(new CustomEvent("combobox-commit",{bubbles:!0}))}(t)}}function Sr(e){return!e.hidden&&(!e.type||"hidden"!==e.type)&&(e.offsetWidth>0||e.offsetHeight>0)}function kr(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=Array.from(t.querySelectorAll('[aria-selected="true"]')).filter(Sr)[0],o=Array.from(t.querySelectorAll('[role="option"]')).filter(Sr),i=o.indexOf(r),a=1===n?0:o.length-1;if(r&&i>=0){var u=i+n;u>=0&&u<o.length&&(a=u)}var s=o[a];if(s){var c,l=yr(o);try{for(l.s();!(c=l.n()).done;){var f=c.value;s===f?(e.setAttribute("aria-activedescendant",s.id),s.setAttribute("aria-selected","true"),_r(t,s)):f.setAttribute("aria-selected","false")}}catch(e){l.e(e)}finally{l.f()}}}function xr(e,t){e.removeAttribute("aria-activedescendant");var n,r=yr(t.querySelectorAll('[aria-selected="true"]'));try{for(r.s();!(n=r.n()).done;){n.value.setAttribute("aria-selected","false")}}catch(e){r.e(e)}finally{r.f()}}function Cr(e){var t=e.currentTarget;if(t instanceof HTMLTextAreaElement||t instanceof HTMLInputElement){wr="compositionstart"===e.type;var n=document.getElementById(t.getAttribute("aria-owns")||"");n&&xr(t,n)}}function Mr(e){return(Mr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Tr(e,t){return!t||"object"!==Mr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Nr(e){var t="function"==typeof Map?new Map:void 0;return(Nr=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return Ar(e,arguments,Lr(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Dr(r,e)})(e)}function Ar(e,t,n){return(Ar=Pr()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&Dr(o,n.prototype),o}).apply(null,arguments)}function Pr(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Dr(e,t){return(Dr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Lr(e){return(Lr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Rr(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=function(e,t){if(!e)return;if("string"==typeof e)return Ir(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ir(e,t)}(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o,i=!0,a=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(a)throw o}}}}function Ir(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ur(e,t,n,r,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void n(e)}u.done?t(s):Promise.resolve(s).then(r,o)}function Fr(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Ur(i,r,o,a,u,"next",e)}function u(e){Ur(i,r,o,a,u,"throw",e)}a(void 0)}))}}function Hr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Br(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zr(e,t,n){return t&&Br(e.prototype,t),n&&Br(e,n),e}var Vr=/\s|\(|\[/;function Wr(e,t,n){var r=e.lastIndexOf(t,n-1);if(-1!==r&&!(e.lastIndexOf(" ",n-1)>r)){var o=e[r-1];if(!o||Vr.test(o))return{word:e.substring(r+t.length,n),position:r+t.length}}}var Gr=["position:absolute;","overflow:auto;","word-wrap:break-word;","top:0px;","left:-9999px;"],$r=["box-sizing","font-family","font-size","font-style","font-variant","font-weight","height","letter-spacing","line-height","max-height","min-height","padding-bottom","padding-left","padding-right","padding-top","border-bottom","border-left","border-right","border-top","text-decoration","text-indent","text-transform","width","word-spacing"],qr=new WeakMap;function Yr(e,t){var n=e.nodeName.toLowerCase();if("textarea"!==n&&"input"!==n)throw new Error("expected textField to a textarea or input");var r=qr.get(e);if(r&&r.parentElement===e.parentElement)r.innerHTML="";else{r=document.createElement("div"),qr.set(e,r);var o=window.getComputedStyle(e),i=Gr.slice(0);"textarea"===n?i.push("white-space:pre-wrap;"):i.push("white-space:nowrap;");for(var a=0,u=$r.length;a<u;a++){var s=$r[a];i.push("".concat(s,":").concat(o.getPropertyValue(s),";"))}r.style.cssText=i.join(" ")}var c,l,f=document.createElement("span");if(f.style.cssText="position: absolute;",f.innerHTML="&nbsp;","number"==typeof t){var d=e.value.substring(0,t);d&&(c=document.createTextNode(d)),(d=e.value.substring(t))&&(l=document.createTextNode(d))}else{var p=e.value;p&&(c=document.createTextNode(p))}if(c&&r.appendChild(c),r.appendChild(f),l&&r.appendChild(l),!r.parentElement){if(!e.parentElement)throw new Error("textField must have a parentElement to mirror");e.parentElement.insertBefore(r,e)}return r.scrollTop=e.scrollTop,r.scrollLeft=e.scrollLeft,{mirror:r,marker:f}}var Kr=new WeakMap,Zr=function(){function e(t,n){Hr(this,e),this.expander=t,this.input=n,this.menu=null,this.oninput=this.onInput.bind(this),this.onpaste=this.onPaste.bind(this),this.onkeydown=this.onKeydown.bind(this),this.oncommit=this.onCommit.bind(this),this.onmousedown=this.onMousedown.bind(this),this.onblur=this.onBlur.bind(this),this.interactingWithList=!1,n.addEventListener("paste",this.onpaste),n.addEventListener("input",this.oninput),n.addEventListener("keydown",this.onkeydown),n.addEventListener("blur",this.onblur)}var t,n;return zr(e,[{key:"destroy",value:function(){this.input.removeEventListener("paste",this.onpaste),this.input.removeEventListener("input",this.oninput),this.input.removeEventListener("keydown",this.onkeydown),this.input.removeEventListener("blur",this.onblur)}},{key:"activate",value:function(e,t){if(this.input===document.activeElement){this.deactivate(),this.menu=t,t.id||(t.id="text-expander-".concat(Math.floor(1e5*Math.random()).toString())),this.input.setAttribute("aria-owns",t.id),this.expander.append(t);var n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.selectionEnd,n=Yr(e,t),r=n.mirror,o=n.marker,i=r.getBoundingClientRect(),a=o.getBoundingClientRect();return setTimeout((function(){r.remove()}),5e3),{top:a.top-i.top,left:a.left-i.left}}(this.input,e.position),r=n.top,o=n.left;t.style.top="".concat(r,"px"),t.style.left="".concat(o,"px"),function(e,t){e.addEventListener("compositionstart",Cr),e.addEventListener("compositionend",Cr),e.addEventListener("keydown",jr),t.addEventListener("click",Er)}(this.input,t),t.addEventListener("combobox-commit",this.oncommit),t.addEventListener("mousedown",this.onmousedown),xr(this.input,t),kr(this.input,t)}}},{key:"deactivate",value:function(){var e=this.menu;e&&(this.menu=null,e.removeEventListener("combobox-commit",this.oncommit),e.removeEventListener("mousedown",this.onmousedown),function(e,t){e.removeAttribute("aria-activedescendant"),e.removeEventListener("compositionstart",Cr),e.removeEventListener("compositionend",Cr),e.removeEventListener("keydown",jr),t.removeEventListener("click",Er)}(this.input,e),this.input.removeAttribute("aria-owns"),e.remove())}},{key:"onCommit",value:function(e){var t=e.target;if(t instanceof HTMLElement){var n=this.match;if(n){var r=this.input.value.substring(0,n.position-n.key.length),o=this.input.value.substring(n.position+n.text.length),i={item:t,key:n.key,value:null};if(!!this.expander.dispatchEvent(new CustomEvent("text-expander-value",{cancelable:!0,detail:i}))&&i.value){var a="".concat(i.value," ");this.input.value=r+a+o,this.deactivate(),this.input.focus();var u=r.length+a.length;this.input.selectionStart=u,this.input.selectionEnd=u}}}}},{key:"onBlur",value:function(){this.interactingWithList?this.interactingWithList=!1:this.deactivate()}},{key:"onPaste",value:function(){this.justPasted=!0}},{key:"onInput",value:(n=Fr(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.justPasted){e.next=3;break}return this.justPasted=!1,e.abrupt("return");case 3:if(!(t=this.findMatch())){e.next=14;break}return this.match=t,e.next=8,this.notifyProviders(t);case 8:if(n=e.sent,this.match){e.next=11;break}return e.abrupt("return");case 11:n?this.activate(t,n):this.deactivate(),e.next=16;break;case 14:this.match=null,this.deactivate();case 16:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"findMatch",value:function(){var e,t=this.input.selectionEnd,n=this.input.value,r=Rr(this.expander.keys);try{for(r.s();!(e=r.n()).done;){var o=e.value,i=Wr(n,o,t);if(i)return{text:i.word,key:o,position:i.position}}}catch(e){r.e(e)}finally{r.f()}}},{key:"notifyProviders",value:(t=Fr(regeneratorRuntime.mark((function e(t){var n,r,o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=[],r=function(e){return n.push(e)},this.expander.dispatchEvent(new CustomEvent("text-expander-change",{cancelable:!0,detail:{provide:r,text:t.text,key:t.key}}))){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,Promise.all(n);case 7:return o=e.sent,i=o.filter((function(e){return e.matched})).map((function(e){return e.fragment})),e.abrupt("return",i[0]);case 10:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"onMousedown",value:function(){this.interactingWithList=!0}},{key:"onKeydown",value:function(e){"Escape"===e.key&&(this.deactivate(),e.stopImmediatePropagation(),e.preventDefault())}}]),e}(),Jr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Dr(e,t)}(r,e);var t,n=(t=r,function(){var e,n=Lr(t);if(Pr()){var r=Lr(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return Tr(this,e)});function r(){return Hr(this,r),n.apply(this,arguments)}return zr(r,[{key:"connectedCallback",value:function(){var e=this.querySelector('input[type="text"], textarea');if(e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement){var t=new Zr(this,e);Kr.set(this,t)}}},{key:"disconnectedCallback",value:function(){var e=Kr.get(this);e&&(e.destroy(),Kr.delete(this))}},{key:"keys",get:function(){var e=this.getAttribute("keys");return e?e.split(" "):[]}}]),r}(Nr(HTMLElement));window.customElements.get("text-expander")||(window.TextExpanderElement=Jr,window.customElements.define("text-expander",Jr));var Xr=n(37),Qr=n.n(Xr),eo=n(113),to=n.n(eo);function no(e){var t,n,r=e.items,o="dark"===e.theme,i=to()(Qr.a.suggester,((t={})[Qr.a.suggesterDark]=o,t)),a=to()(Qr.a.suggesterItem,((n={})[Qr.a.suggesterItemDark]=o,n));return Object(u.f)("ul",{className:i},r.map((function(e){var t=e.key,n=e.emoji;return Object(u.f)("li",{role:"option",className:a,"data-value":t},Object(u.f)("span",{className:Qr.a.emojiResult},n)," ",t)})))}var ro=function(e){var t=e.children,r=Object(Ge.j)(),o=qe();return Object(Ge.d)((function(){if(r.current){var e=r.current;e.setAttribute("keys",":");var t=function(e){var t=e.detail;(0,t.provide)(function(e,t,r){return n.e(11).then(n.t.bind(null,756,7)).then((function(n){if(":"===e){var o=n.search(t);if(0===o.length)return Promise.resolve({matched:!1});var i=document.createDocumentFragment();return Object(u.j)(Object(u.f)(no,{theme:r,items:o.slice(0,5)}),i),Promise.resolve({matched:!0,fragment:i.firstChild})}return Promise.resolve({matched:!1})})).catch((function(){return Promise.resolve({matched:!1})}))}(t.key,t.text,o))},i=function(e){var t=e.detail,n=t.key,r=t.item;":"===n&&(e.detail.value=":"+r.dataset.value+":")};return e.addEventListener("text-expander-change",t),e.addEventListener("text-expander-value",i),function(){e.removeEventListener("text-expander-change",t),e.removeEventListener("text-expander-value",i)}}return function(){}}),[o]),$.a.config.emoji_enabled?Object(u.f)("text-expander",{ref:r},t):Object(u.f)(u.b,null,t)},oo=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),io=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}s((r=r.apply(e,t||[])).next())}))},ao=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},uo=0,so=/image\//i,co=Object(B.a)({placeholder:{id:"commentForm.input-placeholder",defaultMessage:"Your comment here"},uploadFileFail:{id:"commentForm.upload-file-fail",defaultMessage:'{fileName} upload failed with "{errorMessage}"'},uploading:{id:"commentForm.uploading",defaultMessage:"Uploading..."},uploadingFile:{id:"commentForm.uploading-file",defaultMessage:"uploading {fileName}..."},exceededSize:{id:"commentForm.exceeded-size",defaultMessage:"{fileName} exceeds size limit of {maxImageSize}"},newComment:{id:"commentForm.new-comment",defaultMessage:"New comment"},unexpectedError:{id:"commentForm.unexpected-error",defaultMessage:"Something went wrong. Please try again a bit later."},unauthorizedUploadingDisabled:{id:"commentForm.unauthorized-uploading-disabled",defaultMessage:"Image uploading is disabled for unauthorized users. You should login before uploading."},anonymousUploadingDisabled:{id:"commentForm.anonymous-uploading-disabled",defaultMessage:"Image uploading is disabled for anonymous users. Please log in not as anonymous user to be able to attach images."}}),lo=function(e){function t(t){var n=e.call(this,t)||this;n.textAreaRef=Object(u.g)(),n.onInput=function(e){var t,r=e.target.value;oe(W.j,((t={})[n.props.id]=r,t)),n.state.errorLock?n.setState({preview:null,text:r}):n.setState({isErrorShown:!1,errorMessage:null,preview:null,text:r})},n.send=function(e){return io(n,void 0,void 0,(function(){var t,n,r=this;return ao(this,(function(o){switch(o.label){case 0:if(t=this.state.text,e&&e.preventDefault(),!t||!t.trim())return[2];t===this.props.value&&(this.props.onCancel&&this.props.onCancel(),this.setState({preview:null,text:""})),this.setState({isDisabled:!0,isErrorShown:!1,text:t}),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.props.onSubmit(t,G.b||document.title)];case 2:return o.sent(),oe(W.j,(function(e){return delete e[r.props.id],e})),this.setState({preview:null,text:""}),[3,4];case 3:return n=o.sent(),this.setState({isErrorShown:!0,errorMessage:Object(et.a)(n,this.props.intl)}),[3,4];case 4:return this.setState({isDisabled:!1}),[2]}}))}))},n.renderMarkdownTip=function(){return Object(u.f)("div",{className:"comment-form__markdown"},Object(u.f)(z.a,{id:"commentForm.notice-about-styling",defaultMessage:"Styling with <a>Markdown</a> is supported",values:{a:function(e){return Object(u.f)("a",{class:"comment-form__markdown-link",target:"_blank",href:"markdown-help.html"},e)}}}))},uo+=1,n.textareaId="textarea_"+uo;var r=ne(W.j),o="";return null!==r&&r[t.id]&&(o=r[t.id]),t.value&&(o=t.value),n.state={preview:null,isErrorShown:!1,errorMessage:null,errorLock:!1,isDisabled:!1,maxLength:$.a.config.max_comment_size,text:o,buttonText:null},n.getPreview=n.getPreview.bind(n),n.onKeyDown=n.onKeyDown.bind(n),n.onDragOver=n.onDragOver.bind(n),n.onDrop=n.onDrop.bind(n),n.appendError=n.appendError.bind(n),n.uploadImage=n.uploadImage.bind(n),n.uploadImages=n.uploadImages.bind(n),n.onPaste=n.onPaste.bind(n),n}return oo(t,e),t.prototype.componentWillReceiveProps=function(e){e.value!==this.props.value&&(this.setState({text:e.value||""}),this.props.autofocus&&this.textAreaRef.current&&this.textAreaRef.current.focus()),e.user&&!this.props.value&&this.setState({isErrorShown:!1,errorMessage:null})},t.prototype.shouldComponentUpdate=function(e,t){var n=null!==this.props.user&&this.props.user.id;return(null!==e.user&&e.user.id)!==n||e.mode!==this.props.mode||e.theme!==this.props.theme||e.value!==this.props.value||e.errorMessage!==this.props.errorMessage||t!==this.state},t.prototype.onKeyDown=function(e){13===e.keyCode&&(e.metaKey||e.ctrlKey)&&this.send(e)},t.prototype.onPaste=function(e){return io(this,void 0,void 0,(function(){var t;return ao(this,(function(n){switch(n.label){case 0:return e.clipboardData&&e.clipboardData.files.length>0?(e.preventDefault(),t=Array.from(e.clipboardData.files),[4,this.uploadImages(t)]):[2];case 1:return n.sent(),[2]}}))}))},t.prototype.getPreview=function(){var e=this,t=this.textAreaRef.current?this.textAreaRef.current.getValue():this.state.text;t&&t.trim()&&(this.setState({isErrorShown:!1,errorMessage:null,text:t}),this.props.getPreview(t).then((function(t){return e.setState({preview:t})})).catch((function(){e.setState({isErrorShown:!0,errorMessage:null})})))},t.prototype.appendError=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.state.errorMessage?this.setState({errorMessage:this.state.errorMessage+"\n"+e.join("\n"),isErrorShown:!0}):this.setState({errorMessage:e.join("\n"),isErrorShown:!0})},t.prototype.onDragOver=function(e){if(this.props.user||e.preventDefault(),this.props.uploadImage&&0!==$.a.config.max_image_size&&this.textAreaRef&&e.dataTransfer){var t=Array.from(e.dataTransfer.items);0!==Array.from(t).filter((function(e){return"file"===e.kind&&so.test(e.type)})).length&&(e.preventDefault(),e.dataTransfer.dropEffect="copy")}},t.prototype.onDrop=function(e){var t=this.props.user&&Object(Yt.a)(this.props.user);if(!this.props.user||t){var n=t?co.anonymousUploadingDisabled:co.unauthorizedUploadingDisabled;return this.setState({isErrorShown:!0,errorMessage:this.props.intl.formatMessage(n)}),void e.preventDefault()}if(this.props.uploadImage&&0!==$.a.config.max_image_size&&e.dataTransfer){var r=Array.from(e.dataTransfer.files).filter((function(e){return so.test(e.type)}));0!==r.length&&(e.preventDefault(),this.uploadImages(r))}},t.prototype.uploadImage=function(e){var t=this,n=this.props.intl;return this.props.uploadImage(e).catch((function(r){return new Error(n.formatMessage(co.uploadFileFail,{fileName:e.name,errorMessage:Object(et.a)(r,t.props.intl)}))}))},t.prototype.uploadImages=function(e){return io(this,void 0,void 0,(function(){var t,n,r,o,i,a,u,s,c,l,f,d,p=this;return ao(this,(function(m){switch(m.label){case 0:if(t=this.props.intl,!this.props.uploadImage)return[2];if(!this.textAreaRef.current)return[2];if(n=($.a.config.max_image_size/1024/1024).toFixed(2)+"MB",r=5e3,o=this.textAreaRef.current.isSelectionSupported(),this.setState({errorLock:!0,errorMessage:null,isErrorShown:!1,isDisabled:!0,buttonText:t.formatMessage(co.uploading)}),o)return[3,7];d=0,m.label=1;case 1:return d<e.length?(i=e[d],a=0===d,u=0===this.state.text.length?"":"\n",i.size>$.a.config.max_image_size?(this.appendError(t.formatMessage(co.exceededSize,{fileName:i.name,maxImageSize:n})),[3,5]):!a?[4,Ie(r)]:[3,3]):[3,6];case 2:m.sent(),m.label=3;case 3:return[4,this.uploadImage(i)];case 4:if((s=m.sent())instanceof Error)return this.appendError(s.message),[3,5];c=u+"!["+s.name+"]("+s.url+")",this.setState({text:this.state.text+c}),m.label=5;case 5:return d++,[3,1];case 6:return this.setState({errorLock:!1,isDisabled:!1,buttonText:null}),[2];case 7:l=function(o){var i,a,u,s,c,l,d,m,h,v,b;return ao(this,(function(y){switch(y.label){case 0:return i=e[o],a=0===o,u=0===f.state.text.length?"":"\n",s=u+"!["+t.formatMessage(co.uploadingFile,{fileName:i.name})+"]()",c=s.length,l=f.textAreaRef.current.getSelection(),d=f.state.text,m=function(){return io(p,void 0,void 0,(function(){return ao(this,(function(e){switch(e.label){case 0:return this.setState({text:d}),[4,Ie(100)];case 1:return e.sent(),this.textAreaRef.current.setSelection(l),[2]}}))}))},i.size>$.a.config.max_image_size?(f.appendError(t.formatMessage(co.exceededSize,{fileName:i.name,maxImageSize:n})),[2,"continue"]):(f.setState({text:Kt(f.state.text,l,s)}),!a?[4,Ie(r)]:[3,2]);case 1:y.sent(),y.label=2;case 2:return[4,f.uploadImage(i)];case 3:return(h=y.sent())instanceof Error?(f.appendError(h.message),[4,m()]):[3,5];case 4:return y.sent(),[2,"continue"];case 5:return v=u+"!["+h.name+"]("+h.url+")",f.setState({text:Kt(f.state.text,[l[0],l[0]+c],v)}),[4,Ie(100)];case 6:return y.sent(),b=l[0]+v.length,f.textAreaRef.current.setSelection([b,b]),[2]}}))},f=this,d=0,m.label=8;case 8:return d<e.length?[5,l(d)]:[3,11];case 9:m.sent(),m.label=10;case 10:return d++,[3,8];case 11:return this.setState({errorLock:!1,isDisabled:!1,buttonText:null}),[2]}}))}))},t.prototype.render=function(e,t){var n=t.isDisabled,r=t.isErrorShown,o=t.errorMessage,i=t.preview,a=t.maxLength,s=t.text,c=t.buttonText,l=a-s.length;o=e.errorMessage||o;var f={main:Object(u.f)(z.a,{id:"commentForm.send",defaultMessage:"Send"}),edit:Object(u.f)(z.a,{id:"commentForm.save",defaultMessage:"Save"}),reply:Object(u.f)(z.a,{id:"commentForm.reply",defaultMessage:"Reply"})},d=c||f[e.mode||"main"],p=this.props.intl,m=p.formatMessage(co.placeholder);return Object(u.f)("form",{className:H()("comment-form",{mods:{theme:e.theme,type:e.mode||"reply",simple:e.simpleView},mix:e.mix}),onSubmit:this.send,"aria-label":p.formatMessage(co.newComment),onDragOver:this.onDragOver,onDrop:this.onDrop},!e.simpleView&&Object(u.f)("div",{className:"comment-form__control-panel"},Object(u.f)(br,{intl:p,allowUpload:Boolean(this.props.uploadImage),uploadImages:this.uploadImages,textareaId:this.textareaId})),Object(u.f)("div",{className:"comment-form__field-wrapper"},Object(u.f)(ro,null,Object(u.f)(rt,{id:this.textareaId,onPaste:this.onPaste,ref:this.textAreaRef,className:"comment-form__field",placeholder:m,value:s,maxLength:a,onInput:this.onInput,onKeyDown:this.onKeyDown,disabled:n,autofocus:!!e.autofocus,spellcheck:!0})),l<100&&Object(u.f)("span",{className:"comment-form__counter"},l)),(r||!!o)&&(o||p.formatMessage(co.unexpectedError)).split("\n").map((function(e){return Object(u.f)("p",{className:"comment-form__error",role:"alert",key:e},e)})),Object(u.f)("div",{className:"comment-form__actions"},this.props.user?Object(u.f)(u.b,null,Object(u.f)("div",null,!e.simpleView&&Object(u.f)(Fe.a,{kind:"secondary",theme:e.theme,size:"large",mix:"comment-form__button",disabled:n,onClick:this.getPreview},Object(u.f)(z.a,{id:"commentForm.preview",defaultMessage:"Preview"})),Object(u.f)(Fe.a,{kind:"primary",size:"large",mix:"comment-form__button",type:"submit",disabled:n},d)),!e.simpleView&&"main"===e.mode&&Object(u.f)("div",{className:"comment-form__rss"},this.renderMarkdownTip(),Object(u.f)(z.a,{id:"commentForm.subscribe-by",defaultMessage:"Subscribe by"})," ",Object(u.f)(ln,{userId:null!==e.user?e.user.id:null}),$.a.config.email_notifications&&Object(u.f)(u.b,null," ",Object(u.f)(z.a,{id:"commentForm.subscribe-or",defaultMessage:"or"})," ",Object(u.f)(an,null)))):Object(u.f)(u.b,null,Object(u.f)(jt,null),this.renderMarkdownTip())),!!i&&Object(u.f)("div",{className:"comment-form__preview-wrapper"},Object(u.f)("div",{className:H()("comment-form__preview",{mix:H()("raw-content",{},{theme:e.theme})}),dangerouslySetInnerHTML:{__html:i}})))},t}(u.a),fo=(n(54),n(165),n(166),n(167),n(168),n(169),n(170),n(171),n(172),n(173),n(174),n(175),n(176),n(177),n(178),n(179),n(180),n(181),n(182),n(183),n(184),n(185),n(186),function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}),po=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(fo(arguments[t]));return e};function mo(){return JSON.parse(te(W.h)||"[]")}var ho,vo,bo=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},yo=function(){return{type:"THREAD/COLLAPSE_RESTORE",ids:mo().reduce((function(e,t){var n=t.split("_");return n[0]===G.d&&n[1]===G.f&&e.push(n[2]),e}),[])}},go=function(e,t){return function(n,r){var o,i,a,u,s,c;n({type:"THREAD/COLLAPSE_SET",id:e,collapsed:t}),o=G.d,i=G.f,a=Object.entries(r().collapsedThreads).reduce((function(e,t){var n=bo(t,2),r=n[0];return n[1]&&e.push(r),e}),[]),u=a.map((function(e){return o+"_"+i+"_"+e})),s=mo().filter((function(e){return-1===e.indexOf(o+"_"+i)})),c=new Set(po(s,u)),ee(W.h,JSON.stringify(po(c)))}},_o=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};function wo(){return vo&&ho?{observer:vo,instanceMap:ho}:(ho=new WeakMap,{observer:vo=new window.IntersectionObserver((function(e){e.forEach((function(e){var t=ho.get(e.target);t&&t(e.isIntersecting)}))}),{rootMargin:"50px"}),instanceMap:ho})}function Oo(e){var t=e.children,n=_o(Object(Ge.k)(!1),2),r=n[0],o=n[1],i=Object(Ge.j)();return Object(Ge.d)((function(){var e=wo(),t=e.observer,n=e.instanceMap;return i.current&&(t.observe(i.current.base),n.set(i.current.base,o)),function(){i.current&&(t.unobserve(i.current.base),n.delete(i.current.base))}})),t({inView:r,ref:i})}var jo=function(){return(jo=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Eo=function e(t){var n=t.id,r=t.level,o=t.mix,i=t.getPreview,a=D(),s=Object(V.a)(),c=U(function(e){return function(t){var n=t.theme,r=t.comments,o=r.allComments,i=r.childComments,a=o[e];return{comment:a,childs:i[e],collapsed:Bt(a)(t),theme:n}}}(n),M),l=c.collapsed,f=c.comment,d=c.childs,p=c.theme,m=Object(Ge.a)((function(){a(go(n,!l))}),[n,l]);if(f.hidden)return null;var h=r>0,v=d?d.length:0;return Object(u.f)("div",{className:H()("thread",{mix:o},{level:r,theme:p,indented:h}),role:["listitem"].concat(!l&&v?"list":[]).join(" "),"aria-expanded":!l},Object(u.f)(Oo,null,(function(e){return Object(u.f)(qt,{CommentForm:lo,ref:e.ref,key:"comment-"+n,view:"main",intl:s,data:f,repliesCount:v,level:r,inView:e.inView})})),!l&&d&&!!d.length&&d.map((function(t){return Object(u.f)(e,{key:"thread-"+t,id:t,level:Math.min(r+1,6),getPreview:i})})),r<6&&Object(u.f)("div",jo({className:H()("thread__collapse",{mods:{collapsed:l}}),role:"button"},Object(Re.a)(m)),Object(u.f)("div",null)))},So=(n(187),n(188),n(189),function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),ko=function(){return(ko=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},xo=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}s((r=r.apply(e,t||[])).next())}))},Co=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},Mo=function(e){return{sort:e.comments.sort,isCommentsLoading:e.comments.isFetching,user:e.user,topComments:e.comments.topComments,pinnedComments:e.comments.pinnedComments.map((function(t){return e.comments.allComments[t]})).filter((function(e){return!e.hidden})),theme:e.theme,info:e.info,hiddenUsers:e.hiddenUsers,blockedUsers:e.bannedUsers,getPreview:q.m,uploadImage:q.C}},To={updateSorting:function(e){var t=this;return function(n,r){return he(t,void 0,void 0,(function(){var t;return ve(this,(function(o){switch(o.label){case 0:t=r().comments.sort,n({type:"COMMENTS/SET_SORT",payload:e}),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,n(ge(e))];case 2:return o.sent(),ee(W.k,e),[3,4];case 3:return o.sent(),n({type:"COMMENTS/SET_SORT",payload:t}),[3,4];case 4:return[2]}}))}))}},fetchComments:ge,fetchUser:function(){return function(e){return je(void 0,void 0,void 0,(function(){var t;return Ee(this,(function(n){switch(n.label){case 0:return[4,q.n()];case 1:return t=n.sent(),e(Se(t)),[2,t]}}))}))}},fetchBlockedUsers:function(){return function(e){return je(void 0,void 0,void 0,(function(){var t;return Ee(this,(function(n){switch(n.label){case 0:return[4,q.i()];case 1:return t=n.sent()||[],e({type:"USER/BANLIST_SET",list:t}),[2,t]}}))}))}},logIn:ke,logOut:function(){return function(e){return je(void 0,void 0,void 0,(function(){return Ee(this,(function(t){switch(t.label){case 0:return[4,q.q()];case 1:return t.sent(),e(_e()),e(Se()),[2]}}))}))}},setTheme:function(e){return function(t){return t({type:"THEME/SET",theme:e})}},setCommentsReadOnlyState:function(e){var t=this;return function(n,r){return ce(t,void 0,void 0,(function(){var t;return le(this,(function(o){switch(o.label){case 0:return t=r().info,[4,e?Object(q.e)():Object(q.h)()];case 1:return o.sent(),n(_e()),n(fe(se(se({},t),{read_only:e}))),[2]}}))}))}},blockUser:xe,unblockUser:Ce,hideUser:Te,unhideUser:function(e){return function(t,n){var r=ae();Object.prototype.hasOwnProperty.call(r,e)&&delete r[e],ee(W.i,JSON.stringify(r)),t({type:"USER/UNHIDE",id:e})}},addComment:be,updateComment:ye},No=Object(B.a)({pinnedComments:{id:"root.pinned-comments",defaultMessage:"Pinned comments"}}),Ao=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isUserLoading:!0,commentsShown:G.a,wasSomeoneUnblocked:!1,isSettingsVisible:!1},t.changeSort=function(e){return xo(t,void 0,void 0,(function(){return Co(this,(function(t){switch(t.label){case 0:return e===this.props.sort?[2]:[4,this.props.updateSorting(e)];case 1:return t.sent(),[2]}}))}))},t.logIn=function(e){return xo(t,void 0,void 0,(function(){var t;return Co(this,(function(n){switch(n.label){case 0:return[4,this.props.logIn(e)];case 1:return t=n.sent(),[4,this.props.fetchComments()];case 2:return n.sent(),[2,t]}}))}))},t.logOut=function(){return xo(t,void 0,void 0,(function(){return Co(this,(function(e){switch(e.label){case 0:return[4,this.props.logOut()];case 1:return e.sent(),[4,this.props.fetchComments()];case 2:return e.sent(),[2]}}))}))},t.onBlockedUsersShow=function(){return xo(t,void 0,void 0,(function(){return Co(this,(function(e){switch(e.label){case 0:return this.props.user&&this.props.user.admin?[4,this.props.fetchBlockedUsers()]:[3,2];case 1:e.sent(),e.label=2;case 2:return this.setState({isSettingsVisible:!0}),[2]}}))}))},t.onBlockedUsersHide=function(){return xo(t,void 0,void 0,(function(){return Co(this,(function(e){return this.state.wasSomeoneUnblocked&&this.props.fetchComments(),this.setState({wasSomeoneUnblocked:!1,isSettingsVisible:!1}),[2]}))}))},t.onUnblockSomeone=function(){t.setState({wasSomeoneUnblocked:!0})},t.showMore=function(){t.setState({commentsShown:t.state.commentsShown+W.l})},t.isAnonymous=function(){return Object(Yt.a)(t.props.user)},t}return So(t,e),t.prototype.componentWillMount=function(){var e=this,t=this.props.fetchUser().finally((function(){return e.setState({isUserLoading:!1})}));Promise.all([t,this.props.fetchComments()]).finally((function(){Object(Le.a)({remarkIframeHeight:document.body.offsetHeight}),setTimeout(e.checkUrlHash),window.addEventListener("hashchange",e.checkUrlHash)})),window.addEventListener("message",this.onMessage.bind(this))},t.prototype.checkUrlHash=function(e){var t=e?"#"+e.newURL.split("#")[1]:window.location.hash;if(0===t.indexOf("#"+W.c)){e&&e.preventDefault();var n=document.querySelector(t);n&&setTimeout((function(){Object(Le.a)({scrollTo:n.getBoundingClientRect().top}),n.classList.add("comment_highlighting"),setTimeout((function(){n.classList.remove("comment_highlighting")}),5e3)}),500)}},t.prototype.onMessage=function(e){try{var t="string"==typeof e.data?JSON.parse(e.data):e.data;t.theme&&W.o.includes(t.theme)&&this.props.setTheme(t.theme)}catch(e){console.error(e)}},t.prototype.render=function(e,t){var n=this,r=t.isUserLoading,o=t.commentsShown,i=t.isSettingsVisible;if(r)return Object(u.f)(Jt,{mix:"root__preloader"});var a=e.info.read_only,s=this.isAnonymous()?void 0:this.props.uploadImage;return Object(u.f)(u.b,null,Object(u.f)(Mt,{user:this.props.user,hiddenUsers:this.props.hiddenUsers,onSortChange:this.changeSort,isCommentsDisabled:a,postInfo:this.props.info,onSignIn:this.logIn,onSignOut:this.logOut,onBlockedUsersShow:this.onBlockedUsersShow,onBlockedUsersHide:this.onBlockedUsersHide,onCommentsChangeReadOnlyMode:this.props.setCommentsReadOnlyState}),Object(u.f)("div",{className:"root__main"},i?Object(u.f)(Ft,{intl:this.props.intl,user:this.props.user,hiddenUsers:this.props.hiddenUsers,blockedUsers:this.props.blockedUsers,blockUser:this.props.blockUser,unblockUser:this.props.unblockUser,hideUser:this.props.hideUser,unhideUser:this.props.unhideUser,onUnblockSomeone:this.onUnblockSomeone}):Object(u.f)(u.b,null,!a&&Object(u.f)(lo,{id:encodeURI(G.f||""),intl:this.props.intl,theme:e.theme,mix:"root__input",mode:"main",user:e.user,onSubmit:function(e,t){return n.props.addComment(e,t)},getPreview:this.props.getPreview,uploadImage:s,simpleView:$.a.config.simple_view}),this.props.pinnedComments.length>0&&Object(u.f)("div",{className:"root__pinned-comments",role:"region","aria-label":this.props.intl.formatMessage(No.pinnedComments)},this.props.pinnedComments.map((function(e){return Object(u.f)(qt,{CommentForm:lo,intl:n.props.intl,key:"pinned-comment-"+e.id,view:"pinned",data:e,level:0,disabled:!0,mix:"root__pinned-comment"})}))),!!this.props.topComments.length&&!e.isCommentsLoading&&Object(u.f)("div",{className:"root__threads",role:"list"},(W.e&&o<this.props.topComments.length?this.props.topComments.slice(0,o):this.props.topComments).map((function(e){return Object(u.f)(Eo,{key:"thread-"+e,id:e,mix:"root__thread",level:0,getPreview:n.props.getPreview})})),o<this.props.topComments.length&&W.e&&Object(u.f)(Fe.a,{kind:"primary",size:"middle",mix:"root__show-more",onClick:this.showMore},Object(u.f)(z.a,{id:"root.show-more",defaultMessage:"Show more"}))),e.isCommentsLoading&&Object(u.f)("div",{className:"root__threads",role:"list"},Object(u.f)(Jt,{mix:"root__preloader"})))))},t}(u.a),Po=function(){var e=U(Mo),t=Wt(To),n=Object(V.a)();return Object(u.f)("div",{className:H()("root",{},{theme:e.theme})},Object(u.f)(Ao,ko({},e,t,{intl:n})),Object(u.f)("p",{className:"root__copyright",role:"contentinfo"},Object(u.f)(z.a,{id:"root.powered-by",defaultMessage:"Powered by <a>Remark42</a>",values:{a:function(e){return Object(u.f)("a",{class:"root__copyright-link",href:"https://remark42.com/"},e)}}})))},Do=(n(190),n(191),n(192),n(193),n(194),n(195),n(196),n(197),n(198),n(199),n(200),n(21)),Lo=Object(Do.a)(),Ro=(Lo.isDefaultPicture,Lo.id,Lo.name,Lo.picture,function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}s((r=r.apply(e,t||[])).next())}))}),Io=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},Uo=n(33),Fo=function(e){var t=e.comments;return e.isLoading?Object(u.f)(Jt,{mix:"user-info__preloader"}):Object(u.f)("div",null,t.map((function(e){return Object(u.f)(Uo.a,{CommentForm:null,data:e,level:0,view:"user",user:null,isCommentsDisabled:!1,theme:"light",post_info:null})})))},Ho=n(35),Bo=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),zo=function(){return(zo=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Vo={fetchInfo:function(){return function(e){return Ro(void 0,void 0,void 0,(function(){var t;return Io(this,(function(n){switch(n.label){case 0:return Lo.id?[4,Object(q.o)(Lo.id,10)]:[2,null];case 1:return t=n.sent(),e({type:"USER-INFO/SET",id:Lo.id,comments:t.comments}),[2,t.comments]}}))}))}}},Wo=Object(B.a)({unexpectedError:{id:"user-info.unexpected-error",defaultMessage:"Something went wrong"}}),Go=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isLoading:!0,error:null},t}return Bo(t,e),t.prototype.componentWillMount=function(){var e=this;!this.props.comments&&this.state.isLoading&&this.props.fetchInfo().then((function(){e.setState({isLoading:!1})})).catch((function(){e.setState({isLoading:!1,error:e.props.intl.formatMessage(Wo.unexpectedError)})})),document.addEventListener("keydown",t.onKeyDown)},t.prototype.componentWillUnmount=function(){document.removeEventListener("keydown",t.onKeyDown)},t.prototype.render=function(){var e=Lo,t=this.props.comments,n=void 0===t?[]:t,r=this.state.isLoading;return e?Object(u.f)("div",{className:H()("user-info",{})},Object(u.f)(Ho.a,{mix:"user-info__avatar",picture:e.picture}),Object(u.f)("p",{className:"user-info__title"},Object(u.f)(z.a,{id:"user-info.last-comments",defaultMessage:"Last comments by {userName}",values:{userName:e.name}})),Object(u.f)("p",{className:"user-info__id"},e.id),!!n&&Object(u.f)(Fo,{isLoading:r,comments:n})):null},t.onKeyDown=function(e){27===e.keyCode&&Object(Le.a)({isUserInfoShown:!1})},t}(u.a),$o=function(e){return e.userComments[Lo.id]},qo=function(){var e=U($o),t=Wt(Vo),n=Object(V.a)();return Object(u.f)(Go,zo({comments:e},t,{intl:n}))};n(201),n(202),n(203),n(204),n(205);function Yo(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(o){return"function"==typeof o?o(n,r,e):t(o)}}}}var Ko=Yo();Ko.withExtraArgument=Yo;var Zo=Ko;var Jo=function(){this.__data__=[],this.size=0};var Xo=function(e,t){return e===t||e!=e&&t!=t};var Qo=function(e,t){for(var n=e.length;n--;)if(Xo(e[n][0],t))return n;return-1},ei=Array.prototype.splice;var ti=function(e){var t=this.__data__,n=Qo(t,e);return!(n<0)&&(n==t.length-1?t.pop():ei.call(t,n,1),--this.size,!0)};var ni=function(e){var t=this.__data__,n=Qo(t,e);return n<0?void 0:t[n][1]};var ri=function(e){return Qo(this.__data__,e)>-1};var oi=function(e,t){var n=this.__data__,r=Qo(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function ii(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ii.prototype.clear=Jo,ii.prototype.delete=ti,ii.prototype.get=ni,ii.prototype.has=ri,ii.prototype.set=oi;var ai=ii;var ui=function(){this.__data__=new ai,this.size=0};var si=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n};var ci=function(e){return this.__data__.get(e)};var li=function(e){return this.__data__.has(e)},fi=n(18),di=fi.a.Symbol,pi=Object.prototype,mi=pi.hasOwnProperty,hi=pi.toString,vi=di?di.toStringTag:void 0;var bi=function(e){var t=mi.call(e,vi),n=e[vi];try{e[vi]=void 0;var r=!0}catch(e){}var o=hi.call(e);return r&&(t?e[vi]=n:delete e[vi]),o},yi=Object.prototype.toString;var gi=function(e){return yi.call(e)},_i=di?di.toStringTag:void 0;var wi=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":_i&&_i in Object(e)?bi(e):gi(e)};var Oi=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};var ji,Ei=function(e){if(!Oi(e))return!1;var t=wi(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},Si=fi.a["__core-js_shared__"],ki=(ji=/[^.]+$/.exec(Si&&Si.keys&&Si.keys.IE_PROTO||""))?"Symbol(src)_1."+ji:"";var xi=function(e){return!!ki&&ki in e},Ci=Function.prototype.toString;var Mi=function(e){if(null!=e){try{return Ci.call(e)}catch(e){}try{return e+""}catch(e){}}return""},Ti=/^\[object .+?Constructor\]$/,Ni=Function.prototype,Ai=Object.prototype,Pi=Ni.toString,Di=Ai.hasOwnProperty,Li=RegExp("^"+Pi.call(Di).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var Ri=function(e){return!(!Oi(e)||xi(e))&&(Ei(e)?Li:Ti).test(Mi(e))};var Ii=function(e,t){return null==e?void 0:e[t]};var Ui=function(e,t){var n=Ii(e,t);return Ri(n)?n:void 0},Fi=Ui(fi.a,"Map"),Hi=Ui(Object,"create");var Bi=function(){this.__data__=Hi?Hi(null):{},this.size=0};var zi=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Vi=Object.prototype.hasOwnProperty;var Wi=function(e){var t=this.__data__;if(Hi){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return Vi.call(t,e)?t[e]:void 0},Gi=Object.prototype.hasOwnProperty;var $i=function(e){var t=this.__data__;return Hi?void 0!==t[e]:Gi.call(t,e)};var qi=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Hi&&void 0===t?"__lodash_hash_undefined__":t,this};function Yi(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Yi.prototype.clear=Bi,Yi.prototype.delete=zi,Yi.prototype.get=Wi,Yi.prototype.has=$i,Yi.prototype.set=qi;var Ki=Yi;var Zi=function(){this.size=0,this.__data__={hash:new Ki,map:new(Fi||ai),string:new Ki}};var Ji=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var Xi=function(e,t){var n=e.__data__;return Ji(t)?n["string"==typeof t?"string":"hash"]:n.map};var Qi=function(e){var t=Xi(this,e).delete(e);return this.size-=t?1:0,t};var ea=function(e){return Xi(this,e).get(e)};var ta=function(e){return Xi(this,e).has(e)};var na=function(e,t){var n=Xi(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function ra(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ra.prototype.clear=Zi,ra.prototype.delete=Qi,ra.prototype.get=ea,ra.prototype.has=ta,ra.prototype.set=na;var oa=ra;var ia=function(e,t){var n=this.__data__;if(n instanceof ai){var r=n.__data__;if(!Fi||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new oa(r)}return n.set(e,t),this.size=n.size,this};function aa(e){var t=this.__data__=new ai(e);this.size=t.size}aa.prototype.clear=ui,aa.prototype.delete=si,aa.prototype.get=ci,aa.prototype.has=li,aa.prototype.set=ia;var ua=aa;var sa=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this};var ca=function(e){return this.__data__.has(e)};function la(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new oa;++t<n;)this.add(e[t])}la.prototype.add=la.prototype.push=sa,la.prototype.has=ca;var fa=la;var da=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1};var pa=function(e,t){return e.has(t)};var ma=function(e,t,n,r,o,i){var a=1&n,u=e.length,s=t.length;if(u!=s&&!(a&&s>u))return!1;var c=i.get(e);if(c&&i.get(t))return c==t;var l=-1,f=!0,d=2&n?new fa:void 0;for(i.set(e,t),i.set(t,e);++l<u;){var p=e[l],m=t[l];if(r)var h=a?r(m,p,l,t,e,i):r(p,m,l,e,t,i);if(void 0!==h){if(h)continue;f=!1;break}if(d){if(!da(t,(function(e,t){if(!pa(d,t)&&(p===e||o(p,e,n,r,i)))return d.push(t)}))){f=!1;break}}else if(p!==m&&!o(p,m,n,r,i)){f=!1;break}}return i.delete(e),i.delete(t),f},ha=fi.a.Uint8Array;var va=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n};var ba=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n},ya=di?di.prototype:void 0,ga=ya?ya.valueOf:void 0;var _a=function(e,t,n,r,o,i,a){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!i(new ha(e),new ha(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Xo(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var u=va;case"[object Set]":var s=1&r;if(u||(u=ba),e.size!=t.size&&!s)return!1;var c=a.get(e);if(c)return c==t;r|=2,a.set(e,t);var l=ma(u(e),u(t),r,o,i,a);return a.delete(e),l;case"[object Symbol]":if(ga)return ga.call(e)==ga.call(t)}return!1};var wa=function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e},Oa=Array.isArray;var ja=function(e,t,n){var r=t(e);return Oa(e)?r:wa(r,n(e))};var Ea=function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i};var Sa=function(){return[]},ka=Object.prototype.propertyIsEnumerable,xa=Object.getOwnPropertySymbols,Ca=xa?function(e){return null==e?[]:(e=Object(e),Ea(xa(e),(function(t){return ka.call(e,t)})))}:Sa;var Ma=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r};var Ta=function(e){return null!=e&&"object"==typeof e};var Na=function(e){return Ta(e)&&"[object Arguments]"==wi(e)},Aa=Object.prototype,Pa=Aa.hasOwnProperty,Da=Aa.propertyIsEnumerable,La=Na(function(){return arguments}())?Na:function(e){return Ta(e)&&Pa.call(e,"callee")&&!Da.call(e,"callee")},Ra=n(51),Ia=/^(?:0|[1-9]\d*)$/;var Ua=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&Ia.test(e))&&e>-1&&e%1==0&&e<t};var Fa=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},Ha={};Ha["[object Float32Array]"]=Ha["[object Float64Array]"]=Ha["[object Int8Array]"]=Ha["[object Int16Array]"]=Ha["[object Int32Array]"]=Ha["[object Uint8Array]"]=Ha["[object Uint8ClampedArray]"]=Ha["[object Uint16Array]"]=Ha["[object Uint32Array]"]=!0,Ha["[object Arguments]"]=Ha["[object Array]"]=Ha["[object ArrayBuffer]"]=Ha["[object Boolean]"]=Ha["[object DataView]"]=Ha["[object Date]"]=Ha["[object Error]"]=Ha["[object Function]"]=Ha["[object Map]"]=Ha["[object Number]"]=Ha["[object Object]"]=Ha["[object RegExp]"]=Ha["[object Set]"]=Ha["[object String]"]=Ha["[object WeakMap]"]=!1;var Ba=function(e){return Ta(e)&&Fa(e.length)&&!!Ha[wi(e)]};var za=function(e){return function(t){return e(t)}},Va=n(114),Wa=Va.a&&Va.a.isTypedArray,Ga=Wa?za(Wa):Ba,$a=Object.prototype.hasOwnProperty;var qa=function(e,t){var n=Oa(e),r=!n&&La(e),o=!n&&!r&&Object(Ra.a)(e),i=!n&&!r&&!o&&Ga(e),a=n||r||o||i,u=a?Ma(e.length,String):[],s=u.length;for(var c in e)!t&&!$a.call(e,c)||a&&("length"==c||o&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Ua(c,s))||u.push(c);return u},Ya=Object.prototype;var Ka=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Ya)};var Za=function(e,t){return function(n){return e(t(n))}}(Object.keys,Object),Ja=Object.prototype.hasOwnProperty;var Xa=function(e){if(!Ka(e))return Za(e);var t=[];for(var n in Object(e))Ja.call(e,n)&&"constructor"!=n&&t.push(n);return t};var Qa=function(e){return null!=e&&Fa(e.length)&&!Ei(e)};var eu=function(e){return Qa(e)?qa(e):Xa(e)};var tu=function(e){return ja(e,eu,Ca)},nu=Object.prototype.hasOwnProperty;var ru=function(e,t,n,r,o,i){var a=1&n,u=tu(e),s=u.length;if(s!=tu(t).length&&!a)return!1;for(var c=s;c--;){var l=u[c];if(!(a?l in t:nu.call(t,l)))return!1}var f=i.get(e);if(f&&i.get(t))return f==t;var d=!0;i.set(e,t),i.set(t,e);for(var p=a;++c<s;){var m=e[l=u[c]],h=t[l];if(r)var v=a?r(h,m,l,t,e,i):r(m,h,l,e,t,i);if(!(void 0===v?m===h||o(m,h,n,r,i):v)){d=!1;break}p||(p="constructor"==l)}if(d&&!p){var b=e.constructor,y=t.constructor;b==y||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof y&&y instanceof y||(d=!1)}return i.delete(e),i.delete(t),d},ou=Ui(fi.a,"DataView"),iu=Ui(fi.a,"Promise"),au=Ui(fi.a,"Set"),uu=Ui(fi.a,"WeakMap"),su=Mi(ou),cu=Mi(Fi),lu=Mi(iu),fu=Mi(au),du=Mi(uu),pu=wi;(ou&&"[object DataView]"!=pu(new ou(new ArrayBuffer(1)))||Fi&&"[object Map]"!=pu(new Fi)||iu&&"[object Promise]"!=pu(iu.resolve())||au&&"[object Set]"!=pu(new au)||uu&&"[object WeakMap]"!=pu(new uu))&&(pu=function(e){var t=wi(e),n="[object Object]"==t?e.constructor:void 0,r=n?Mi(n):"";if(r)switch(r){case su:return"[object DataView]";case cu:return"[object Map]";case lu:return"[object Promise]";case fu:return"[object Set]";case du:return"[object WeakMap]"}return t});var mu=pu,hu=Object.prototype.hasOwnProperty;var vu=function(e,t,n,r,o,i){var a=Oa(e),u=Oa(t),s=a?"[object Array]":mu(e),c=u?"[object Array]":mu(t),l="[object Object]"==(s="[object Arguments]"==s?"[object Object]":s),f="[object Object]"==(c="[object Arguments]"==c?"[object Object]":c),d=s==c;if(d&&Object(Ra.a)(e)){if(!Object(Ra.a)(t))return!1;a=!0,l=!1}if(d&&!l)return i||(i=new ua),a||Ga(e)?ma(e,t,n,r,o,i):_a(e,t,s,n,r,o,i);if(!(1&n)){var p=l&&hu.call(e,"__wrapped__"),m=f&&hu.call(t,"__wrapped__");if(p||m){var h=p?e.value():e,v=m?t.value():t;return i||(i=new ua),o(h,v,n,r,i)}}return!!d&&(i||(i=new ua),ru(e,t,n,r,o,i))};var bu=function e(t,n,r,o,i){return t===n||(null==t||null==n||!Ta(t)&&!Ta(n)?t!=t&&n!=n:vu(t,n,r,o,e,i))};var yu=function(e,t){return bu(e,t)};function gu(e,t){return yu(e,t)?e:t}var _u=function(){return(_u=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},wu=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},Ou=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(wu(arguments[t]));return e},ju=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Eu=function e(t,n){var r,o;if(!n.replies)return t;t[n.comment.id]||(t[n.comment.id]=[]);try{for(var i=ju(n.replies),a=i.next();!a.done;a=i.next()){var u=a.value;t[n.comment.id].push(u.comment.id),u.replies&&e(t,u)}}catch(e){r={error:e}}finally{try{a&&!a.done&&(o=i.return)&&o.call(i)}finally{if(r)throw r.error}}return t},Su=function e(t,n){var r,o;return t[n.comment.id]=(r=t[n.comment.id],o=n.comment,r?r.id!==o.id?o:r.edit?o.edit?r.edit.time!==o.edit.time?o:r:o:o.edit?o:r:o),n.replies&&n.replies.reduce(e,t),t};var ku=p({sort:function(e,t){switch(void 0===e&&(e=te(W.k)||W.d),t.type){case"COMMENTS/SET_SORT":return t.payload;default:return e}},isFetching:function(e,t){switch(void 0===e&&(e=!1),t.type){case"COMMENTS/FETCHING":return!0;case"COMMENTS/FETCHING_SUCCESS":case"COMMENTS/FETCHING_FAILURE":return!1;default:return e}},topComments:function(e,t){switch(void 0===e&&(e=[]),t.type){case"COMMENTS/SET":return gu(e,t.comments.map((function(e){return e.comment.id})));case"COMMENTS/APPEND":return t.comment.pid?e:Ou([t.comment.id],e);default:return e}},childComments:function(e,t){var n;switch(void 0===e&&(e={}),t.type){case"COMMENTS/SET":return t.comments.reduce(Eu,{});case"COMMENTS/APPEND":return t.comment.pid?_u(_u({},e),((n={})[t.comment.pid]=Ou([t.comment.id],e[t.comment.pid]||[]),n)):e;default:return e}},allComments:function(e,t){var n,r,o;switch(void 0===e&&(e={}),t.type){case"COMMENTS/SET":return t.comments.reduce(Su,_u({},e));case"COMMENTS/APPEND":case"COMMENTS/EDIT":return _u(_u({},e),((n={})[t.comment.id]=t.comment,n));case"COMMENTS/PATCH":var i=e,a=!1,u={summary:"",time:(new Date).toISOString()};try{for(var s=ju(t.ids),c=s.next();!c.done;c=s.next()){var l=c.value;Object.prototype.hasOwnProperty.call(e,l)&&(a||(a=!0,i=_u({},i)),i[l]=_u(_u(_u({},i[l]),{edit:u}),t.patch))}}catch(e){r={error:e}}finally{try{c&&!c.done&&(o=s.return)&&o.call(s)}finally{if(r)throw r.error}}return i;default:return e}},activeComment:function(e,t){switch(void 0===e&&(e=null),t.type){case"COMMENT_MODE/SET":return t.mode;default:return e}},pinnedComments:function(e,t){switch(void 0===e&&(e=[]),t.type){case"COMMENTS/SET":return pe(t.comments).map((function(e){return e.id}));case"COMMENTS/EDIT":var n=e.indexOf(t.comment.id);if(!t.comment.pin){if(-1===n)return e;var r=Ou(e);return r.splice(n,1),r}return-1!==n?e:Ou(e,[t.comment.id]);case"COMMENTS/PATCH":return Object.prototype.hasOwnProperty.call(t.patch,"pin")?t.patch.pin?Ou(e,t.ids).reduce((function(e,t){return-1===e.indexOf(t)&&e.push(t),e}),[]):e.filter((function(e){return-1===t.ids.indexOf(e)})):e;default:return e}}}),xu={url:"",count:0,read_only:!1,first_time:"",last_time:""},Cu={theme:function(e,t){switch(void 0===e&&(e=$.a.query.theme),t.type){case"THEME/SET":return t.theme;default:return e}}},Mu=function(){return(Mu=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Tu=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},Nu=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Tu(arguments[t]));return e},Au={user:function(e,t){switch(void 0===e&&(e=null),t.type){case"USER/SET":return t.user;case"USER_SUBSCRIPTION/SET":return null===e?e:Mu(Mu({},e),{email_subscription:t.payload});default:return e}},bannedUsers:function(e,t){switch(void 0===e&&(e=[]),t.type){case"USER/BANLIST_SET":return t.list;case"USER/BAN":return void 0!==e.find((function(e){return e.id===t.user.id}))?e:Nu([t.user],e);case"USER/UNBAN":var n=e.findIndex((function(e){return e.id===t.id}));return-1===n?e:Nu(e.slice(0,n),e.slice(n+1));default:return e}},hiddenUsers:function(e,t){var n;switch(void 0===e&&(e={}),t.type){case"USER/HIDELIST_SET":return t.payload;case"USER/HIDE":return Mu(Mu({},e),((n={})[t.user.id]=t.user,n));case"USER/UNHIDE":if(!Object.prototype.hasOwnProperty.call(e,t.id))return e;var r=Mu({},e);return delete r[t.id],r;default:return e}}},Pu=function(){return(Pu=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Du={userComments:function(e,t){var n;switch(void 0===e&&(e={}),t.type){case"USER-INFO/SET":return Pu(Pu({},e),((n={})[t.id]=t.comments,n));default:return e}}},Lu=function(){return(Lu=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Ru={collapsedThreads:function(e,t){var n;switch(void 0===e&&(e={}),t.type){case"THREAD/COLLAPSE_RESTORE":return t.ids.reduce((function(e,t){return e[t]=!0,e}),{});case"THREAD/COLLAPSE_SET":return Lu(Lu({},e),((n={})[t.id]=t.collapsed,n));default:return e}}},Iu=function(){return(Iu=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};var Uu={provider:function(e,t){switch(void 0===e&&(e={name:null}),t.type){case"PROVIDER/UPDATE":return Iu(Iu({},e),t.payload);default:return e}}},Fu=function(){return(Fu=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Hu=p(Fu(Fu(Fu(Fu(Fu(Fu({comments:ku},{info:function(e,t){switch(void 0===e&&(e=xu),t.type){case"POST_INFO/SET":return gu(e,t.info);default:return e}}}),Cu),Au),Du),Ru),Uu)),Bu=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error("Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")},o={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},i=t.map((function(e){return e(o)}));return y({},n,{dispatch:r=g.apply(void 0,i)(n.dispatch)})}}}(Zo);var zu=function e(t,n,r){var o;if("function"==typeof n&&"function"==typeof r||"function"==typeof r&&"function"==typeof arguments[3])throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function.");if("function"==typeof n&&void 0===r&&(r=n,n=void 0),void 0!==r){if("function"!=typeof r)throw new Error("Expected the enhancer to be a function.");return r(e)(t,n)}if("function"!=typeof t)throw new Error("Expected the reducer to be a function.");var i=t,a=n,u=[],c=u,d=!1;function p(){c===u&&(c=u.slice())}function m(){if(d)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return a}function h(e){if("function"!=typeof e)throw new Error("Expected the listener to be a function.");if(d)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribelistener for more details.");var t=!0;return p(),c.push(e),function(){if(t){if(d)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribelistener for more details.");t=!1,p();var n=c.indexOf(e);c.splice(n,1),u=null}}}function v(e){if(!f(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(d)throw new Error("Reducers may not dispatch actions.");try{d=!0,a=i(a,e)}finally{d=!1}for(var t=u=c,n=0;n<t.length;n++){(0,t[n])()}return e}function b(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");i=e,v({type:l.REPLACE})}function y(){var e,t=h;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new TypeError("Expected the observer to be an object.");function n(){e.next&&e.next(m())}return n(),{unsubscribe:t(n)}}})[s.a]=function(){return this},e}return v({type:l.INIT}),(o={dispatch:v,subscribe:h,getState:m,replaceReducer:b})[s.a]=y,o}(Hu,(window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:g)(Bu)),Vu=(n(55),function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}s((r=r.apply(e,t||[])).next())}))}),Wu=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}};function Gu(){return Vu(this,void 0,void 0,(function(){var e,t,s,c,l,f;return Wu(this,(function(d){switch(d.label){case 0:return n.p=W.b+"/web/",[4,Object(r.a)()];case 1:return d.sent(),(e=document.getElementById(W.m))?((t=h({fetchHiddenUsers:Me,restoreProvider:we,restoreCollapsedThreads:yo},zu.dispatch)).fetchHiddenUsers(),t.restoreProvider(),t.restoreCollapsedThreads(),s=Object(Do.a)(),c=Object(a.a)(s),[4,Object(i.a)(c).catch((function(){return{}}))]):(console.error("Remark42: Can't find root node."),[2]);case 2:return l=d.sent(),f=$.a,[4,Object(q.k)()];case 3:return f.config=d.sent(),"user-info"===s.page?[2,Object(u.j)(Object(u.f)(o.a,{locale:c,messages:l},Object(u.f)("div",{className:"root root_user-info"},Object(u.f)(k,{store:zu},Object(u.f)(qo,null)))),e)]:(Object(u.j)(Object(u.f)(o.a,{locale:c,messages:l},Object(u.f)(k,{store:zu},Object(u.f)(Po,null))),e),[2])}}))}))}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",Gu):Gu()}]);